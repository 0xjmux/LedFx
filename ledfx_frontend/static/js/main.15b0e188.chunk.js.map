{"version":3,"sources":["utils/apiProxy.js","utils/apiStore.jsx","utils/scrollToTop.jsx","utils/Websocket.jsx","AppThemes.jsx","utils/helpers.js","App.styles.jsx","assets/blademod.svg","components/Bars/BarLeft.styles.jsx","components/Icons/Wled.jsx","components/Icons/YZ-Logo2.jsx","components/Icons/BladeIcon.jsx","components/Bars/BarLeft.jsx","assets/logo.png","components/Tours/TourDevice.jsx","components/Tours/TourScenes.jsx","components/Tours/TourSettings.jsx","components/Tours/TourDevices.jsx","components/Tours/TourIntegrations.jsx","components/Bars/BarTop.jsx","components/Dialogs/AddSceneDialog.jsx","components/SchemaForm/BladeBoolean.jsx","components/SchemaForm/BladeFrame.jsx","components/SchemaForm/BladeSelect.jsx","components/SchemaForm/BladeSlider.styles.jsx","components/SchemaForm/BladeSlider.jsx","components/SchemaForm/BladeSchemaForm.jsx","components/Dialogs/AddDeviceDialog.jsx","components/Dialogs/AddVirtualDialog.jsx","components/Dialogs/AddIntegrationDialog.jsx","components/Integrations/Spotify/ChangeSpotifyURLDialog.jsx","components/Integrations/Spotify/SpotifyWidget.jsx","components/AddButton.jsx","components/Bars/BarBottom.styles.jsx","components/Bars/BarBottom.jsx","components/Bars/BarMessage.jsx","components/Dialogs/Download.jsx","components/Dialogs/NoHostDialog.jsx","assets/ring.png","components/Tours/TourHome.jsx","components/Icons/FX.jsx","pages/Home.jsx","components/Popover.jsx","components/Dialogs/_AddSegmentDialog.jsx","pages/Devices/EditVirtuals/PixelSlider.jsx","pages/Devices/EditVirtuals/Segment.styles.jsx","pages/Devices/EditVirtuals/Segment.jsx","pages/Devices/EditVirtuals/EditVirtuals.styles.jsx","pages/Devices/EditVirtuals/EditVirtuals.jsx","components/PixelGraph.jsx","pages/Devices/DeviceCard/DeviceCard.styles.jsx","pages/Devices/DeviceCard/DeviceCard.jsx","components/NoYet.tsx","pages/Devices/Devices.jsx","components/SchemaForm/BladeEffectDropDown.jsx","utils/useClickOutside.jsx","components/SchemaForm/BladeColorPicker.jsx","components/SchemaForm/BladeColorNewPicker.jsx","components/SchemaForm/BladeGradientPicker.jsx","components/SchemaForm/BladeColorDropDown.jsx","components/SchemaForm/BladeEffectSchemaForm.jsx","components/Tours/TourEffect.jsx","pages/Device/Effects.jsx","pages/Device/Cloud/CloudComponents.jsx","pages/Device/Cloud/Cloud.jsx","pages/Device/PresetButton.jsx","pages/Device/Presets.jsx","pages/Device/Transition.jsx","pages/Device/Frequencies.jsx","pages/Device/Device.jsx","pages/Scenes/Scenes.jsx","pages/Settings/AudioCard.jsx","pages/Settings/WledCard.jsx","pages/Settings/Webaudio.jsx","pages/Settings/ClientAudioCard.jsx","pages/Settings/SettingsComponents.jsx","pages/Settings/UICard.jsx","components/Dialogs/AboutDialog.jsx","pages/Settings/GeneralCard.jsx","pages/Settings/Settings.jsx","pages/Integrations/IntegrationCard/IntegrationCard.styles.jsx","pages/Integrations/IntegrationCard/IntegrationCard.jsx","pages/Integrations/Integrations.jsx","pages/LoginRedirect.js","components/Icons/waves.jsx","utils/useWindowDimension.jsx","App.jsx","reportWebVitals.js","utils/ErrorBoundary.jsx","index.js"],"names":["storedURL","window","localStorage","getItem","api","axios","create","baseURL","Ledfx","path","set","a","method","body","response","put","delete","post","get","data","payload","ui","snackbar","isOpen","messageType","type","message","reason","JSON","stringify","status","error","useStore","persist","devtools","host","setHost","setItem","title","state","features","cloud","wled","integrations","spotify","formsettings","webaudio","waves","setFeatures","feat","use","showFeatures","setShowFeatures","show","tours","home","devices","device","scenes","settings","setTour","tour","disconnected","setDisconnected","dis","viewMode","setViewMode","mode","schemaForm","color_mode","bool_mode","gradient_mode","setSchemaForm","attrib","value","pixelGraphs","setPixelGraphs","virtuals","dialogs","nohost","open","edit","addScene","addDevice","addVirtual","addIntegration","setDialogOpen","setDialogOpenAddScene","setDialogOpenAddDevice","setDialogOpenAddVirtual","setDialogOpenAddIntegration","bars","leftBar","setLeftBarOpen","showSnackbar","clearSnackbar","isLogged","setIsLogged","logged","getDevices","resp","config","updateDevice","deviceId","getVirtuals","paused","updateVirtual","virtId","active","deleteVirtual","clearVirtualEffect","setVirtualEffect","effect","name","updateVirtualEffect","updateVirtualSegments","segments","presets","getPresets","effectId","addPreset","activatePreset","category","effectType","presetId","effect_id","preset_id","deletePreset","getScenes","scene_image","activateScene","id","action","deleteScene","getIntegrations","updateIntegration","toggleIntegration","deleteIntegration","schemas","getSchemas","getSystemConfig","ledfx_presets","undefined","getFullConfig","setSystemConfig","deleteSystemConfig","importSystemConfig","scanForDevices","togglePause","graphs","toggleGraphs","shutdown","timeout","restart","getInfo","getPing","getDevice","key","active_virtuals","webAud","setWebAud","newState","webAudName","setWebAudName","clientDevice","clientDevices","setClientDevice","setClientDevices","spotifyEmbedUrl","setSpotifyEmbedUrl","url","ScrollToTop","pathname","useLocation","useLayoutEffect","scrollTo","ws","_ws","Sockette","replace","maxAttempts","onopen","e","document","dispatchEvent","CustomEvent","detail","isDisconnected","target","onmessage","event","parse","event_type","vis_id","pixels","onreconnect","console","log","onmaximum","onclose","removeItem","onerror","createSocket","WsContext","React","createContext","HandleWs","useState","wsReady","setWsReady","startsWith","useEffect","length","map","d","i","getWs","request","event_filter","is_device","send","removeGetWs","BladeDarkGreenTheme","createTheme","palette","primary","main","secondary","accent","background","default","paper","props","MuiCard","variant","BladeDarkBlueTheme","BladeDarkTheme","typography","BladeDarkGreyTheme","BladeDarkOrangeTheme","BladeLightTheme","drawerWidth","download","content","fileName","contentType","createElement","file","Blob","href","URL","createObjectURL","click","swap","array","j","deleteFrontendConfig","useStyles","makeStyles","theme","backgroundColor","width","borderRadius","display","root","drawerHeader","justifyContent","alignItems","padding","spacing","mixins","toolbar","flexGrow","transition","transitions","easing","sharp","duration","leavingScreen","marginLeft","contentShift","easeOut","enteringScreen","drawer","flexShrink","drawerPaper","overflowX","paddingTop","isElectron","logo","position","zIndex","logoLink","fontSize","textAlign","fontWeight","lineHeight","textDecoration","color","logoImage","maxHeight","marginRight","top","verticalAlign","border","devbadge","backgroundImage","blademod","backgroundSize","height","backgroundRepeat","backgroundPosition","activeView","boxShadow","shadows","Wled","stroke","strokeWidth","strokeLinejoin","strokeLinecap","viewBox","fill","Bottom","style","strokeMiterlimit","Top","Y","points","Z","YZLogo2Bottom","transform","marginTop","transformOrigin","xmlns","version","shapeRendering","textRendering","imageRendering","fillRule","clipRule","YZLogo2Top","YZLogo2Y","YZLogo2Z","YZLogo2","BladeIcon","str","colorIndicator","className","scene","card","Icon","split","toLowerCase","slice","letter","LeftBar","classes","useTheme","setOpen","smallScreen","useMediaQuery","handleDrawerClose","src","alt","img","onClick","Drawer","anchor","IconButton","direction","ChevronLeft","ChevronRight","Divider","List","Object","keys","to","ListItem","dummy","button","ListItemIcon","icon_name","ListItemText","light","text","steps","selector","paddingLeft","TourDevice","cally","isTourOpen","setIsTourOpen","invisible","MenuItem","Badge","InfoRounded","accentColor","onRequestClose","TourScenes","TourSettings","TourDevices","TourIntegrations","appBar","appBarShift","menuButton","hide","backButton","bladeMenu","grey","StyledBadge","styled","right","TopBar","history","useHistory","loading","success","changeHost","setAnchorEl","anchorEl","addEventListener","AppBar","clsx","Toolbar","edge","Button","startIcon","goBack","Typography","noWrap","pop","Box","CircularProgress","size","left","currentTarget","MoreVert","Menu","keepMounted","Boolean","onClose","disabled","divider","badgeContent","GitHub","Language","PlayCircleOutline","Pause","BarChart","component","Link","preventDefault","logout","location","origin","Logout","Login","AddSceneDialog","setName","image","setImage","overwrite","setOverwrite","handleClose","Dialog","DialogTitle","DialogContent","wordBreak","TextField","autoFocus","margin","label","onChange","onBlur","indexOf","helperText","required","fullWidth","DialogActions","then","flexWrap","maxWidth","wrapper","flexBasis","minWidth","fontVariant","letterSpacing","boxSizing","BladeBoolean","schema","model","hideDesc","model_id","index","Frame","children","replaceAll","FormControlLabel","control","Switch","defaultValue","checked","b","description","Checkbox","BladeFrame","full","BladeSelect","wrapperStyle","selectStyle","textStyle","menuItemStyle","enum","values","every","Select","disableUnderline","item","Array","isArray","parseInt","find","en","includes","input","touchAction","BladeSliderInner","step","textfield","marks","setValue","handleSliderChange","newValue","maximum","Slider","valueLabelDisplay","min","minimum","max","onChangeCommitted","Input","Number","inputProps","m","InputProps","BladeSlider","bladeSchemaForm","FormListHeaders","BladeSchemaForm","hideToggle","colorMode","boolMode","boolVariant","selectVariant","sliderVariant","onModelChange","_boolMode","_setBoolMode","_boolVariant","_setBoolVariant","_selectVariant","_setSelectVariant","_sliderVariant","_setSliderVariant","_colorMode","_setColorMode","setHideDesc","yzSchema","properties","sk","permitted","permitted_keys","sort","Fab","s","c","group","audio_groups","audio_device","entries","onlyUnique","self","filter","order","FormSelect","ind","ListSubheader","FormListItem","DialogContentText","marginBottom","Info","labelPlacement","FormControl","InputLabel","labelId","AddDeviceDialog","initial","deviceTypes","deviceType","setDeviceType","setModel","currentSchema","handleTypeChange","constructor","toUpperCase","cleanedModel","fromEntries","defaultModel","val","res","AddVirtualDialog","virtualsSchemas","handleModelChange","AddIntegrationDialog","integrationId","integrationsTypes","integrationType","setIntegrationType","ChangeSpotifyURLDialog","spotifyURL","setSpotifyURL","setUrl","SpotifyWidget","spotifyEnabled","setSpotifyEnabled","spotifyExpanded","setSpotifyExpanded","bottom","QueueMusic","frameBorder","allowtransparency","allow","MenuLine","forwardRef","ref","icon","Send","StyledMenu","withStyles","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","AddButton","setBackdrop","menuitems","SettingsInputComponent","Wallpaper","push","SettingsInputSvideo","Add","menuitem","rootShift","addButton","addButtonShift","LabelBottomNavigation","backdrop","leftOpen","BottomNavigation","showLabels","BottomNavigationAction","Home","Backdrop","Alert","MessageBar","Snackbar","autoHideDuration","severity","LinearProgressWithLabel","sx","mr","LinearProgress","Math","round","createFilterOptions","NoHostDialog","dialogOpen","storedURLs","hosts","setHosts","hostvalue","setHostvalue","progress","setProgress","receive","parameters","percent","process","argv","Autocomplete","inputValue","filterOptions","options","params","filtered","getOptionLabel","option","renderOption","Delete","stopPropagation","h","handleDelete","renderInput","selectOnFocus","clearOnBlur","handleHomeEndKeys","freeSolo","some","TourHome","FX","currentColor","sleep","ms","Promise","resolve","setTimeout","scanning","setScanning","logoCircle","Card","CardHeader","CardContent","CardActions","sec","Popover","onConfirm","confirmDisabled","confirmContent","onSingleClick","onDoubleClick","openOnDoubleClick","openOnLongPress","footer","noIcon","popoverStyle","openPopover","longPress","useLongPress","onCancel","treshhold","captureEvent","Check","Close","ConfirmationDialogRaw","valueProp","other","deviceList","disableEscapeKeyDown","dividers","ConfirmationDialog","virtual","endIcon","role","test","pixel_count","t","PixelSlider","handleRangeSegment","range","setRange","pixelRange","n","useSegmentStyles","segmentsWrapper","borderBottom","segmentsColOrder","segmentsButtonUp","borderTopRightRadius","borderBottomRightRadius","segmentsButtonDown","borderTopLeftRadius","borderBottomLeftRadius","segmentsColPixelSlider","flex","segmentsColActions","flexDirection","Segment","reorder","newSegments","start","end","seg","useEditVirtualsStyles","dialog","segmentTitle","segmentButtonWrapper","cloudEffectCard","cursor","borderColor","Transition","Slide","MuiMenuItem","FullScreenDialog","innerKey","handleClickOpen","output","tmp","forEach","items","y","overlap","startNew","endNew","getOverlapping","k","fullScreen","TransitionComponent","PixelWrapper","overflow","Pixel","PixelGraph","setPixels","handleWebsockets","removeEventListener","p","useDeviceCardStyles","virtualCardPortrait","virtualLink","alignSelf","virtualIconWrapper","virtualIcon","transitionDelay","virtualCardContainer","iconMedia","editButton","editButtonMobile","expand","shortest","expandOpen","buttonBarMobile","buttonBarMobileWrapper","pixelbar","opacity","transitionDuration","pixelbarOut","DeviceCard","fade","setFade","isActive","setIsActive","expanded","setExpanded","NavLink","PlayArrow","transition_time","Clear","preview_only","previewButton","Collapse","in","unmountOnExit","handleDeleteDevice","handleEditVirtual","NoYet","avatar","subheader","defaultProps","cardWrapper","Devices","FormRow","FormLabel","pointerEvents","FormToggleWrapper","FormToggle","BladeEffectDropDown","effects","effectNames","eid","reduce","r","formats","setFormats","htmlFor","onEffectTypeChange","ToggleButtonGroup","newFormats","ToggleButton","useClickOutside","handler","startedInside","startedWhenMounted","listener","current","contains","validateEventStart","picker","coloring","red","orange","yellow","green","cyan","blue","purple","pink","magenta","black","white","gold","hotpink","lightblue","lightgreen","lightpink","lightyellow","maroon","mint","olive","peach","plum","sepia","skyblue","steelblue","tan","violetred","BladeColorPicker","sendColor","col","clr","popover","useRef","useCallback","ClickAwayListener","onClickAway","Popper","BladeColorNewPicker","colorNew","setColorNew","handleColorChange","pickerItemWrapper","pickerItemGradient","pickerItemLabel","gradients","colors","BladeGradientPicker","effectyz","solid_color","join","cg","BladeColorDropDown","selectedType","curEffSchema","v","BladeEffectSchemaForm","virtual_id","colorKeys","pickerKeys","handleEffectConfig","TourEffect","number","showNavigation","showNumber","actionButton","paddingBottom","EffectsCard","Casino","Accordion","paddin","defaultExpanded","AccordionSummary","expandIcon","AccordionDetails","CloudScreen","cloudEffects","setCloudEffects","activeCloudPreset","setActiveCloudPreset","refreshPresets","headers","Authorization","alert","cEffects","Name","handleCloudPresets","save","ledfx_id","Grid","container","user","username","CloudDownload","PresetButton","delPreset","uploadPresetCloud","deletePresetCloud","buttonColor","onContextMenu","MenuListProps","CloudUpload","CloudOff","presetButton","buttonGrid","hint","actions","deviceCard","PresetsCard","valid","setValid","list","preset","existing","exists","eff","effId","handleActivatePreset","renderPresetsButton","CATEGORY","handleRemovePreset","handleAddPreset","default_presets","custom_presets","onKeyDown","Cloud","formControl","TransitionCard","transition_mode","handleSetTransition","minHeight","logIt","x","log13","hzIt","ValueLabelComponent","Tooltip","enterTouchDelay","placement","FrequenciesCard","frequency_min","frequency_max","freq_max","melbanks","max_frequencies","f","freq_min","min_frequency","convertedMarks","copy","abs","InputLabelProps","shrink","endAdornment","InputAdornment","virtualWrapper","girdItem","Device","match","Effects","Presets","sceneTitle","media","Scenes","info","setInfo","setScene","handleInfoClose","SceneDialog","dev","CardActionArea","iconName","CardMedia","aligntItems","gutterBottom","handleInfoOpen","AudioCard","audio","rowContainer","rowB","row","check","WledCard","toggleSetting","setting","wled_preferences","user_enabled","onChangeSetting","scan_on_startup","heading","wled_preferred_mode","realtime_gamma_enabled","force_max_brightness","realtime_dmx_mode","start_universe_setting","dmx_address_start","inactivity_timeout","getMedia","navigator","mediaDevices","getUserMedia","enumerateDevices","video","Webaudio","audioContext","AudioContext","webkitAudioContext","stream","source","createMediaStreamSource","scriptNode","createScriptProcessor","connect","destination","sendWs","sampleRate","context","bufferSize","client","onaudioprocess","inputBuffer","getChannelData","readyState","getTracks","track","stop","close","reload","catch","err","select","ClientAudioCard","cd","kind","settingsRow","audioCard","SettingsSlider","SettingsSwitch","focusVisibleClassName","disableRipple","SettingsButton","UICard","sliderClasses","useSliderStyles","fps","setFps","pixelLength","setPixelLength","setActive","setDev","setSystemSetting","visualisation_fps","visualisation_maxlen","onFocus","AboutDialog","gitInfo","bcommit","setBcommit","bversion","setBversion","git_build_commit","PaperProps","substring","configuration_version","fversion","commit","hash","shortHash","GeneralCard","configDownload","newConfig","configDelete","fileChanged","fileReader","FileReader","readAsText","files","onload","result","hidden","accept","Refresh","PowerSettingsNew","Settings","handleExpanded","panel","isExpanded","useIntegrationCardStyles","integrationCardPortrait","integrationLink","integrationIcon","margingBottom","integrationCardContainer","buttonBar","IntegrationCard","integration","handleEditIntegration","handleActivateIntegration","Integrations","LoginRedirect","setText","useParams","fetch","providerName","search","Error","json","jwt","me","WaveLines","startColor","stopColor","xmlnsXlink","preserveAspectRatio","x1","x2","y1","y2","offset","attributeName","dur","repeatCount","keyTimes","calcmod","keySplines","begin","getWindowDimensions","innerWidth","innerHeight","App","leftBarOpen","windowDimensions","setWindowDimensions","handleResize","useWindowDimensions","ledfxTheme","ledfxThemes","Provider","CssBaseline","basename","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ErrorBoundary","hasError","errorInfo","this","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.15b0e188.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst baseURL = 'http://localhost:8888';\r\nconst storedURL = window.localStorage.getItem('ledfx-host');\r\n\r\nconst api = axios.create({\r\n  baseURL: storedURL || baseURL,\r\n});\r\n\r\nexport const Ledfx = async (path, set, method = 'GET', body) => {\r\n  try {\r\n    let response = null;\r\n    switch (method) {\r\n      case 'PUT':\r\n        response = await api.put(path, body);\r\n        break;\r\n      case 'DELETE':\r\n        response = await api.delete(path, body);\r\n        break;\r\n      case 'POST':\r\n        response = await api.post(path, body);\r\n        break;\r\n\r\n      default:\r\n        response = await api.get(path);\r\n        break;\r\n    }\r\n    \r\n    if (response.data && response.data.payload){\r\n      // console.log(\"YZ1\", response)\r\n      set({\r\n        ui: {\r\n          snackbar: {\r\n            isOpen: true,\r\n            messageType: response.data.payload.type || 'error',\r\n            message:\r\n              response.data.payload.reason || response.data.payload.message || JSON.stringify(response.data.payload),\r\n          },\r\n        },\r\n      });\r\n      if (response.data.status) {\r\n        return response.data.status\r\n      }\r\n    }\r\n    if (response.payload) {\r\n      // console.log(\"YZ2\", response)\r\n      set({\r\n        ui: {\r\n          snackbar: {\r\n            isOpen: true,\r\n            messageType: response.payload.type || 'error',\r\n            message:\r\n              response.payload.reason || response.payload.message || JSON.stringify(response.payload),\r\n          },\r\n        },\r\n      });\r\n    }\r\n    if (response.status === 200) {\r\n      // console.log(\"YZ3\", response)\r\n      return response.data || response;\r\n    }\r\n\r\n    set({\r\n      ui: {\r\n        snackbar: {\r\n          isOpen: true,\r\n          messageType: 'error',\r\n          message: response.error || JSON.stringify(response),\r\n        },\r\n      },\r\n    });\r\n  } catch (error) {\r\n   \r\n    // console.log(\"YZ4\", JSON.parse(JSON.stringify(error)))\r\n    if (error.message) {\r\n      return set({\r\n        ui: {\r\n          snackbar: {\r\n            isOpen: true,\r\n            messageType: 'error',\r\n            message: JSON.stringify(error.message),\r\n          },\r\n        },\r\n      });\r\n    }\r\n    set({\r\n      ui: {\r\n        snackbar: {\r\n          isOpen: true,\r\n          messageType: 'error',\r\n          message: JSON.stringify(error, null, 2),\r\n        },\r\n      },\r\n    });\r\n    // console.log(error);\r\n  }\r\n};\r\n","import create from 'zustand';\r\nimport { devtools, persist } from 'zustand/middleware';\r\nimport { Ledfx } from './apiProxy';\r\n\r\nconst useStore = create(\r\n  persist(\r\n    devtools((set, get) => ({\r\n\r\n      host: 'http://localhost:8888',\r\n      setHost: (host) => {\r\n        window.localStorage.setItem('ledfx-host', host.title ? host.title : host);\r\n        return set((state) => ({\r\n          host,\r\n        }));\r\n      },\r\n\r\n      // FRONTEND STUFF\r\n\r\n      features: {\r\n        cloud: false,\r\n        wled: false,\r\n        integrations: false,\r\n        spotify: false,\r\n        formsettings: false,\r\n        webaudio: false,\r\n        waves: false,\r\n      },\r\n      setFeatures: (feat, use) => set((state) => ({\r\n        features: {\r\n          ...state.features,\r\n          [feat]: use\r\n        }\r\n      })),\r\n      showFeatures: {\r\n        cloud: false,\r\n        wled: false,\r\n        integrations: false,\r\n        spotify: false,\r\n        formsettings: false,\r\n        webaudio: false,\r\n        waves: false,\r\n      },\r\n      setShowFeatures: (feat, show) => set((state) => ({\r\n        showFeatures: {\r\n          ...state.showFeatures,\r\n          [feat]: show\r\n        }\r\n      })),\r\n      tours: {\r\n        home: false,\r\n        devices: false,\r\n        device: false,\r\n        integrations: false,\r\n        scenes: false,\r\n        settings: false\r\n      },\r\n      setTour: (tour) => set((state) => ({\r\n        tours: {\r\n          ...state.tours,\r\n          [tour]: true\r\n        }\r\n      })),\r\n\r\n      disconnected: false,\r\n      setDisconnected: (dis) => set(() => ({\r\n        disconnected: dis\r\n      })),\r\n\r\n      viewMode: 'user',\r\n      setViewMode: (mode) => set(() => ({\r\n        viewMode: mode\r\n      })),\r\n\r\n      schemaForm: {\r\n        color_mode: 'picker',\r\n        bool_mode: 'switch',\r\n        gradient_mode: 'picker-var2',\r\n      },\r\n      setSchemaForm: (attrib, value) => set((state) => ({\r\n        schemaForm: {\r\n          ...state.schemaForm,\r\n          [attrib]: value\r\n        }\r\n      })),\r\n      pixelGraphs: [],\r\n      setPixelGraphs: (virtuals) => set((state) => ({\r\n        pixelGraphs: [...virtuals]\r\n      })),\r\n\r\n      dialogs: {\r\n        nohost: {\r\n          open: false,\r\n          edit: false\r\n        },\r\n        addScene: {\r\n          open: false,\r\n        },\r\n        addDevice: {\r\n          open: false,\r\n          edit: {},\r\n        },\r\n        addVirtual: {\r\n          open: false,\r\n          edit: {},\r\n        },\r\n        addIntegration: {\r\n          open: false,\r\n          edit: {},\r\n        },\r\n      },\r\n      setDialogOpen: (open, edit = false) => set((state) => ({\r\n        dialogs: {\r\n          ...state.dialogs,\r\n          nohost: {\r\n            open: open,\r\n            edit: edit,\r\n          },\r\n        },\r\n      })),\r\n      setDialogOpenAddScene: (open, edit = false) => set((state) => ({\r\n        dialogs: {\r\n          ...state.dialogs,\r\n          addScene: {\r\n            open,\r\n            edit,\r\n          },\r\n        },\r\n      })),\r\n      setDialogOpenAddDevice: (open, edit = false) => set((state) => ({\r\n        dialogs: {\r\n          ...state.dialogs,\r\n          addDevice: {\r\n            open,\r\n            edit,\r\n          },\r\n        },\r\n      })),\r\n      setDialogOpenAddVirtual: (open, edit = false) => set((state) => ({\r\n        dialogs: {\r\n          ...state.dialogs,\r\n          addVirtual: {\r\n            open,\r\n            edit,\r\n          },\r\n        },\r\n      })),\r\n      setDialogOpenAddIntegration: (open, edit = false) => set((state) => ({\r\n        dialogs: {\r\n          ...state.dialogs,\r\n          addIntegration: {\r\n            open,\r\n            edit,\r\n          },\r\n        },\r\n      })),\r\n\r\n      ui: {\r\n        snackbar: {\r\n          isOpen: false,\r\n          type: 'error',\r\n          message: 'NO MESSAGE',\r\n        },\r\n        bars: {\r\n          leftBar: {\r\n            open: false,\r\n          },\r\n        }\r\n      },\r\n      setLeftBarOpen: (open) => set((state) => ({\r\n        ui: {\r\n          ...state.ui,\r\n          bars: {\r\n          leftBar: {\r\n            open,\r\n          },\r\n        }},\r\n      })),\r\n      showSnackbar: ({ messageType, message }) => {\r\n        set((state) => ({\r\n          ui: {\r\n            ...state.ui,\r\n            snackbar: { isOpen: true, message, messageType },\r\n          },\r\n        }));\r\n      },\r\n      clearSnackbar: () => {\r\n        set((state) => ({\r\n          ui: {\r\n            ...state.ui,\r\n            snackbar: {\r\n              ...state.ui.snackbar,\r\n              isOpen: false,\r\n            },\r\n          },\r\n        }));\r\n      },\r\n\r\n      // Cloud\r\n      // const [isLogged, setIsLogged] = useState(!!localStorage.getItem('jwt'));\r\n      isLogged: false,\r\n      setIsLogged: (logged) => set(() => ({\r\n        isLogged: logged\r\n      })),\r\n      // API\r\n      devices: {},\r\n      getDevices: async () => {\r\n        const resp = await Ledfx('/api/devices', set);\r\n        if (resp && resp.devices) {\r\n          set({ devices: resp.devices });\r\n        }\r\n      },\r\n      addDevice: async (config) => await Ledfx(\r\n        `/api/devices`,\r\n        set,\r\n        'POST',\r\n        config,\r\n      ),\r\n      updateDevice: async (deviceId, config) => await Ledfx(\r\n        `/api/devices/${deviceId}`,\r\n        set,\r\n        'PUT',\r\n        config,\r\n      ),\r\n\r\n      virtuals: {},\r\n      getVirtuals: async () => {\r\n        const resp = await Ledfx('/api/virtuals', set);\r\n        if (resp) {          \r\n          set({ paused: resp.paused });\r\n          if (resp && resp.virtuals) {          \r\n            set({ virtuals: resp.virtuals });\r\n          }\r\n        }\r\n      },\r\n      addVirtual: async (config) => await Ledfx(\r\n        `/api/virtuals`,\r\n        set,\r\n        'POST',\r\n        config,\r\n      ),\r\n      updateVirtual: async (virtId, { active }) => await Ledfx(\r\n        `/api/virtuals/${virtId}`,\r\n        set,\r\n        'PUT',\r\n        {\r\n          active: active\r\n        },\r\n      ),\r\n      deleteVirtual: async (virtId) => await Ledfx(\r\n        `/api/virtuals/${virtId}`,\r\n        set,\r\n        'DELETE',\r\n      ),\r\n      clearVirtualEffect: async (virtId) => await Ledfx(\r\n        `/api/virtuals/${virtId}/effects`,\r\n        set,\r\n        'DELETE',\r\n      ),\r\n      setVirtualEffect: async (virtId, { type, config, active }) => {\r\n        const resp = await Ledfx(\r\n          `/api/virtuals/${virtId}/effects`,\r\n          set,\r\n          'POST',\r\n          {\r\n            type,\r\n            config,\r\n            active,\r\n          },\r\n        );\r\n\r\n        if (resp && resp.effect) {\r\n          set({\r\n            virtuals: get().virtuals,\r\n            ...{\r\n              [virtId]: {\r\n                effect: {\r\n                  type: resp.effect.type,\r\n                  name: resp.effect.name,\r\n                  config: resp.effect.config,\r\n                },\r\n              },\r\n            },\r\n\r\n          });\r\n        }\r\n      },\r\n      updateVirtualEffect: async (virtId, { type, config, active }) => {\r\n        const resp = await Ledfx(\r\n          `/api/virtuals/${virtId}/effects`,\r\n          set,\r\n          'PUT',\r\n          {\r\n            type,\r\n            config,\r\n            active,\r\n          },\r\n        );\r\n        if (resp && resp.status && resp.status === 'success') {\r\n          if (resp && resp.effect) {\r\n            set({\r\n              virtuals: get().virtuals,\r\n              ...{\r\n                [virtId]: {\r\n                  effect: {\r\n                    type: resp.effect.type,\r\n                    name: resp.effect.name,\r\n                    config: resp.effect.config,\r\n                  },\r\n                },\r\n              },\r\n\r\n            });\r\n          }\r\n        }\r\n      },\r\n      updateVirtualSegments: async ({ virtId, segments }) => {\r\n        const resp = await Ledfx(\r\n          `/api/virtuals/${virtId}`,\r\n          set,\r\n          'POST',\r\n          {\r\n            segments: [...segments],\r\n          },\r\n        );\r\n        if (resp && resp.status && resp.status === 'success') {\r\n          if (resp && resp.effect) {\r\n            set({\r\n              virtuals: get().virtuals,\r\n              ...{\r\n                [virtId]: {\r\n                  effect: {\r\n                    type: resp.effect.type,\r\n                    name: resp.effect.name,\r\n                    config: resp.effect.config,\r\n                  },\r\n                },\r\n              },\r\n\r\n            });\r\n          }\r\n        }\r\n      },\r\n\r\n      presets: {},\r\n      getPresets: async (effectId) => {\r\n        const resp = await Ledfx(`/api/effects/${effectId}/presets`, set);\r\n        if (resp && resp.status === 'success') {\r\n          set({ presets: resp });\r\n        }\r\n      },\r\n      addPreset: async (effectId, name) => await Ledfx(\r\n        `/api/virtuals/${effectId}/presets`,\r\n        set,\r\n        'POST',\r\n        { name }\r\n      ),\r\n      activatePreset: async (virtId, category, effectType, presetId) => await Ledfx(\r\n        `/api/virtuals/${virtId}/presets`,\r\n        set,\r\n        'PUT',\r\n        {\r\n          category,\r\n          effect_id: effectType,\r\n          preset_id: presetId,\r\n        },\r\n      ),\r\n      deletePreset: async (effectId, presetId) => await Ledfx(\r\n        `/api/effects/${effectId}/presets`,\r\n        set,\r\n        'DELETE',\r\n        {\r\n          data: {\r\n            preset_id: presetId,\r\n            category: 'user_presets',\r\n          }\r\n        },\r\n      ),\r\n\r\n      scenes: {},\r\n      getScenes: async () => {\r\n        const resp = await Ledfx('/api/scenes', set);\r\n        if (resp && resp.scenes) {\r\n          set({ scenes: resp.scenes });\r\n        }\r\n      },\r\n      addScene: async ({ name, scene_image }) => await Ledfx(\r\n        '/api/scenes',\r\n        set,\r\n        'POST',\r\n        { name, scene_image },\r\n      ),\r\n      activateScene: async ({ id }) => await Ledfx(\r\n        '/api/scenes',\r\n        set,\r\n        'PUT',\r\n        {\r\n          id,\r\n          action: 'activate',\r\n        },\r\n\r\n      ),\r\n      deleteScene: async (name) => await Ledfx(\r\n        '/api/scenes',\r\n        set,\r\n        'DELETE',\r\n        { data: { id: name } },\r\n      ),\r\n\r\n      integrations: {},\r\n      getIntegrations: async () => {\r\n        const resp = await Ledfx('/api/integrations', set);\r\n        if (resp && resp.integrations) {\r\n          set({ integrations: resp.integrations });\r\n        }\r\n      },\r\n      addIntegration: async (config) => await Ledfx(\r\n        `/api/integrations`,\r\n        set,\r\n        'POST',\r\n        config,\r\n      ),\r\n      updateIntegration: async (config) => await Ledfx(\r\n        `/api/integrations`,\r\n        set,\r\n        'POST',\r\n        config,\r\n      ),\r\n      toggleIntegration: async (config) => await Ledfx(\r\n        `/api/integrations`,\r\n        set,\r\n        'PUT',\r\n        config,\r\n      ),\r\n      deleteIntegration: async (config) => await Ledfx(\r\n        `/api/integrations`,\r\n        set,\r\n        'DELETE',\r\n        { data: { id: config } }\r\n      ),\r\n\r\n      schemas: {},\r\n      getSchemas: async () => {\r\n        const resp = await Ledfx('/api/schema', set);\r\n        if (resp) {\r\n          set({ schemas: resp });\r\n        }\r\n      },\r\n\r\n      config: {},\r\n      getSystemConfig: async () => {\r\n        const resp = await Ledfx('/api/config', set);\r\n        if (resp && resp.host) {\r\n          set({ config: { ...resp, ...{ ledfx_presets: undefined, devices: undefined, virtuals: undefined, virtuals: undefined, integrations: undefined, scenes: undefined } } });\r\n        } else {\r\n          set({ dialogs: { nohost: { open: true } } });\r\n        }\r\n      },\r\n      getFullConfig: async () => {\r\n        const resp = await Ledfx('/api/config', set);\r\n        if (resp && resp.host) {\r\n          return { ...resp, ...{ ledfx_presets: undefined } };\r\n        } else {\r\n          set({ dialogs: { nohost: { open: true } } });\r\n        }\r\n      },\r\n      setSystemConfig: async ({config}) => await Ledfx('/api/config', set, 'PUT', config),\r\n      deleteSystemConfig: async () => await Ledfx('/api/config', set, 'DELETE'),\r\n      importSystemConfig: async (config) => await Ledfx('/api/config', set, 'POST', config),\r\n\r\n      scanForDevices: async () => {\r\n        const resp = await Ledfx('/api/find_devices', set, 'POST', {});\r\n        if (resp && resp.status === 'success') {\r\n          \r\n        } else {\r\n          set({ dialogs: { nohost: { open: true } } });\r\n        }\r\n      },\r\n\r\n      paused: false,\r\n      togglePause: async () => {\r\n        const resp = await Ledfx('/api/virtuals', set, 'PUT', {});\r\n        if (resp && resp.paused) {\r\n          set({ paused: resp.paused })\r\n        }\r\n      },\r\n\r\n      graphs: false,\r\n      toggleGraphs: () => {\r\n          set((state) => ({ graphs: !state.graphs }))\r\n      },\r\n\r\n      shutdown: async () => await Ledfx('/api/power', set, 'POST', {\r\n        timeout: 0,\r\n        action: 'shutdown',\r\n      }),\r\n      restart: async () => await Ledfx('/api/power', set, 'POST', {\r\n        timeout: 0,\r\n        action: 'restart',\r\n      }),\r\n      getInfo: async () => await Ledfx('/api/info', set),\r\n      getPing: async (virtId) => await Ledfx(`/api/ping/${virtId}`, set),\r\n      getDevice: async (deviceId) => {\r\n        const resp = await Ledfx(`/api/devices/${deviceId}`, set);\r\n        if (resp && resp.data) {\r\n          return {\r\n            key: deviceId,\r\n            id: deviceId,\r\n            name: resp.data.name,\r\n            config: resp.data,\r\n            virtuals: resp.data.virtuals,\r\n            active_virtuals: resp.data.active_virtuals,\r\n          };\r\n        }\r\n      },\r\n      webAud: false,\r\n      setWebAud: (newState) => {\r\n        set((state) => ({ webAud: newState }))        \r\n      },\r\n      webAudName: '',\r\n      setWebAudName: (newState) => {\r\n        set((state) => ({ webAudName: newState }))        \r\n      },\r\n      clientDevice: null,\r\n      clientDevices: null,\r\n      setClientDevice: (newState) => {\r\n        set((state) => ({ clientDevice: newState }))        \r\n      },      \r\n      setClientDevices: (newState) => {\r\n        set((state) => ({ clientDevices: newState }))        \r\n      },      \r\n      spotifyEmbedUrl: 'https://open.spotify.com/embed/playlist/4sXMBGaUBF2EjPvrq2Z3US?',\r\n      setSpotifyEmbedUrl: (url) => {\r\n        set((state) => ({ spotifyEmbedUrl: url }))        \r\n      },\r\n    })),\r\n  ),\r\n);\r\n\r\nexport default useStore;\r\n","import { useLayoutEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop() {\r\n  const { pathname } = useLocation();\r\n\r\n  useLayoutEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}","import React from 'react';\r\nimport { useEffect, useLayoutEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport useStore from './apiStore';\r\nimport Sockette from 'sockette';\r\n\r\n\r\n// const ws = new WebSocket(`${window.location.protocol === 'https' ? 'wss' : 'ws'}://${window.localStorage.getItem('ledfx-host')?.split('https://')[0].split('http://')[0] || 'localhost:8888'}/api/websocket`);\r\n// const ws = new WebSocket(`${(window.localStorage.getItem('ledfx-host') && window.localStorage.getItem('ledfx-host').startsWith('https')) ? 'wss' : 'ws'}://${window.localStorage.getItem('ledfx-host')?.split('https://')[0].split('http://')[0] || 'localhost:8888'}/api/websocket`);\r\n// const ws = new WebSocket(`wss://${window.localStorage.getItem('ledfx-host')?.split('https://')[0].split('http://')[0].split(':')[0] || 'localhost:8888'}/api/websocket`);\r\n// const ws = new WebSocket(`${window.localStorage.getItem('ledfx-ws') ? window.localStorage.getItem('ledfx-ws') : 'ws://localhost:8888'}/api/websocket`, (window.localStorage.getItem('ledfx-ws') && window.localStorage.getItem('ledfx-ws').startsWith('wss')) ? 'https' : 'http');\r\n// const ws = new WebSocket(`wss://127.0.0.1/api/websocket`, 'wss');\r\n\r\n\r\nfunction createSocket() {  \r\nconst _ws = new Sockette(`${window.localStorage.getItem('ledfx-host') ? window.localStorage.getItem('ledfx-host').replace('https://','wss://').replace('http://','ws://') : 'ws://localhost:8888'}/api/websocket`, {\r\n  timeout: 5e3,\r\n  maxAttempts: 10,\r\n  onopen: e => {\r\n    // console.log('Connected!', e)\r\n    document.dispatchEvent(\r\n      new CustomEvent(\"disconnected\", {\r\n        detail: {\r\n          isDisconnected: false\r\n        }\r\n      })\r\n    );\r\n    _ws.ws = e.target;\r\n  },\r\n  onmessage: (event) => {\r\n    if (JSON.parse(event.data).event_type === \"visualisation_update\") {\r\n      document.dispatchEvent(\r\n        new CustomEvent(\"YZ\", {\r\n          detail: {\r\n            id: JSON.parse(event.data).vis_id,\r\n            pixels: JSON.parse(event.data).pixels,\r\n          }\r\n        })\r\n      );\r\n    }\r\n  },\r\n  onreconnect: e => console.log('Reconnecting...', e),\r\n  onmaximum: e => console.log('Stop Attempting!', e),\r\n  onclose: e => {\r\n    // console.log('Closed!', e)\r\n    window.localStorage.removeItem(\"core-init\")\r\n    document.dispatchEvent(\r\n      new CustomEvent(\"disconnected\", {\r\n        detail: {\r\n          isDisconnected: true\r\n        }\r\n      })\r\n    );\r\n  },\r\n  onerror: e => console.log('Error:', e)\r\n});\r\nreturn _ws\r\n}\r\nconst ws = createSocket();\r\nexport default ws;\r\nexport const WsContext = React.createContext(ws);\r\n\r\nexport const HandleWs = () => {\r\n  const { pathname } = useLocation();\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const pixelGraphs = useStore((state) => state.pixelGraphs);\r\n  const setPixelGraphs = useStore((state) => state.setPixelGraphs);\r\n  const graphs = useStore((state) => state.graphs);\r\n  const [wsReady, setWsReady] = useState(false)\r\n  \r\n  useLayoutEffect(() => {\r\n    if (!(pathname.startsWith(\"/Devices\") || pathname.startsWith(\"/device\"))) {\r\n      setPixelGraphs([]);\r\n    }\r\n  }, [pathname]);\r\n\r\n  useLayoutEffect(() => {\r\n    if (!graphs) {\r\n      setPixelGraphs([]);\r\n    }\r\n  }, [graphs]);\r\n\r\n  useEffect(() => {\r\n    if (pixelGraphs.length > 0 && wsReady) {\r\n      pixelGraphs.map((d, i) => {\r\n        const getWs = async () => {\r\n          const request = {\r\n            event_filter: {\r\n              vis_id: d,\r\n              is_device: !!virtuals[d]?.is_device,\r\n            },\r\n            event_type: \"visualisation_update\",\r\n            id: i,\r\n            type: \"subscribe_event\",\r\n          };\r\n          // console.log(\"Send\");\r\n          ws.send(JSON.stringify(++request.id && request));\r\n        };\r\n        getWs();\r\n      })\r\n\r\n      return () => {\r\n        pixelGraphs.map((d, i) => {\r\n          const removeGetWs = async () => {\r\n            const request = {\r\n              id: i,\r\n              type: \"unsubscribe_event\",\r\n              event_type: \"visualisation_update\",\r\n            };\r\n            ws.send(JSON.stringify(++request.id && request));\r\n          };\r\n          // console.log(\"Clean Up\");\r\n          removeGetWs();\r\n        })\r\n      }\r\n    }\r\n  }, [wsReady, pixelGraphs]);\r\n\r\n  if (!wsReady) {\r\n    if (ws.ws) {\r\n      setWsReady(true)\r\n    }\r\n  }  \r\n\r\n  return null;\r\n}","import { createTheme } from '@material-ui/core/styles';\r\n\r\n\r\nexport const BladeDarkGreenTheme = createTheme({\r\n  palette: {\r\n    type: 'dark',\r\n    primary: {\r\n      main: '#2BDE6A',\r\n    },\r\n    secondary: {\r\n      main: '#1db954',\r\n    },\r\n    accent: {\r\n      main: '#20173c',\r\n    },\r\n    background: { \r\n      default: '#030303', \r\n      paper: '#151515' \r\n    },\r\n  },\r\n  props: {\r\n    MuiCard: {\r\n      variant: 'outlined',\r\n    },\r\n  },\r\n});\r\n\r\nexport const BladeDarkBlueTheme = createTheme({\r\n  palette: {\r\n    type: 'dark',\r\n    primary: {\r\n      main: '#0dbedc',\r\n    },\r\n    secondary: {\r\n      main: '#0dbedc',\r\n    },\r\n    accent: {\r\n      main: '#20173c',\r\n    },\r\n    background: { \r\n      default: '#030303', \r\n      paper: '#151515' \r\n    },\r\n  },\r\n  props: {\r\n    MuiCard: {\r\n      variant: 'outlined',\r\n    },\r\n  },\r\n});\r\n\r\nexport const BladeDarkTheme = createTheme({\r\n  palette: {\r\n    type: 'dark',\r\n    primary: {\r\n      main: '#b00000',\r\n    },\r\n    secondary: {\r\n      main: '#500000',\r\n    },\r\n    accent: {\r\n      main: '#20173c',\r\n    },\r\n    background: { \r\n      default: '#030303', \r\n      paper: '#151515' \r\n    },\r\n  },\r\n  props: {\r\n    MuiCard: {\r\n      variant: 'outlined',\r\n    },\r\n  },  \r\n  typography: {\r\n    \"fontFamily\": `\"Nunito\", \"Roboto\", \"Helvetica\", \"Arial\", sans-serif`,\r\n    \"fontSize\": 14,\r\n    \"fontWeightRegular\": 400,\r\n   }\r\n});\r\n\r\nexport const BladeDarkGreyTheme = createTheme({\r\n  palette: {\r\n    type: 'dark',\r\n    primary: {\r\n      main: '#333',\r\n    },\r\n    secondary: {\r\n      main: '#222',\r\n    },\r\n    background: { \r\n      default: '#030303', \r\n      paper: '#151515' \r\n    },\r\n  },\r\n  props: {\r\n    MuiCard: {\r\n      variant: 'outlined',\r\n    },\r\n  },  \r\n  typography: {\r\n    \"fontFamily\": `\"Nunito\", \"Roboto\", \"Helvetica\", \"Arial\", sans-serif`,\r\n    \"fontSize\": 14,\r\n    \"fontWeightRegular\": 400,\r\n   }\r\n});\r\n\r\nexport const BladeDarkOrangeTheme = createTheme({\r\n  palette: {\r\n    type: 'dark',\r\n    primary: {\r\n      main: '#FFBF47',\r\n    },\r\n    secondary: {\r\n      main: '#edad2d',\r\n    },\r\n    accent: {\r\n      main: '#542581',\r\n    },\r\n    background: { \r\n      default: '#030303', \r\n      paper: '#151515' \r\n    },\r\n  },\r\n  props: {\r\n    MuiCard: {\r\n      variant: 'outlined',\r\n    },\r\n  },  \r\n  typography: {\r\n    \"fontFamily\": `\"Nunito\", \"Roboto\", \"Helvetica\", \"Arial\", sans-serif`,\r\n    \"fontSize\": 14,\r\n    \"fontWeightRegular\": 400,\r\n   }\r\n});\r\n\r\nexport const BladeLightTheme = createTheme({\r\n  palette: {\r\n    type: 'light',\r\n    primary: {\r\n      main: '#800000',\r\n    },\r\n    secondary: {\r\n      main: '#800000',\r\n    },\r\n    // background: { default: '#030303', paper: '#151515' },\r\n  },\r\n  props: {\r\n    MuiCard: {\r\n      variant: 'outlined',\r\n    },\r\n  },\r\n});","export const drawerWidth = 240;\r\nexport const frontendConfig = 3;\r\n\r\n\r\nexport const camelToSnake = (str) => str[0].toLowerCase()\r\n  + str\r\n    .slice(1, str.length)\r\n    .replace(/[A-Z]/g, (letter) => `_${letter.toLowerCase()}`);\r\n\r\nexport const download = (content, fileName, contentType) => {\r\n  const a = document.createElement('a');\r\n  const file = new Blob([JSON.stringify(content, null, 4)], {\r\n    type: contentType,\r\n  });\r\n  a.href = URL.createObjectURL(file);\r\n  a.download = fileName;\r\n  a.click();\r\n};\r\n\r\n\r\nexport const getOverlapping = (data) => {\r\n  const tmp = {};\r\n  data.forEach(([name, start, end]) => {\r\n      if (!tmp[name]) {\r\n          tmp[name] = {};\r\n          data.forEach(y => {\r\n              tmp[name].items = [];\r\n              tmp[name].overlap = false;\r\n              tmp[name].items.push([start, end]);\r\n          });\r\n      } else {\r\n          tmp[name].items.push([start, end]);\r\n      }\r\n  });\r\n  Object.keys(tmp).forEach(e =>\r\n      tmp[e].items\r\n          .sort(([startA], [startB]) => startA > startB)\r\n          .forEach(([start, end], i) => {\r\n              if (tmp[e].items[i + 1]) {\r\n                  const [startNew, endNew] = tmp[e].items[i + 1];\r\n                  if (startNew <= end && endNew >= start) {\r\n                      tmp[e].overlap = true;\r\n                  }\r\n              }\r\n          })\r\n  );\r\n  return tmp;\r\n}\r\n\r\nexport const swap = (array, i, j) => [array[i], array[j]] = [array[j], array[i]];\r\n\r\nexport const deleteFrontendConfig = () => {\r\n    window.localStorage.removeItem('undefined')\r\n    window.localStorage.removeItem('ledfx-host')\r\n    window.localStorage.removeItem('ledfx-hosts')\r\n    window.localStorage.removeItem('ledfx-ws')\r\n}\r\n\r\nexport const initFrontendConfig = () => {\r\n    if (window.localStorage.getItem('ledfx-frontend') >= frontendConfig) {\r\n        return\r\n    }\r\n    window.localStorage.removeItem('undefined')\r\n    window.localStorage.setItem('ledfx-frontend', frontendConfig)\r\n}","import { makeStyles } from '@material-ui/core/styles';\r\nimport { drawerWidth } from './utils/helpers';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  '@global': {\r\n    '*::-webkit-scrollbar': {\r\n      backgroundColor: '#ffffff30',\r\n      width: '8px',\r\n      borderRadius: '8px',\r\n    },\r\n    '*::-webkit-scrollbar-track': {\r\n      backgroundColor: '#00000060',\r\n      borderRadius: '8px',\r\n    },\r\n    '*::-webkit-scrollbar-thumb': {\r\n      backgroundColor: '#555555',\r\n      borderRadius: '8px',\r\n    },\r\n    '*::-webkit-scrollbar-button': {\r\n      display: 'none',\r\n    },\r\n  },\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n\r\n  drawerHeader: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(0, 1),\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    background: 'transparent',\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n    '@media (max-width: 580px)': {      \r\n      padding: '8px',\r\n    },\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n}));\r\n\r\nexport default useStyles;\r\n","export default __webpack_public_path__ + \"static/media/blademod.04a8d38d.svg\";","import { makeStyles } from '@material-ui/core/styles';\r\nimport { drawerWidth } from '../../utils/helpers';\r\nimport blademod from '../../assets/blademod.svg';\r\nimport isElectron from 'is-electron';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  '@global': {\r\n    '*::-webkit-scrollbar': {\r\n      backgroundColor: '#ffffff30',\r\n      width: '8px',\r\n      borderRadius: '8px',\r\n    },\r\n    '*::-webkit-scrollbar-track': {\r\n      backgroundColor: '#00000060',\r\n      borderRadius: '8px',\r\n    },\r\n    '*::-webkit-scrollbar-thumb': {\r\n      backgroundColor: '#555555',\r\n      borderRadius: '8px',\r\n    },\r\n    '*::-webkit-scrollbar-button': {\r\n      display: 'none',\r\n    },\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n    // backgroundColor: theme.palette.background.default,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n    overflowX: 'hidden',\r\n    paddingTop: isElectron() ? '30px' : 0,\r\n  },\r\n  drawerHeader: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(0, 1),\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  logo: {\r\n    position: 'relative',\r\n    padding: '0 15px',\r\n    zIndex: '4',\r\n  },\r\n  logoLink: {\r\n    display: 'block',\r\n    fontSize: '18px',\r\n    textAlign: 'left',\r\n    fontWeight: '400',\r\n    lineHeight: '30px',\r\n    textDecoration: 'none',\r\n    backgroundColor: 'transparent',\r\n    '&,&:hover': {\r\n      color: '#FFFFFF',\r\n    },\r\n  },\r\n  logoImage: {\r\n    width: '30px',\r\n    display: 'inline-block',\r\n    maxHeight: '30px',\r\n    marginLeft: '10px',\r\n    marginRight: '15px',\r\n\r\n    '& img': {\r\n      width: '35px',\r\n      top: -2,\r\n      position: 'absolute',\r\n      verticalAlign: 'middle',\r\n      border: '0',\r\n    },\r\n  },\r\n  devbadge: {\r\n    backgroundImage: `url(${blademod})`,\r\n    backgroundColor: isElectron() ? 'transparent' : theme.palette.secondary.main,\r\n    border: theme.palette.primary.main,\r\n    color: '#fff',\r\n    borderRadius: isElectron() ?  0 : '15px',\r\n    width: '150px',\r\n    padding: '5px 25px',\r\n    backgroundSize: isElectron() ? '270px' : '230px',\r\n    height: '20px',\r\n    backgroundRepeat: 'no-repeat',\r\n    textAlign: 'right',\r\n    backgroundPosition: isElectron() ? '-66px 50%' : '-40px 50%',\r\n  },\r\n  activeView: {\r\n    backgroundColor: theme.palette.secondary.main,\r\n    boxShadow: theme.shadows[12],\r\n    '&:hover,&:focus,&:visited,&': {\r\n        backgroundColor: theme.palette.secondary.main,\r\n        boxShadow: theme.shadows[12],\r\n    },\r\n    color: '#fff',\r\n},\r\n}));\r\nexport default useStyles;\r\n","import React from 'react';\r\n\r\nconst Wled = ({\r\n  stroke, strokeWidth, strokeLinejoin, strokeLinecap,\r\n}) => (\r\n  <svg viewBox=\"1.2738999999999998 0.896900000000001 21.511300000000002 17.9544\">\r\n    <path\r\n      d=\"m 15.5751 0.919 c -0.0454 0.3682 -0.0069 0.7526 -0.0196 1.1271 c 0.0071 0.8159 -0.0141 1.6377 0.0106 2.45 c 0.1121 0.1017 0.317 0.0206 0.465 0.0467 c 2.2276 0 4.4552 0 6.6827 0 c 0.1466 -0.0782 0.0379 -0.3085 0.0714 -0.4487 c 0 -1.0419 0 -2.0839 0 -3.1258 c -0.0782 -0.1466 -0.3085 -0.0379 -0.4487 -0.0714 c -2.2366 0 -4.4731 0 -6.7097 0 c -0.0173 0.0074 -0.0345 0.0148 -0.0518 0.0222 z m -3.5569 3.5569 c -0.0454 0.3682 -0.0069 0.7526 -0.0196 1.1271 c -0.0036 0.8041 0.0083 1.6156 -0.016 2.4153 c -1.1386 0.0401 -2.2792 0.0095 -3.4186 0.0193 c -0.2245 -0.0414 -0.1307 0.2381 -0.1493 0.3678 c 0 2.2635 0 4.527 0 6.7905 c 0.0782 0.1466 0.3085 0.0379 0.4487 0.0714 c 1.0508 0 2.1016 0 3.1524 0 c 0.1465 -0.078 0.0388 -0.3084 0.0729 -0.4484 c 0.004 -1.0408 0.008 -2.0815 0.0121 -3.1223 c 1.1575 -0.0046 2.3151 -0.0091 3.4726 -0.0136 c 0.1462 -0.0786 0.0376 -0.3085 0.0712 -0.4487 c 0 -2.2364 0 -4.4729 0 -6.7093 c -0.0782 -0.1466 -0.3085 -0.0379 -0.4487 -0.0714 c -1.0419 0 -2.0839 0 -3.1258 0 c -0.0173 0.0074 -0.0345 0.0148 -0.0518 0.0222 z m -10.7247 10.7247 c -0.0454 0.3682 -0.0069 0.7526 -0.0196 1.1271 c 0.0071 0.8249 -0.0142 1.6556 0.0106 2.4769 c 0.1121 0.1017 0.317 0.0206 0.465 0.0467 c 2.2276 0 4.4552 0 6.6827 0 c 0.1466 -0.0782 0.0379 -0.3085 0.0714 -0.4487 c 0 -1.0509 0 -2.1018 0 -3.1527 c -0.0782 -0.1466 -0.3085 -0.0379 -0.4487 -0.0714 c -2.2366 0 -4.4731 0 -6.7097 0 c -0.0173 0.0074 -0.0345 0.0148 -0.0518 0.0222 z\"\r\n      fill=\"currentColor\"\r\n      stroke={stroke}\r\n      strokeWidth={strokeWidth}\r\n      strokeLinejoin={strokeLinejoin}\r\n      strokeLinecap={strokeLinecap}\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default Wled;\r\n","import React from 'react';\r\n\r\nexport const Bottom = ({ stroke, strokeWidth, style }) => <path style={style} fill=\"currentColor\" stroke={stroke} strokeWidth={strokeWidth} strokeLinejoin=\"bevel\" strokeMiterlimit=\"22.9256\" d=\"M22751.73 30209.19l-4508.17 1605.87c6186.94,5970.28 15978.27,5978.16 22158.89,1.34l-4508.57 -1606.03c-3977.4,2650.87 -9163.74,2648.16 -13142.15,-1.18z\" />\r\nexport const Top = ({ stroke, strokeWidth, style }) => <path style={style} fill=\"currentColor\" stroke={stroke} strokeWidth={strokeWidth} strokeLinejoin=\"bevel\" strokeMiterlimit=\"22.9256\" d=\"M22802.89 10449.6l-4523.5 -1606.47c6163.23,-5924.29 15916.39,-5917.68 22087.23,-1.33l-4523.9 1606.62c-3958.6,-2605.67 -9083.15,-2607.37 -13039.83,1.18z\" />\r\nexport const Y = ({ stroke, strokeWidth, style }) => <polygon style={style} fill=\"currentColor\" stroke={stroke} strokeWidth={strokeWidth} strokeLinejoin=\"bevel\" strokeMiterlimit=\"22.9256\" points=\"11616.1,8249.12 11616.1,22417.04 24322.12,22417.04 24322.12,23326 15789.82,26458.12 15789.82,24700.98 11610.12,26235.29 11610.12,32404.98 28502.47,26387.7 28502.47,14246.16 22571.24,12139.74 22571.24,16618.6 24322.12,17196.7 24322.12,18147.8 15830.96,18147.8 15830.96,14182.39 17568.29,14856.66 17568.29,10363 \" />\r\nexport const Z = ({ stroke, strokeWidth, style }) => <polygon style={style} fill=\"currentColor\" stroke={stroke} strokeWidth={strokeWidth} strokeLinejoin=\"bevel\" strokeMiterlimit=\"22.9256\" points=\"47093.19,8225.33 30139.81,14246.16 30139.81,16475.31 36517.25,16475.31 42851.53,14225.75 42851.53,18170.76 30139.81,18170.76 30139.81,26387.7 47093.19,32426.72 47093.19,24108.92 42820.02,24108.92 42820.02,24487.97 42820.02,26458.31 34335.23,23420.94 34335.23,22451.01 47093.19,22451.01 \" />\r\n\r\nexport const YZLogo2Bottom = ({\r\n  stroke, strokeWidth, strokeLinejoin, strokeLinecap, style\r\n}) => (\r\n  <svg style={{ transform: 'scale(0.025)', marginTop: '8px', transformOrigin: 'top left', ...style }} xmlns=\"http://www.w3.org/2000/svg\" width=\"594mm\" height=\"420mm\" version=\"1.1\" shapeRendering=\"geometricPrecision\" textRendering=\"geometricPrecision\" imageRendering=\"optimizeQuality\" fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n    viewBox=\"0 0 59400 42000\">\r\n    <g id=\"_0\" style={{ transformOrigin: 'center', transform: 'scale(1.3' }}>\r\n      <g id=\"YZLogo2Bottom\">\r\n        <Bottom stroke={stroke} strokeWidth={strokeWidth} />\r\n      </g>\r\n    </g>\r\n  </svg>\r\n);\r\nexport const YZLogo2Top = ({\r\n  stroke, strokeWidth, strokeLinejoin, strokeLinecap, style\r\n}) => (\r\n  <svg style={{ transform: 'scale(0.025)', marginTop: '8px', transformOrigin: 'top left', ...style }} xmlns=\"http://www.w3.org/2000/svg\" width=\"594mm\" height=\"420mm\" version=\"1.1\" shapeRendering=\"geometricPrecision\" textRendering=\"geometricPrecision\" imageRendering=\"optimizeQuality\" fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n    viewBox=\"0 0 59400 42000\">\r\n    <g id=\"_0\" style={{ transformOrigin: 'center', transform: 'scale(1.3' }}>\r\n      <g id=\"YZLogo2Top\">\r\n        <Top stroke={stroke} strokeWidth={strokeWidth} />\r\n      </g>\r\n    </g>\r\n  </svg>\r\n);\r\nexport const YZLogo2Y = ({\r\n  stroke, strokeWidth, strokeLinejoin, strokeLinecap, style\r\n}) => (\r\n  <svg style={{ transform: 'scale(0.03)', marginTop: '8px', transformOrigin: 'top left', ...style }} xmlns=\"http://www.w3.org/2000/svg\" width=\"594mm\" height=\"420mm\" version=\"1.1\" shapeRendering=\"geometricPrecision\" textRendering=\"geometricPrecision\" imageRendering=\"optimizeQuality\" fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n    viewBox=\"0 0 29700 42000\">\r\n    <g id=\"_0\" style={{ transformOrigin: 'center', transform: 'scale(1.3' }}>\r\n      <g id=\"YZLogo2Y\">\r\n        <Y stroke={stroke} strokeWidth={strokeWidth} />\r\n      </g>\r\n    </g>\r\n  </svg>\r\n);\r\nexport const YZLogo2Z = ({\r\n  stroke, strokeWidth, strokeLinejoin, strokeLinecap, style\r\n}) => (\r\n  <svg style={{ transform: 'scale(0.035)', marginTop: '8px', transformOrigin: 'top left', ...style }} xmlns=\"http://www.w3.org/2000/svg\" width=\"594mm\" height=\"420mm\" version=\"1.1\" shapeRendering=\"geometricPrecision\" textRendering=\"geometricPrecision\" imageRendering=\"optimizeQuality\" fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n    viewBox=\"29700 0 59400 42000\">\r\n    <g id=\"_0\" style={{ transformOrigin: 'center', transform: 'scale(1.3' }}>\r\n      <g id=\"YZLogo2Z\">\r\n        <Z stroke={stroke} strokeWidth={strokeWidth} />\r\n      </g>\r\n    </g>\r\n  </svg>\r\n);\r\nexport const YZLogo2 = ({\r\n  stroke, strokeWidth, strokeLinejoin, strokeLinecap, style\r\n}) => (\r\n  <svg style={{ marginTop: '8px', transformOrigin: 'top left', ...style }} xmlns=\"http://www.w3.org/2000/svg\" width=\"594mm\" height=\"420mm\" version=\"1.1\" shapeRendering=\"geometricPrecision\" textRendering=\"geometricPrecision\" imageRendering=\"optimizeQuality\" fillRule=\"evenodd\" clipRule=\"evenodd\"\r\n    viewBox=\"0 0 59400 42000\">\r\n    <g id=\"_0\" style={{ transformOrigin: 'center', transform: 'scale(1.3' }}>\r\n      <g id=\"YZLogo2\">\r\n        <Z stroke={stroke} strokeWidth={strokeWidth} />\r\n        <Y stroke={stroke} strokeWidth={strokeWidth} />\r\n        <Top stroke={stroke} strokeWidth={strokeWidth} />\r\n        <Bottom stroke={stroke} strokeWidth={strokeWidth} />\r\n      </g>\r\n    </g>\r\n  </svg>\r\n);\r\n\r\nexport default YZLogo2;\r\n","import { Icon } from '@material-ui/core'\r\nimport Wled from './Wled'\r\nimport { YZLogo2, YZLogo2Bottom, YZLogo2Top, YZLogo2Y, YZLogo2Z } from './YZ-Logo2'\r\nimport { camelToSnake } from '../../utils/helpers'\r\n\r\nconst BladeIcon = ({\r\n  colorIndicator = false,\r\n  name = \"MusicNote\",\r\n  className,\r\n  style,\r\n  scene = false,\r\n  card = false\r\n}) => {\r\n  return (\r\n    <Icon\r\n      className={className}\r\n      color={colorIndicator ? 'primary' : 'inherit'}\r\n      style={style}\r\n    >\r\n      {name.startsWith('yz:logo2y') ? <YZLogo2Y style={{ transform: card ? 'unset' : scene ? 'scale(1)' : 'scale(0.012)', marginTop: '3px' }} />\r\n        : name.startsWith('yz:logo2z') ? <YZLogo2Z style={{ transform: card ? 'unset' : scene ? 'scale(1)' : 'scale(0.012)', marginTop: '3px' }} />\r\n        : name.startsWith('yz:logo2top') ? <YZLogo2Top style={{ transform: card ? 'unset' : scene ? 'scale(1)' : 'scale(0.012)', marginTop: '3px' }} />\r\n        : name.startsWith('yz:logo2bot') ? <YZLogo2Bottom style={{ transform: card ? 'unset' : scene ? 'scale(1)' : 'scale(0.012)', marginTop: '3px' }} />\r\n        : name.startsWith('yz:logo2') ? <YZLogo2 style={{ transform: card ? 'unset' : scene ? 'scale(1)' : 'scale(0.012)', marginTop: '3px' }} />\r\n        : name.startsWith('wled') ? <Wled />\r\n        : name.startsWith('mdi:') ? <span className={`mdi mdi-${name.split('mdi:')[1]}`} />\r\n        : camelToSnake(name)}\r\n    </Icon>\r\n  )\r\n}\r\n\r\nexport default BladeIcon\r\n","import { useTheme } from '@material-ui/core/styles';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport { ChevronLeft, ChevronRight } from '@material-ui/icons';\r\nimport { ListItem, ListItemIcon, ListItemText, Drawer, List, Icon, Divider, IconButton } from '@material-ui/core';\r\nimport { useLocation, Link } from 'react-router-dom';\r\nimport useStore from '../../utils/apiStore';\r\nimport useStyles from './BarLeft.styles';\r\nimport logoAsset from '../../assets/logo.png';\r\nimport BladeIcon from '../Icons/BladeIcon';\r\nimport isElectron from 'is-electron';\r\n\r\nconst LeftBar = () => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const { pathname } = useLocation();\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const open = useStore((state) => state.ui.bars?.leftBar.open);\r\n  const setOpen = useStore((state) => state.setLeftBarOpen);\r\n  const smallScreen = useMediaQuery('(max-width:768px)');\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false)\r\n  };\r\n\r\n  const logo = (\r\n    <div className={classes.logo}>\r\n      {!isElectron() && <a href=\"/#\" className={classes.logoLink}>\r\n        <div className={classes.logoImage}>\r\n          <img src={logoAsset} alt=\"logo\" className={classes.img} />\r\n        </div>\r\n        LedFx\r\n      </a>}\r\n      <div className={classes.devbadge} onClick={() => window.localStorage.setItem('BladeMod', 0)} />\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Drawer\r\n      className={classes.drawer}\r\n      variant=\"persistent\"\r\n      anchor=\"left\"\r\n      open={open}\r\n      classes={{\r\n        paper: classes.drawerPaper,\r\n      }}\r\n    >\r\n      <div className={classes.drawerHeader}>\r\n        {logo}\r\n        <IconButton onClick={handleDrawerClose}>\r\n          {theme.direction === 'ltr' ? <ChevronLeft /> : <ChevronRight />}\r\n        </IconButton>\r\n      </div>\r\n      <Divider />\r\n      <List>\r\n        {Object.keys(virtuals).map((d, i) => (\r\n          <Link\r\n            style={{ textDecoration: 'none' }}\r\n            key={i}\r\n            to={`/device/${virtuals[d].id}`}\r\n            onClick={() => {\r\n              smallScreen && handleDrawerClose();\r\n            }}\r\n          >\r\n            <ListItem className={\r\n              (pathname.split('/').length === 3 && pathname.split('/')[1] === 'device' && pathname.split('/')[2] === d) ? classes.activeView : classes.dummy\r\n            } button key={virtuals[d].config.name}>\r\n              <ListItemIcon>\r\n                <BladeIcon\r\n                style={{ position: 'relative' }}\r\n                  colorIndicator={!(pathname.split('/').length === 3 && pathname.split('/')[1] === 'device' && pathname.split('/')[2] === d) && Object.keys(virtuals[d]?.effect).length > 0}\r\n                  name={virtuals && virtuals[d] && virtuals[d].config && virtuals[d].config.icon_name && virtuals[d].config.icon_name} />\r\n              </ListItemIcon>\r\n              <ListItemText\r\n                style={{ color: !(pathname.split('/').length === 3 && pathname.split('/')[1] === 'device' && pathname.split('/')[2] === d) && Object.keys(virtuals[d]?.effect).length > 0 ? theme.palette.primary.light : theme.palette.text.primary }}\r\n                primary={virtuals[d].config.name}\r\n              />\r\n            </ListItem>\r\n          </Link>\r\n        ))}\r\n      </List>\r\n      <Divider />\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nexport default LeftBar;\r\n","export default \"data:image/png;base64,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\"","import { useState } from 'react';\nimport { MenuItem, ListItemIcon, Badge } from '@material-ui/core';\nimport Tour from 'reactour';\nimport { InfoRounded } from '@material-ui/icons';\nimport useStore from '../../utils/apiStore';\n\nconst steps = [\n  {\n    selector: '.step-device-one',\n    content: (\n      <div>\n        <h2>Effect Type</h2>\n        Choose an effect here.\n        <ul style={{ paddingLeft: '1rem' }}>\n          <li>BASIC: Simple, non reactive effects</li>\n          <li>1.0: Audio reactive effects</li>\n          <li>2D: [WIP] Effects designed for a 2D LED matrix</li>\n          <li>BPM: Effects designed for the beat of your music</li>\n          <li>2.0: Experimental new audio reactive effects</li>\n        </ul>\n        <li>Each effect has plenty of settings to play with</li>\n        <li>You can tune effects to your liking</li>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-device-two',\n    content: (\n      <div>\n        <h2>Transitions</h2>\n        <li>You can adjust the animation between effects</li>\n        <li>Set to 0 for no animation</li>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-device-three',\n    content: (\n      <div>\n        <h2>Presets</h2>\n        Easily save and apply the settings of an effect.\n        LedFx has some built in presets, and you can save your own too\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-device-four',\n    content: (\n      <div>\n        <h2>Frequency Range</h2>\n        <li>Adjust the audio frequency range used for effects</li>\n        <li>Most 1.0 effects will work with any frequency range you specify</li>\n        <li>Some effects will bypass this and do their own internal analysis</li>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-device-five',\n    content: (\n      <div>\n        <h2>Clear Effect</h2>\n        Clear effect and release device\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-device-six',\n    content: (\n      <div>\n        <h2>Randomizer</h2>\n        Randomly sets all effect properties\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-device-seven',\n    content: (\n      <div>\n        <h2>Effect Tours</h2>\n        Every effect has an individual tour to explain the different properties\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n];\n\nconst TourDevice = ({ cally }) => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  const invisible = useStore((state) => state.tours.device);\n\n  return (\n    <>\n      <MenuItem onClick={(e) => { \n        setIsTourOpen(true); \n        cally(e);\n        setTour(\"device\");\n        }}>\n        <ListItemIcon>\n          <Badge variant=\"dot\" color=\"primary\" invisible={invisible}>\n            <InfoRounded />\n          </Badge>\n        </ListItemIcon>\n        Tour\n      </MenuItem>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        onRequestClose={() => setIsTourOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default TourDevice;\n","import { useState } from 'react';\nimport { MenuItem, ListItemIcon, Badge } from '@material-ui/core';\nimport Tour from 'reactour';\nimport { InfoRounded } from '@material-ui/icons';\nimport useStore from '../../utils/apiStore';\n\nconst steps = [\n  {\n    selector: '.step-scenes-one',\n    content: (\n      <div>\n        <h2>Scenes</h2>\n        You can save the current state of LedFx as a scene,\n        while giving it a name and optionally an image or an icon.\n        <p>\n          Note: This includes all active effects for all devices and their effect-settings.\n        </p>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n];\n\nconst TourScenes = ({ cally }) => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  const invisible = useStore((state) => state.tours.devices);\n\n  return (\n    <>\n      <MenuItem onClick={(e) => { \n        setIsTourOpen(true); \n        cally(e);\n        setTour(\"scenes\");\n        }}>\n        <ListItemIcon>\n          <Badge variant=\"dot\" color=\"primary\" invisible={invisible}>\n            <InfoRounded />\n          </Badge>\n        </ListItemIcon>\n        Tour\n      </MenuItem>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        onRequestClose={() => setIsTourOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default TourScenes;\n","import { useState } from 'react';\nimport { MenuItem, ListItemIcon, Badge } from '@material-ui/core';\nimport Tour from 'reactour';\nimport { InfoRounded } from '@material-ui/icons';\nimport useStore from '../../utils/apiStore';\n\nconst steps = [\n  {\n    selector: '.step-settings-one',\n    content: (\n      <div>\n        <h2>Audio Device</h2>\n        Select your audio input device here.\n        <p>\n          Note: Additional Informations incoming\n        </p>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-settings-two',\n    content: (\n      <div>\n        <h2>Frontend FPS</h2>\n        FPS sent to the frontend to render the PixelGraphs\n        <p>\n          Note: Low-end devices might struggle with too much data.\n          Keep it at maximum, if everything runs smooth.\n        </p>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-settings-three',\n    content: (\n      <div>\n        <h2>Frontend Max Pixel Length</h2>\n        Pixels per device sent to the frontend to render the PixelGraphs\n        <p>\n          Note: Low-end devices might struggle with too much data.\n        </p>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-settings-four',\n    content: (\n      <div>\n        <h2>Control Buttons</h2>\n        No Explanation needed\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-settings-five',\n    content: (\n      <div>\n        <h2>WLED Integration</h2>\n        Finetune how LedFx should handle your WLEDs\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n];\n\nconst TourSettings = ({ cally }) => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  const invisible = useStore((state) => state.tours.settings);\n  return (\n    <>\n      <MenuItem onClick={(e) => { \n        setIsTourOpen(true); \n        cally(e);\n        setTour(\"settings\");\n        }}>\n        <ListItemIcon>\n          <Badge variant=\"dot\" color=\"primary\" invisible={invisible}>\n            <InfoRounded />\n          </Badge>\n        </ListItemIcon>\n        Tour\n      </MenuItem>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        onRequestClose={() => setIsTourOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default TourSettings;\n","import { useState } from 'react';\nimport { MenuItem, ListItemIcon, Badge } from '@material-ui/core';\nimport Tour from 'reactour';\nimport { InfoRounded } from '@material-ui/icons';\nimport useStore from '../../utils/apiStore';\n\nconst steps = [\n  {\n    selector: '.step-devices-one',\n    content: (\n      <div>\n        <h2>Devices</h2>\n        Add at least one device using the red button to get specific tour.\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-devices-two-0',\n    content: (\n      <div>\n        <h2>Expand</h2>\n        Click the down arrow to toggle options.\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-devices-three-0',\n    content: (\n      <div>\n        <h2>Delete</h2>\n        A device can be deleted using trashcan icon.\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-devices-four-0',\n    content: (\n      <div>\n        <h2>Device-Settings</h2>\n        The wrench will allow you to modify logical device settings including streaming mode\n        , pixel count, and IP address.\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-devices-five-0',\n    content: (\n      <div>\n        <h2>Virtual-Settings</h2>\n        The Cogwheel will allow you to change various virtual device settings.\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-devices-six',\n    content: (\n      <div>\n        <h2>Segment-Settings</h2>\n        The slider bar icon will allow you to modify virtual device segments.\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-devices-seven',\n    content: (\n      <div>\n        <h2>Pixelgraph</h2>\n        When actively streaming with an active sound source selected you will find\n        the graph display here.\n        <p>\n          Note: Graphs are disabled by default to keep low-end devices safe.\n          For high-end clients they can be enabled using the top-right-menu\n        </p>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n];\n\nconst TourDevices = ({ cally }) => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  const invisible = useStore((state) => state.tours.devices);\n  return (\n    <>\n      <MenuItem onClick={(e) => { \n        setIsTourOpen(true); \n        cally(e);\n        setTour(\"devices\");\n        }}>\n        <ListItemIcon>\n          <Badge variant=\"dot\" color=\"primary\" invisible={invisible}>\n            <InfoRounded />\n          </Badge>\n        </ListItemIcon>\n        Tour\n      </MenuItem>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        onRequestClose={() => setIsTourOpen(false)}\n      />\n    </>\n  );\n};\n\n\n\nexport default TourDevices;\n","import { useState } from 'react';\nimport { MenuItem, ListItemIcon, Badge } from '@material-ui/core';\nimport Tour from 'reactour';\nimport { InfoRounded } from '@material-ui/icons';\nimport useStore from '../../utils/apiStore';\n\nconst steps = [\n  {\n    selector: '.step-integrations-one',\n    content: (\n      <div>\n        <h2>Integrations</h2>\n        Text for Integrations\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n];\n\nconst TourIntegrations = ({ cally }) => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  const invisible = useStore((state) => state.tours.integrations);\n\n  return (\n    <>\n      <MenuItem onClick={(e) => { \n        setIsTourOpen(true); \n        cally(e);\n        setTour(\"integrations\");\n        }}>\n        <ListItemIcon>\n          <Badge variant=\"dot\" color=\"primary\" invisible={invisible}>\n            <InfoRounded />\n          </Badge>\n        </ListItemIcon>\n        Tour\n      </MenuItem>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        onRequestClose={() => setIsTourOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default TourIntegrations;\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { useState, useEffect } from 'react';\r\nimport useStore from '../../utils/apiStore';\r\nimport { useLocation, Link, useHistory } from 'react-router-dom';\r\nimport clsx from 'clsx';\r\nimport { AppBar, Box, Badge, Toolbar, CircularProgress, Typography, IconButton, Menu, MenuItem, ListItemIcon, Button } from '@material-ui/core';\r\nimport { Menu as MenuIcon, MoreVert, PlayCircleOutline, Language, BarChart, Pause, Settings, GitHub, ChevronLeft } from '@material-ui/icons';\r\nimport { styled } from '@mui/material/styles';\r\nimport { Login, Logout } from '@mui/icons-material';\r\nimport { drawerWidth } from '../../utils/helpers';\r\nimport TourDevice from '../Tours/TourDevice';\r\nimport TourScenes from '../Tours/TourScenes';\r\nimport TourSettings from '../Tours/TourSettings';\r\nimport TourDevices from '../Tours/TourDevices';\r\nimport TourIntegrations from '../Tours/TourIntegrations';\r\nimport BladeIcon from '../Icons/BladeIcon';\r\nimport isElectron from 'is-electron';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  backButton: {\r\n    position: 'absolute',\r\n    top: 14,\r\n    '@media (max-width: 599px)': {\r\n      top: 10\r\n    }\r\n  },\r\n  bladeMenu: {\r\n    \"& .MuiPaper-root\": {\r\n      backgroundColor: theme.palette.grey[900]\r\n    }\r\n  },\r\n}));\r\n\r\nconst StyledBadge = styled(Badge)(({ theme }) => ({\r\n  '& .MuiBadge-badge': {\r\n    right: '45%',\r\n    top: '115%',\r\n    border: `1px solid ${theme.palette.background.paper}`,\r\n    padding: '0 4px',\r\n    fontSize: 'x-small',\r\n    height: '14px',\r\n  },\r\n}));\r\n\r\nconst TopBar = () => {\r\n  const classes = useStyles();\r\n  const open = useStore((state) => state.ui.bars && state.ui.bars?.leftBar.open);\r\n  const setLeftBarOpen = useStore((state) => state.setLeftBarOpen);\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const setDialogOpen = useStore((state) => state.setDialogOpen);\r\n  const togglePause = useStore((state) => state.togglePause);\r\n  const toggleGraphs = useStore((state) => state.toggleGraphs);\r\n  const paused = useStore((state) => state.paused);\r\n  const graphs = useStore((state) => state.graphs);\r\n  const config = useStore((state) => state.config);\r\n  const isLogged = useStore((state) => state.isLogged);\r\n  const setIsLogged = useStore((state) => state.setIsLogged);\r\n  const disconnected = useStore((state) => state.disconnected);\r\n  const setDisconnected = useStore((state) => state.setDisconnected);\r\n  const { pathname } = useLocation();\r\n  const history = useHistory();\r\n  const clearSnackbar = useStore((state) => state.clearSnackbar);\r\n  const features = useStore((state) => state.features);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const handleLeftBarOpen = () => {\r\n    setLeftBarOpen(true);\r\n  };\r\n  const changeHost = () => {\r\n    setDialogOpen(true, true);\r\n    setAnchorEl(null);\r\n  };\r\n  const changePause = () => {\r\n    togglePause();\r\n  };\r\n  const changeGraphs = () => {\r\n    toggleGraphs();\r\n  };\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const logout = (e) => {\r\n    e.preventDefault();\r\n    localStorage.removeItem('jwt');\r\n    localStorage.removeItem('username');\r\n    localStorage.removeItem('ledfx-cloud-userid');\r\n    localStorage.removeItem('ledfx-cloud-role');\r\n    setIsLogged(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setIsLogged(!!localStorage.getItem('jwt'))\r\n  }, [pathname])\r\n\r\n  useEffect(() => {\r\n    const handleDisconnect = (e) => {\r\n      if (e.detail) {\r\n        setDisconnected(e.detail.isDisconnected)\r\n        if (e.detail.isDisconnected === false) {\r\n          window.localStorage.removeItem('undefined')\r\n          setDialogOpen(false, true)          \r\n          clearSnackbar()\r\n          if (window.localStorage.getItem(\"core-init\") !== 'initialized') {\r\n            window.localStorage.setItem(\"core-init\", 'initialized')            \r\n          }\r\n        }\r\n      }\r\n    }\r\n    document.addEventListener(\"disconnected\", handleDisconnect);\r\n    return () => {\r\n      // document.removeEventListener(\"disconnected\", handleDisconnect)\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <AppBar\r\n      color={\"secondary\"}\r\n      position=\"fixed\"\r\n      style={{ marginTop: isElectron() ? '30px' : 0 }}\r\n      className={clsx(classes.appBar, {\r\n        [classes.appBarShift]: open,\r\n      })}\r\n    >\r\n      <Toolbar style={{ justifyContent: 'space-between' }}>\r\n        <div>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleLeftBarOpen}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton, \"step-three\", open && classes.hide)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          {((pathname.split('/').length === 3 && pathname.split('/')[1] === 'device') || pathname === '/Settings') &&\r\n            <Button variant=\"text\" color=\"inherit\" className={classes.backButton} startIcon={<ChevronLeft />} onClick={() => history.goBack()} >\r\n              Back\r\n            </Button>}\r\n        </div>\r\n\r\n        <Typography variant=\"h6\" noWrap>\r\n          {pathname === '/' ? `LedFx`\r\n            : (pathname.split('/').length === 3 && pathname.split('/')[1] === 'device') ? virtuals[pathname.split('/')[2]]?.config.name\r\n              : pathname.split('/').pop()}\r\n        </Typography>\r\n        <div style={{ display: 'flex' }}>\r\n          {disconnected &&\r\n            <Box>\r\n              <IconButton\r\n                aria-label=\"display more actions\"\r\n                edge=\"end\"\r\n                color=\"inherit\"\r\n                onClick={changeHost}\r\n                className={'step-two'}\r\n                style={{ position: 'absolute', right: '4rem' }}\r\n              >\r\n                <BladeIcon\r\n                  style={{ position: 'relative' }}\r\n                  name={success ? \"mdi:lan-connect\" : \"mdi:lan-disconnect\"}\r\n                />\r\n                {loading && (\r\n                  <CircularProgress\r\n                    size={44}\r\n                    style={{\r\n                      color: 'rgba(0,0,0,0.6)',\r\n                      position: 'absolute',\r\n                      top: 3,\r\n                      left: 0,\r\n                      zIndex: 1,\r\n                    }}\r\n                  />\r\n                )}\r\n              </IconButton>\r\n            </Box>\r\n          }\r\n          <IconButton\r\n            aria-label=\"display more actions\"\r\n            edge=\"end\"\r\n            color=\"inherit\"\r\n            onClick={handleClick}\r\n            className={'step-two'}\r\n            style={{ marginLeft: '1rem' }}\r\n          >\r\n            <MoreVert />\r\n          </IconButton>\r\n        </div>\r\n\r\n        \r\n        <Menu\r\n          id=\"simple-menu\"\r\n          anchorEl={anchorEl}\r\n          keepMounted\r\n          open={Boolean(anchorEl)}\r\n          onClose={() => setAnchorEl(null)}\r\n          className={classes.bladeMenu}\r\n        >\r\n          {features['cloud'] && isLogged && <MenuItem disabled divider>\r\n            <ListItemIcon style={{ marginTop: -13 }}>\r\n              <StyledBadge badgeContent={localStorage.getItem('ledfx-cloud-role') === 'authenticated' ? 'logged in' : localStorage.getItem('ledfx-cloud-role')} color=\"secondary\">\r\n                <GitHub />\r\n              </StyledBadge>\r\n            </ListItemIcon>\r\n            <div>\r\n              <div>{localStorage.getItem('username')}</div>\r\n            </div>\r\n          </MenuItem>}\r\n          <MenuItem onClick={changeHost}>\r\n            <ListItemIcon>\r\n              <Language />\r\n            </ListItemIcon>\r\n            Change Host\r\n          </MenuItem>\r\n          <MenuItem onClick={changePause}>\r\n            <ListItemIcon>\r\n              {paused ? <PlayCircleOutline /> : <Pause />}\r\n            </ListItemIcon>\r\n            {paused ? 'Play' : 'Pause'}\r\n          </MenuItem>\r\n          <MenuItem onClick={changeGraphs}>\r\n            <ListItemIcon >\r\n              <BarChart color={graphs ? \"inherit\" : \"secondary\"} />\r\n            </ListItemIcon>\r\n            {!graphs ? 'Enable Graphs' : 'Disable Graphs'}\r\n          </MenuItem>\r\n          {pathname.split('/')[1] === 'device' ? <TourDevice cally={() => setAnchorEl(null)} />\r\n            : pathname.split('/')[1] === 'Scenes' ? <TourScenes cally={() => setAnchorEl(null)} />\r\n              : pathname.split('/')[1] === 'Settings' ? <TourSettings cally={() => setAnchorEl(null)} />\r\n                : pathname.split('/')[1] === 'Devices' ? <TourDevices cally={() => setAnchorEl(null)} />\r\n                  : pathname.split('/')[1] === 'Integrations' ? <TourIntegrations cally={() => setAnchorEl(null)} />\r\n                    : null}\r\n          <MenuItem  onClick={() => setAnchorEl(null)} component={Link} to={\"/Settings\"} >\r\n            <ListItemIcon>\r\n              <Settings />\r\n            </ListItemIcon>\r\n            Settings\r\n          </MenuItem>\r\n          {features['cloud'] &&\r\n            <MenuItem onClick={(e) => isLogged ? logout(e) : window.location.href = `https://strapi.yeonv.com/connect/github?callback=${window.location.origin}`} >\r\n              <ListItemIcon>\r\n                {isLogged ? <Logout /> : <Login />}\r\n              </ListItemIcon>\r\n              {isLogged ? 'Logout' : 'Login with Gihub'}\r\n            </MenuItem>}\r\n        </Menu>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default TopBar;\r\n","import { useState } from 'react';\r\nimport useStore from '../../utils/apiStore';\r\nimport { Link, TextField, Dialog, DialogActions, DialogContent, DialogTitle, Button, Typography } from '@material-ui/core';\r\n\r\nconst AddSceneDialog = () => {  \r\n  const [name, setName] = useState('');\r\n  const [image, setImage] = useState('');\r\n  const [overwrite, setOverwrite] = useState(false)\r\n\r\n  const addScene = useStore((state) => state.addScene);\r\n  const getScenes = useStore((state) => state.getScenes);\r\n  const scenes = useStore((state) => state.scenes);\r\n  const open = useStore((state) => state.dialogs.addScene?.open || false);\r\n  const setDialogOpenAddScene = useStore((state) => state.setDialogOpenAddScene);\r\n\r\n  const handleClose = () => {\r\n    setDialogOpenAddScene(false);\r\n  };\r\n  const handleAddScene = (e) => {\r\n\r\n    addScene({ name, scene_image: image }).then(() => {\r\n      getScenes();\r\n    });\r\n    setName('');\r\n    setImage('');\r\n    setDialogOpenAddScene(false);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n    <DialogTitle id=\"form-dialog-title\">Add Scene</DialogTitle>\r\n    <DialogContent>\r\n        Image is optional and can be one of:\r\n        <ul style={{ paddingLeft: '1rem' }}>\r\n        <li>iconName <Link href=\"https://material-ui.com/components/material-icons/\">Find MUI icons here</Link>        \r\n        <Typography color=\"textSecondary\" variant=\"subtitle1\"><em>eg. flare, AccessAlarms</em></Typography></li>\r\n        <li>mdi:icon-name <Link href=\"https://materialdesignicons.com\">Find Material Design icons here</Link>\r\n        <Typography color=\"textSecondary\" variant=\"subtitle1\"><em>eg. mdi:balloon, mdi:led-strip-variant</em></Typography></li>\r\n        <li>image:custom-url\r\n        <Typography color=\"textSecondary\" variant=\"subtitle1\" style={{ wordBreak: 'break-all'}}><em>eg. image:https://i.ytimg.com/vi/4G2unzNoOnY/maxresdefault.jpg</em></Typography></li>\r\n        </ul>\r\n      \r\n      <TextField\r\n        autoFocus\r\n        margin=\"dense\"\r\n        id=\"name\"\r\n        label=\"Name\"\r\n        type=\"text\"\r\n        value={name}\r\n        onChange={(e) => setName(e.target.value)}\r\n        onBlur={(e) => {          \r\n          setOverwrite(Object.keys(scenes).indexOf(e.target.value.toLowerCase()) > -1)\r\n        }}\r\n        error={overwrite}\r\n        helperText={overwrite && \"Scene already existing!\"}\r\n        required\r\n        fullWidth\r\n      />\r\n      <TextField\r\n        margin=\"dense\"\r\n        id=\"scene_image\"\r\n        label=\"Image\"\r\n        type=\"text\"\r\n        value={image}\r\n        onChange={(e) => setImage(e.target.value)}\r\n        fullWidth\r\n      />\r\n    </DialogContent>\r\n    <DialogActions>\r\n      <Button onClick={handleClose}>\r\n        Cancel\r\n      </Button>\r\n      <Button onClick={handleAddScene}>\r\n      {overwrite ? 'Overwrite' : 'Add'}\r\n      </Button>\r\n    </DialogActions>\r\n  </Dialog>\r\n  )\r\n}\r\n\r\nexport default AddSceneDialog\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n  FormControlLabel, Switch, Checkbox, Button, Typography\r\n} from '@material-ui/core/';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {    \r\n    border: '1px solid rgba(255, 255, 255, 0.1)',\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    maxWidth: '320px',\r\n    padding: theme.spacing(1),\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  wrapper: {\r\n    padding: '10px 10px 2px 10px',\r\n    border: '1px solid rgba(255, 255, 255, 0.1)',\r\n    borderRadius: '10px',\r\n    position: 'relative',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    flexBasis: '23.5%',\r\n    minWidth: 'unset',\r\n    margin: '0.5rem 0',\r\n\r\n    \"@media (max-width: 580px)\": {\r\n      flexBasis: \"37vw\",\r\n    },\r\n    '& > label': {\r\n      top: '-0.5rem',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      left: '1rem',\r\n      padding: '0 0.3rem',\r\n      position: 'absolute',\r\n      fontVariant: 'all-small-caps',\r\n      fontSize: '0.9rem',\r\n      letterSpacing: '0.1rem',\r\n      backgroundColor: theme.palette.background.paper,\r\n      boxSizing: 'border-box',\r\n    },\r\n  },\r\n}));\r\nconst BladeBoolean = ({\r\n  onClick,\r\n  type = 'switch',\r\n  variant = 'outlined',\r\n  schema,\r\n  model,\r\n  required = false,\r\n  hideDesc = false,\r\n  model_id,\r\n  style = {},\r\n  index\r\n}) => {\r\n  // console.log(schema);\r\n  const classes = useStyles();\r\n\r\n  const Frame = ({ children }) => (variant === 'outlined' ? (\r\n    <div className={`${classes.wrapper} step-effect-${index}`} style={style}>\r\n      <label className={'MuiFormLabel-root'}>{schema.title.replaceAll('_', ' ').replaceAll('Color', 'c')}{required ? '*' : ''}</label>\r\n      {children}\r\n    </div>\r\n  ) : variant === 'text' ? (\r\n    <FormControlLabel control={children} label={schema.title.replaceAll('_', ' ').replaceAll('color', 'c')} />\r\n  ) : (\r\n    { children }\r\n  ));\r\n  // console.log(model_id);\r\n  switch (type) {\r\n    case 'switch':\r\n      return (\r\n        <Frame>\r\n          <Switch\r\n            defaultValue={(model && model[model_id]) || schema.default}\r\n            checked={model && model[model_id]}\r\n            onChange={(e, b) => onClick(model_id, b)}\r\n            name={schema.title.replaceAll('_', ' ').replaceAll('color', 'c')}\r\n            color=\"primary\"\r\n          />\r\n          {!hideDesc && schema.description\r\n            ? <>\r\n              <Typography variant={'body2'} className={'MuiFormHelperText-root'} >{schema.description} </Typography>\r\n            </>\r\n            : <></>\r\n          }\r\n        </Frame>\r\n      );\r\n    case 'checkbox':\r\n      return (\r\n        <Frame>\r\n          <Checkbox\r\n            defaultValue={schema.default}\r\n            checked={model && model[model_id]}\r\n            onChange={(e, b) => onClick(model_id, b)}\r\n            name={model_id}\r\n            color=\"primary\"\r\n          />\r\n        </Frame>\r\n      );\r\n    case 'button':\r\n      return (\r\n        <Button\r\n          color=\"primary\"\r\n          variant={model[model_id] ? 'contained' : 'outlined'}\r\n          onClick={() => onClick(model_id, !model[model_id])}\r\n        >\r\n          {schema.title.replaceAll('_', ' ').replaceAll('color', 'c')}\r\n        </Button>\r\n      );\r\n\r\n    default:\r\n      return <div>unset</div>;\r\n  }\r\n};\r\n\r\nexport default BladeBoolean;\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button, IconButton } from '@material-ui/core';\r\nimport { Info } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    wrapper: {\r\n        minWidth: '200px',\r\n        padding: '16px 1.2rem 6px 1.2rem',\r\n        border: '1px solid rgba(255, 255, 255, 0.1)',\r\n        borderRadius: '10px',\r\n        position: 'relative',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        height: 'auto',\r\n        margin: '0.5rem 0',\r\n        \"@media (max-width: 580px)\": {\r\n            width: '100% !important',\r\n            margin: '0.5rem 0',\r\n        },\r\n        '& > label': {\r\n            top: '-0.5rem',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            left: '1rem',\r\n            padding: '0 0.3rem',\r\n            position: 'absolute',\r\n            fontVariant: 'all-small-caps',\r\n            fontSize: '0.9rem',\r\n            letterSpacing: '0.1rem',\r\n            backgroundColor: theme.palette.background.paper,\r\n            boxSizing: 'border-box',\r\n        },\r\n    },\r\n}));\r\n\r\nconst BladeFrame = ({ title, children, full = false, style = { width: 'unset' }, required = false, variant = 'outlined', className, disabled }) => {\r\n    const classes = useStyles();\r\n    return (variant === 'outlined' ? (\r\n        <div className={`${classes.wrapper} ${className}`} style={{\r\n            ...style,\r\n            width: full ? '100%' : style.width\r\n        }}>\r\n            <label className={`MuiFormLabel-root${disabled ? ' Mui-disabled' : ''}`} >{title}{required ? '*' : ''}</label>\r\n            {children}\r\n        </div>\r\n    ) : (\r\n        children\r\n    ))\r\n}\r\n\r\nexport default BladeFrame\r\n","import PropTypes from 'prop-types';\r\nimport { Select, MenuItem, TextField } from '@material-ui/core/';\r\nimport BladeFrame from './BladeFrame';\r\n\r\nconst BladeSelect = ({\r\n  variant = 'outlined',\r\n  disabled = false,\r\n  schema,\r\n  model,\r\n  model_id,\r\n  onChange,\r\n  index,\r\n  required = false,\r\n  wrapperStyle = {flexBasis: '48%'},\r\n  selectStyle = {},\r\n  textStyle = {},\r\n  menuItemStyle = {},  \r\n  hideDesc,\r\n  children\r\n}) =>\r\n  <BladeFrame\r\n    title={schema.title}\r\n    className={`step-effect-${index}`}\r\n    full={!(schema.enum && schema.enum.length && Object.values(schema.enum).every(a => a.length < 20))}\r\n    required={required}\r\n    style={{...wrapperStyle, flexBasis: schema.title === 'Name' ? '100%' : '48%'}}>\r\n\r\n    {variant === 'contained' ? (\r\n      schema.enum\r\n        ? (\r\n          <Select\r\n            variant=\"filled\"\r\n            disabled={disabled}\r\n            style={{ flexGrow: variant === 'outlined' ? 1 : 'unset', selectStyle }}\r\n            disableUnderline\r\n            defaultValue={schema.default}\r\n            value={model && model[model_id] || schema.enum[0]}\r\n            onChange={(e) => onChange(model_id, e.target.value)}\r\n          >\r\n            {children ? children : schema.enum.map((item, i) => (\r\n              <MenuItem key={`${i}-${i}`} value={item}>\r\n                {item}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>)\r\n        : (\r\n          <TextField\r\n            helperText={!hideDesc && schema.description}\r\n            defaultValue={model && model[model_id] || (schema.enum && schema.enum[0]) || schema.default || ''}\r\n            onBlur={(e) => onChange(model_id, e.target.value)}\r\n            style={textStyle}\r\n\r\n          />\r\n        )\r\n    ) : (\r\n      schema.enum && Array.isArray(schema.enum)\r\n        ? (\r\n          <Select\r\n            disabled={disabled}\r\n            style={{ flexGrow: variant === 'outlined' ? 1 : 'unset', selectStyle }}\r\n            disableUnderline\r\n            defaultValue={schema.default}\r\n            value={model && model[model_id] || schema.enum[0]}\r\n            onChange={(e) => onChange(model_id, e.target.value)}\r\n          >\r\n            {schema.enum.map((item, i) => (\r\n              <MenuItem key={i} value={item} style={menuItemStyle}>\r\n                {item}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>)\r\n        : schema.enum && !Array.isArray(schema.enum)\r\n          ? (\r\n            <Select\r\n              disabled={disabled}\r\n              style={{ flexGrow: variant === 'outlined' ? 1 : 'unset', selectStyle }}\r\n              disableUnderline\r\n              defaultValue={schema.default}\r\n              value={model && schema.enum[model[model_id]] || schema.enum[0]}\r\n              onChange={(e) => onChange(model_id, parseInt(Object.keys(schema.enum).find(en => schema.enum[en] === e.target.value)))}\r\n            >\r\n              {Object.keys(schema.enum).map((item, i) => (\r\n                <MenuItem key={i} value={schema.enum[item]}>\r\n                  {schema.enum[item]}\r\n                </MenuItem>\r\n              ))}\r\n            </Select>)\r\n          : (\r\n            <TextField\r\n              type={schema.description?.includes('password') ? \"password\" : \"unset\"}\r\n              helperText={!hideDesc && schema.description}\r\n              defaultValue={model && model[model_id] || (schema.enum && schema.enum[0]) || schema.default || ''}\r\n              onBlur={(e) => onChange(model_id, e.target.value)}\r\n              style={textStyle}\r\n            />\r\n          )\r\n    )}\r\n  </BladeFrame>\r\n\r\n\r\nBladeSelect.propTypes = {\r\n  variant: PropTypes.string,\r\n  schema: PropTypes.object.isRequired,\r\n  model: PropTypes.object.isRequired,\r\n  model_id: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default BladeSelect;\r\n\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  input: {\r\n    marginLeft: '1rem',\r\n    backgroundColor: 'rgb(57, 57, 61)',\r\n    paddingLeft: '0.5rem',\r\n    borderRadius: '5px',\r\n    paddingTop: '3px'\r\n  },\r\n  wrapper: {\r\n    minWidth: '240px',\r\n    width: '48%',\r\n    padding: '16px 1.2rem 6px 1.2rem',\r\n    border: '1px solid rgba(255, 255, 255, 0.1)',\r\n    borderRadius: '10px',\r\n    position: 'relative',\r\n    display: 'flex',\r\n    margin: '0.5rem 0',\r\n    \"@media (max-width: 580px)\": {\r\n      width: '100% !important',\r\n    },\r\n    '& > label': {\r\n      top: '-0.5rem',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      left: '1rem',\r\n      padding: '0 0.3rem',\r\n      position: 'absolute',\r\n      fontVariant: 'all-small-caps',\r\n      fontSize: '0.9rem',\r\n      letterSpacing: '0.1rem',\r\n      backgroundColor: theme.palette.background.paper,\r\n      boxSizing: 'border-box',      \r\n    },\r\n    '& .sortable-handler': {\r\n      touchAction: 'none',\r\n    }\r\n  },\r\n}));\r\n\r\nexport default useStyles;\r\n","import PropTypes from 'prop-types';\r\nimport { useState, useEffect } from 'react';\r\nimport { Slider, Input, TextField, Typography } from '@material-ui/core/';\r\nimport useStyles from './BladeSlider.styles';\r\nimport BladeFrame from './BladeFrame';\r\n\r\nconst BladeSlider = ({\r\n  variant = 'outlined',\r\n  disableUnderline,\r\n  schema,\r\n  model,\r\n  model_id,\r\n  step,\r\n  onChange,\r\n  marks,\r\n  index,\r\n  required = false,\r\n  textfield = false,\r\n  disabled = false,\r\n  hideDesc = false,\r\n  style = {},\r\n}) => {\r\n  const classes = useStyles();\r\n  // console.log(schema)\r\n  return variant === 'outlined' ? (\r\n      <div className={`${classes.wrapper} step-effect-${index}`} style={style}>\r\n      <label style={{ color: disabled ? 'rgba(255, 255, 255, 0.5)' : 'rgba(255, 255, 255, 0.7)' }} className={'MuiFormLabel-root'}>{schema.title}{required ? '*' : ''}</label>\r\n      <BladeSliderInner\r\n        schema={schema}\r\n        model={model}\r\n        model_id={model_id}\r\n        disabled={disabled}\r\n        step={step}\r\n        onChange={onChange}\r\n        textfield={textfield}\r\n        marks={marks}\r\n        hideDesc={hideDesc}\r\n        disableUnderline={disableUnderline}\r\n      />\r\n    </div>\r\n  ) : (\r\n    <BladeSliderInner\r\n      schema={schema}\r\n      model={model}\r\n      model_id={model_id}\r\n      onChange={onChange}\r\n      disabled={disabled}\r\n      textfield={textfield}\r\n      marks={marks}\r\n      hideDesc={hideDesc}\r\n      disableUnderline={disableUnderline}\r\n    />\r\n  );\r\n};\r\n\r\nconst BladeSliderInner = ({\r\n  schema, model, model_id, step, onChange, textfield, style, disabled, marks,hideDesc, disableUnderline\r\n}) => {\r\n  \r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(typeof model[model_id] === 'number' ? model[model_id] : typeof schema.default === 'number' ? schema.default : 1);\r\n  const handleSliderChange = (event, newValue) => {\r\n    if (newValue !== value) {\r\n      setValue(newValue);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (event) => {\r\n    if (value !== event.target.value) {\r\n      setValue(event.target.value === '' ? '' : Number(event.target.value));\r\n      if (event.target.value < schema.minimum) {\r\n        setValue(schema.minimum);\r\n      } else if (event.target.value > schema.maximum) {\r\n        setValue(schema.maximum);\r\n      }\r\n      onChange(model_id, Number(event.target.value))\r\n    }\r\n  };\r\n  const handleBlur = () => {\r\n    if (value < schema.minimum) {\r\n      setValue(schema.minimum);\r\n    } else if (value > schema.maximum) {\r\n      setValue(schema.maximum);\r\n    }\r\n  };  \r\n  const handleTextChange = (event) => {\r\n    if (value < schema.minimum) {\r\n      setValue(schema.minimum);\r\n    } else if (value > schema.maximum) {\r\n      setValue(schema.maximum);\r\n    }\r\n    onChange(model_id, Number(event.target.value))\r\n  };\r\n\r\n  useEffect(() => {\r\n    setValue(typeof model[model_id] === 'number' ? model[model_id] : typeof schema.default === 'number' ? schema.default : 1)\r\n    \r\n  }, [model, model_id])\r\n\r\n  return (schema.maximum && !textfield) ? (\r\n    <>\r\n      <div style={{width: '100%' }}>\r\n        <Slider\r\n          aria-labelledby=\"input-slider\"\r\n          valueLabelDisplay=\"auto\"\r\n          disabled={disabled}\r\n          step={step || (schema.maximum > 1 ? 0.1 : 0.01)}\r\n          min={schema.minimum || 0}\r\n          max={schema.maximum}\r\n          value={typeof value === 'number' ? value : 0}\r\n          onChange={handleSliderChange}\r\n          onChangeCommitted={(e, b) => onChange(model_id, b)}\r\n          style={{color: '#aaa', ...style}}\r\n        />\r\n        {(!hideDesc && schema.description)\r\n          ? <>\r\n            <Typography variant={'body2'} className={'MuiFormHelperText-root'} >{schema.description} </Typography>\r\n          </>\r\n          : <></>\r\n        }\r\n      </div>\r\n      <Input\r\n        disableUnderline\r\n        disabled={disabled}\r\n        className={classes.input}\r\n        value={value}\r\n        margin=\"dense\"\r\n        onChange={handleInputChange}\r\n        onBlur={handleBlur}\r\n        inputProps={{\r\n          step: step || (schema.maximum > 1 ? 0.1 : 0.01),\r\n          min: schema.minimum || 0,\r\n          max: schema.maximum,\r\n          type: 'number',\r\n          'aria-labelledby': 'input-slider',\r\n        }}\r\n      />\r\n    </>\r\n  ) :  (schema.enum && !textfield) ? (\r\n    <Slider\r\n          aria-labelledby=\"input-slider\"\r\n          valueLabelDisplay=\"auto\"\r\n          disabled={disabled}\r\n          marks={marks.map((m,i)=>({value: m, label: (i === 0 || i === marks.length - 1) ? m : ''}))}\r\n          step={null}\r\n          min={marks[0]}\r\n          max={marks[marks.length - 1]}\r\n          value={typeof value === 'number' ? value : 0}\r\n          onChange={handleSliderChange}\r\n          onChangeCommitted={(e, b) => onChange(model_id, b)}\r\n          style={!hideDesc ? {...style, width: '100%'} : style}\r\n        />\r\n  ) : (\r\n\r\n    <TextField\r\n      disabled={disabled}\r\n      InputProps={{\r\n        disableUnderline:disableUnderline\r\n      }}      \r\n      type=\"number\"\r\n      value={value}\r\n      onChange={handleTextChange}\r\n      helperText={!hideDesc && schema.description}\r\n      style={!hideDesc ? {...style, width: '100%'} : style}\r\n    />\r\n  );\r\n};\r\n\r\nBladeSlider.propTypes = {\r\n  variant: PropTypes.string,\r\n  schema: PropTypes.object.isRequired,\r\n  model: PropTypes.object.isRequired,\r\n  model_id: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default BladeSlider;\r\n","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport useStore from '../../utils/apiStore';\r\n\r\nimport {\r\n  Fab,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogContentText,\r\n  Select,\r\n  DialogActions,\r\n  Button,\r\n  InputLabel,\r\n  MenuItem,\r\n  FormControl,\r\n  ListSubheader,\r\n  Switch,\r\n  FormControlLabel,\r\n  Divider,\r\n} from '@material-ui/core';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport BladeBoolean from './BladeBoolean';\r\nimport BladeSelect from './BladeSelect';\r\nimport BladeSlider from './BladeSlider';\r\nimport BladeFrame from './BladeFrame';\r\nimport { Info } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  bladeSchemaForm: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-between',\r\n  },\r\n  FormListHeaders: {\r\n    background: theme.palette.secondary.main,\r\n    color: '#fff',\r\n  },\r\n}));\r\n\r\nconst BladeSchemaForm = (props) => {\r\n  const {\r\n    schema,\r\n    model,\r\n    disableUnderline,\r\n    hideToggle,\r\n    colorMode = 'picker',\r\n    boolMode = 'switch',\r\n    boolVariant = 'outlined',\r\n    selectVariant = 'outlined',\r\n    sliderVariant = 'outlined',\r\n    onModelChange = (e) => e,\r\n    type,\r\n  } = props;\r\n\r\n\r\n\r\n  // console.log(schema)\r\n  const classes = useStyles();\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [_boolMode, _setBoolMode] = useState(boolMode);\r\n  const [_boolVariant, _setBoolVariant] = useState(boolVariant);\r\n  const [_selectVariant, _setSelectVariant] = useState(selectVariant);\r\n  const [_sliderVariant, _setSliderVariant] = useState(sliderVariant);\r\n  const [_colorMode, _setColorMode] = useState(colorMode);\r\n  const [hideDesc, setHideDesc] = useState(true);\r\n  const features = useStore((state) => state.features);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const yzSchema = schema && schema.properties &&\r\n    Object.keys(schema.properties)\r\n      .map(sk => ({\r\n        ...schema.properties[sk],\r\n        id: sk,\r\n        required: schema.required && schema.required.indexOf(sk) !== -1,\r\n        permitted: schema.permitted_keys ? schema.permitted_keys.indexOf(sk) > -1 : true\r\n      }))\r\n      .sort((a, b) => a.required ? -1 : 1)\r\n      .sort((a, b) => a.id === 'name' ? -1 : 1)\r\n\r\n  return (\r\n    <div>\r\n      {features['formsettings'] && (\r\n        <Fab\r\n          onClick={handleClickOpen}\r\n          variant=\"circular\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          style={{ position: 'absolute', right: '1rem', top: '1rem' }}\r\n        >\r\n          <SettingsIcon />\r\n        </Fab>\r\n      )}\r\n\r\n      <div className={classes.bladeSchemaForm}>\r\n        {yzSchema && yzSchema.map((s, i) => {\r\n\r\n          switch (s.type) {\r\n            case 'boolean':\r\n              return (\r\n                <BladeBoolean\r\n                  hideDesc={hideDesc}\r\n                  type={_boolMode}\r\n                  variant={_boolVariant}\r\n                  key={i}\r\n                  index={i}\r\n                  model={model}\r\n                  model_id={s.id}\r\n                  required={s.required}\r\n                  style={{ margin: '0.5rem 0', flexBasis: '48%' }}\r\n                  schema={s}\r\n                  onClick={(model_id, value) => {\r\n                    const c = {};\r\n                    c[model_id] = value;\r\n                    return onModelChange(c);\r\n                  }}\r\n                />\r\n              );\r\n            case 'string':\r\n              const group = {}\r\n              let audio_groups = []\r\n              if (schema?.properties?.audio_device?.enum) {\r\n                for (const [key, value] of Object.entries(schema.properties.audio_device?.enum)) {\r\n                  // console.log(`${key}: ${value.split(':')[0]}`);\r\n                  if (!group[value.split(':')[0]]) {\r\n                    group[value.split(':')[0]] = {}\r\n                  }\r\n                  group[value.split(':')[0]][key] = value.split(':')[1]\r\n                }\r\n                function onlyUnique(value, index, self) {\r\n                  return self.indexOf(value) === index;\r\n                }\r\n                audio_groups = (Object.values(schema.properties.audio_device?.enum).map(d => d.split(':')[0]).filter(onlyUnique))\r\n              }\r\n\r\n              return audio_groups?.length\r\n                ? <BladeFrame key={i} style={{ order: -1 }} title={\"Audio Device\"} full={true}>\r\n                  <Select\r\n                    value={model && model[\"audio_device\"] || 0}\r\n                    fullWidth\r\n                    disableUnderline\r\n                    onChange={(e) => {\r\n                      const c = {};\r\n                      c[\"audio_device\"] = parseInt(e.target.value);\r\n                      return onModelChange(c);\r\n                    }}\r\n                    id=\"grouped-select\"\r\n                    className={classes.FormSelect}\r\n                  >\r\n                    {audio_groups?.map((c, ind) =>\r\n                      [\r\n                        <ListSubheader\r\n                          className={classes.FormListHeaders}\r\n                          color=\"primary\"\r\n                          key={ind}\r\n                        >\r\n                          {c}\r\n                        </ListSubheader>\r\n                        ,\r\n                        Object.keys(group[c]).map((e) =>\r\n                          <MenuItem className={classes.FormListItem} value={e}>\r\n                            {group[c][e]}\r\n                          </MenuItem>\r\n                        ),\r\n                      ],\r\n                    )}\r\n                  </Select>\r\n                </BladeFrame>\r\n                : !((type === 'mqtt_hass' && s.id === 'name') || (type === 'mqtt_hass' && s.id === 'description')) &&\r\n                <BladeSelect\r\n                  hideDesc={hideDesc}\r\n                  hide={\"test\"}\r\n                  model={model}\r\n                  disabled={!s.permitted}\r\n                  style={{ margin: '0.5rem 0', width: '48%' }}\r\n                  textStyle={{ width: '100%' }}\r\n                  variant={_selectVariant}\r\n                  schema={s}\r\n                  required={s.required}\r\n                  model_id={s.id}\r\n                  key={i}\r\n                  index={i}\r\n                  onChange={(model_id, value) => {\r\n                    const c = {};\r\n                    c[model_id] = value;\r\n                    return onModelChange(c);\r\n                  }}\r\n                />\r\n\r\n            case 'number':\r\n              return (\r\n                <BladeSlider\r\n                  hideDesc={hideDesc}\r\n                  variant={_sliderVariant}\r\n                  disabled={!s.permitted}\r\n                  disableUnderline={disableUnderline}\r\n                  key={i}\r\n                  model_id={s.id}\r\n                  model={model}\r\n                  required={s.required}\r\n                  schema={s}\r\n                  onChange={(model_id, value) => {\r\n                    const c = {};\r\n                    c[model_id] = value;\r\n                    return onModelChange(c);\r\n                  }}\r\n                />\r\n              );\r\n\r\n            case 'integer':\r\n              return <BladeSlider\r\n                hideDesc={hideDesc}\r\n                variant={_sliderVariant}\r\n                disabled={!s.permitted}\r\n                disableUnderline={disableUnderline}\r\n                step={1}\r\n                key={i}\r\n                model_id={s.id}\r\n                model={model}\r\n                required={s.required}\r\n                schema={s}\r\n                textfield={false}\r\n                style={{ margin: '0.5rem 0', width: '48%' }}\r\n                onChange={(model_id, value) => {\r\n                  const c = {};\r\n                  c[model_id] = value;\r\n                  return onModelChange(c);\r\n                }}\r\n              />\r\n            case 'int':\r\n              return s?.enum?.length > 10 ? <BladeSlider\r\n                hideDesc={hideDesc}\r\n                variant={_sliderVariant}\r\n                disabled={!s.permitted}\r\n                disableUnderline={disableUnderline}\r\n                marks={s?.enum}\r\n                step={null}\r\n                key={i}\r\n                model_id={s.id}\r\n                model={model}\r\n                required={s.required}\r\n                schema={s}\r\n                textfield={false}\r\n                style={{ margin: '0.5rem 0', width: '48%' }}\r\n                onChange={(model_id, value) => {\r\n                  const c = {};\r\n                  c[model_id] = value;\r\n                  return onModelChange(c);\r\n                }}\r\n              /> : <BladeSlider\r\n                hideDesc={hideDesc}\r\n                variant={_sliderVariant}\r\n                disabled={!s.permitted}\r\n                disableUnderline={disableUnderline}\r\n                marks={s?.enum}\r\n                step={null}\r\n                key={i}\r\n                model_id={s.id}\r\n                model={model}\r\n                required={s.required}\r\n                schema={s}\r\n                textfield={false}\r\n                style={{ margin: '0.5rem 0', width: '48%' }}\r\n                onChange={(model_id, value) => {\r\n                  const c = {};\r\n                  c[model_id] = value;\r\n                  return onModelChange(c);\r\n                }}\r\n              />\r\n            default:\r\n              return (\r\n                <>\r\n                  Unsupported type:\r\n                  {s.type}\r\n                </>\r\n              );\r\n          }\r\n        })}\r\n      </div>\r\n      {!hideToggle && <>\r\n        <Divider style={{ margin: '1rem 0 0.5rem 0' }} />\r\n        <FormControlLabel\r\n          value=\"start\"\r\n          control={<Switch checked={!hideDesc} onChange={(e) => setHideDesc(!hideDesc)} />}\r\n          label={<DialogContentText style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', marginBottom: 0 }}>Field-Descriptions<Info style={{ marginLeft: '0.5rem' }} /></DialogContentText>}\r\n          labelPlacement=\"end\"\r\n        />\r\n      </>}\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          Blade's SchemaForm Settings\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Customize the appearance of dynamically generated forms\r\n          </DialogContentText>\r\n          <FormControl>\r\n            <InputLabel id=\"ColorVariantLabel\">Color Mode</InputLabel>\r\n            <Select\r\n              labelId=\"ColorVariantLabel\"\r\n              id=\"ColorVariant\"\r\n              value={_colorMode}\r\n              onChange={(e) => _setColorMode(e.target.value)}\r\n            >\r\n              <MenuItem value=\"picker\">Picker</MenuItem>\r\n              <MenuItem value=\"select\">Select</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <FormControl>\r\n            <InputLabel id=\"BoolModeLabel\">Bool Mode</InputLabel>\r\n            <Select\r\n              labelId=\"BoolModeLabel\"\r\n              id=\"BoolMode\"\r\n              value={_boolMode}\r\n              onChange={(e) => _setBoolMode(e.target.value)}\r\n            >\r\n              <MenuItem value=\"switch\">Switch</MenuItem>\r\n              <MenuItem value=\"checkbox\">Checkbox</MenuItem>\r\n              <MenuItem value=\"button\">Button</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <FormControl>\r\n            <InputLabel id=\"BoolVariantLabel\">Bool Variant</InputLabel>\r\n            <Select\r\n              labelId=\"BoolVariantLabel\"\r\n              id=\"BoolVariant\"\r\n              value={_boolVariant}\r\n              onChange={(e) => _setBoolVariant(e.target.value)}\r\n            >\r\n              <MenuItem value=\"text\">Text</MenuItem>\r\n              <MenuItem value=\"outlined\">Outlined</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <FormControl>\r\n            <InputLabel id=\"SelectVariantLabel\">Select Variant</InputLabel>\r\n            <Select\r\n              labelId=\"SelectVariantLabel\"\r\n              id=\"SelectVariant\"\r\n              value={_selectVariant}\r\n              onChange={(e) => _setSelectVariant(e.target.value)}\r\n            >\r\n              <MenuItem value=\"text\">Text</MenuItem>\r\n              <MenuItem value=\"outlined\">Outlined</MenuItem>\r\n              <MenuItem value=\"contained\">Contained</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n          <FormControl>\r\n            <InputLabel id=\"SliderVariantLabel\">Slider Variant</InputLabel>\r\n            <Select\r\n              labelId=\"SliderVariantLabel\"\r\n              id=\"SliderVariant\"\r\n              value={_sliderVariant}\r\n              onChange={(e) => _setSliderVariant(e.target.value)}\r\n            >\r\n              <MenuItem value=\"text\">Text</MenuItem>\r\n              <MenuItem value=\"outlined\">Outlined</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n\r\n          <DialogActions>\r\n            <Button onClick={handleClose} variant=\"contained\" color=\"primary\">\r\n              Ok\r\n            </Button>\r\n          </DialogActions>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nBladeSchemaForm.propTypes = {\r\n  colorMode: PropTypes.oneOf(['picker', 'select']),\r\n  boolMode: PropTypes.oneOf(['switch', 'checkbox', 'button']),\r\n  boolVariant: PropTypes.oneOf(['outlined', 'contained', 'text']),\r\n  selectVariant: PropTypes.string, // outlined | any\r\n  sliderVariant: PropTypes.string, // outlined | any\r\n  schema: PropTypes.object.isRequired,\r\n  model: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default BladeSchemaForm;\r\n","import { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Select, MenuItem, Button, Divider } from \"@material-ui/core\";\r\nimport useStore from \"../../utils/apiStore\";\r\nimport BladeSchemaForm from \"../SchemaForm/BladeSchemaForm\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  wrapper: {\r\n    minWidth: \"200px\",\r\n    padding: \"16px 1.2rem 6px 1.2rem\",\r\n    border: \"1px solid #999\",\r\n    borderRadius: \"10px\",\r\n    position: \"relative\",\r\n    margin: \"1rem 0\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    \"@media (max-width: 580px)\": {\r\n      width: \"100%\",\r\n      margin: \"0.5rem 0\",\r\n    },\r\n    \"& > label\": {\r\n      top: \"-0.7rem\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      left: \"1rem\",\r\n      padding: \"0 0.3rem\",\r\n      position: \"absolute\",\r\n      fontVariant: \"all-small-caps\",\r\n      fontSize: '0.9rem',\r\n      letterSpacing: '0.1rem',\r\n      backgroundColor: theme.palette.background.paper,\r\n      boxSizing: \"border-box\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst AddDeviceDialog = () => {\r\n  const classes = useStyles();\r\n\r\n  const getDevices = useStore((state) => state.getDevices);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const addDevice = useStore((state) => state.addDevice);\r\n  const updateDevice = useStore((state) => state.updateDevice);\r\n  const devices = useStore((state) => state.devices);\r\n  const open = useStore((state) => state.dialogs.addDevice?.open || false);\r\n  const deviceId = useStore((state) => state.dialogs.addDevice?.edit || false);\r\n  const initial = devices[deviceId] || { type: \"\", config: {} };\r\n\r\n  const setDialogOpenAddDevice = useStore(\r\n    (state) => state.setDialogOpenAddDevice\r\n  );\r\n\r\n  const deviceTypes = useStore((state) => state.schemas?.devices);\r\n  const showSnackbar = useStore((state) => state.showSnackbar);\r\n  const [deviceType, setDeviceType] = useState(\"\");\r\n  const [model, setModel] = useState({});\r\n\r\n  const currentSchema = deviceType ? deviceTypes[deviceType].schema : {};\r\n\r\n  const handleClose = () => {\r\n    setDialogOpenAddDevice(false);\r\n  };\r\n  const handleAddDevice = (e) => {\r\n    const cleanedModel = Object.fromEntries(\r\n      Object.entries(model).filter(([_, v]) => v !== \"\")\r\n    );\r\n    const defaultModel = {};\r\n\r\n    for (const key in currentSchema.properties) {\r\n      currentSchema.properties[key].default !== undefined\r\n        ? (defaultModel[key] = currentSchema.properties[key].default)\r\n        : undefined;\r\n    }\r\n\r\n    const valid = currentSchema.required.every((val) =>\r\n      Object.keys({ ...defaultModel, ...cleanedModel }).includes(val)\r\n    );\r\n\r\n    if (!valid) {\r\n      showSnackbar({\r\n        message: \"Please fill in all required fields.\",\r\n        messageType: \"warning\",\r\n      });\r\n    } else {\r\n      if (\r\n        initial.config &&\r\n        Object.keys(initial.config).length === 0 &&\r\n        initial.config.constructor === Object\r\n      ) {\r\n        // console.log(\"ADDING\");\r\n        addDevice({\r\n          type: deviceType,\r\n          config: { ...defaultModel, ...cleanedModel },\r\n        }).then((res) => {\r\n          if (res !== \"failed\") {\r\n            setDialogOpenAddDevice(false);\r\n            getDevices();\r\n            getVirtuals();\r\n          } else {\r\n          }\r\n        });\r\n      } else {\r\n        // console.log(\"EDITING\");\r\n        updateDevice(deviceId, {\r\n          type: deviceType,\r\n          config: { ...model },\r\n        }).then((res) => {\r\n          if (res !== \"failed\") {\r\n            setDialogOpenAddDevice(false);\r\n            getDevices();\r\n            getVirtuals();\r\n          } else {\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n  const handleTypeChange = (value, initial = {}) => {\r\n    setDeviceType(value);\r\n    setModel(initial);\r\n  };\r\n  const handleModelChange = (config) => {\r\n    setModel({ ...model, ...config });\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleTypeChange(initial.type, initial.config);\r\n  }, [initial.type]);\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"form-dialog-title\"\r\n    >\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        {initial.config &&\r\n          Object.keys(initial.config).length === 0 &&\r\n          initial.config.constructor === Object\r\n          ? `Add ${deviceType.toUpperCase()} Device`\r\n          : `${deviceType.toUpperCase()} Config`}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          To add a device to LedFx, please first select the type of device you\r\n          wish to add then provide the necessary configuration.\r\n        </DialogContentText>\r\n        <div className={classes.wrapper}>\r\n          <label>Device Type</label>\r\n          <Select\r\n            label=\"Type\"\r\n            disabled={!(initial.config &&\r\n              Object.keys(initial.config).length === 0 &&\r\n              initial.config.constructor === Object)}\r\n            style={{ flexGrow: 1 }}\r\n            disableUnderline\r\n            value={deviceType}\r\n            onChange={(e) => handleTypeChange(e.target.value)}\r\n          >\r\n            {deviceTypes &&\r\n              Object.keys(deviceTypes).map((item, i) => (\r\n                <MenuItem key={i} value={item}>\r\n                  {item}\r\n                </MenuItem>\r\n              ))}\r\n          </Select>\r\n        </div>\r\n        <Divider style={{ marginBottom: \"1rem\" }} />\r\n        {model && (\r\n          <BladeSchemaForm\r\n            schema={currentSchema}\r\n            model={model}\r\n            onModelChange={handleModelChange}\r\n            hideToggle={!deviceType}\r\n          />\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleAddDevice} color=\"primary\">\r\n          {initial.config &&\r\n            Object.keys(initial.config).length === 0 &&\r\n            initial.config.constructor === Object\r\n            ? \"Add\"\r\n            : \"Save\"}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default AddDeviceDialog;\r\n","import { useState, useEffect } from \"react\";\r\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Button } from \"@material-ui/core\";\r\nimport useStore from \"../../utils/apiStore\";\r\nimport BladeSchemaForm from \"../SchemaForm/BladeSchemaForm\";\r\n\r\nconst AddVirtualDialog = () => {\r\n  const addVirtual = useStore((state) => state.addVirtual);\r\n  const getDevices = useStore((state) => state.getDevices);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const virtuals = useStore((state) => state.virtuals);\r\n\r\n  const open = useStore((state) => state.dialogs.addVirtual?.open || false);\r\n  const virtId = useStore(\r\n    (state) => state.dialogs.addVirtual?.edit || false\r\n  );\r\n  const initial = virtuals[virtId] || { type: \"\", config: {} };\r\n\r\n  const setDialogOpenAddVirtual = useStore(\r\n    (state) => state.setDialogOpenAddVirtual\r\n  );\r\n\r\n  const virtualsSchemas = useStore((state) => state.schemas?.virtuals);\r\n  const showSnackbar = useStore((state) => state.showSnackbar);\r\n  const [model, setModel] = useState({});\r\n\r\n  const currentSchema = (virtualsSchemas && virtualsSchemas.schema) || {};\r\n\r\n  const handleClose = () => {\r\n    setDialogOpenAddVirtual(false);\r\n    setModel({});\r\n  };\r\n  const handleAddVirtual = (e) => {\r\n    const cleanedModel = Object.fromEntries(\r\n      Object.entries(model).filter(([_, v]) => v !== \"\")\r\n    );\r\n    const defaultModel = {};\r\n\r\n    for (const key in currentSchema.properties) {\r\n      currentSchema.properties[key].default !== undefined\r\n        ? (defaultModel[key] = currentSchema.properties[key].default)\r\n        : undefined;\r\n    }\r\n\r\n    const valid = currentSchema.required.every((val) =>\r\n      Object.keys({ ...defaultModel, ...cleanedModel }).includes(val)\r\n    );\r\n\r\n    if (!valid) {\r\n      showSnackbar({\r\n        message: \"Please fill in all required fields.\",\r\n        messageType: \"warning\",\r\n      });\r\n    } else {\r\n      if (\r\n        initial.config &&\r\n        Object.keys(initial.config).length === 0 &&\r\n        initial.config.constructor === Object\r\n      ) {\r\n        // console.log(\"ADDING\");\r\n        addVirtual({\r\n          config: { ...defaultModel, ...cleanedModel },\r\n        }).then((res) => {\r\n          console.log(res);\r\n          if (res !== \"failed\") {\r\n            setDialogOpenAddVirtual(false);\r\n            getDevices();\r\n            getVirtuals();\r\n          } else {\r\n          }\r\n        });\r\n      } else {\r\n        // console.log(\"EDITING\");\r\n        addVirtual({\r\n          id: virtId,\r\n          config: { ...model },\r\n        }).then((res) => {\r\n          // console.log(res);\r\n          if (res !== \"failed\") {\r\n            setDialogOpenAddVirtual(false);\r\n            getDevices();\r\n            getVirtuals();\r\n          } else {\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleModelChange = (config) => {\r\n    setModel({ ...model, ...config });\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleModelChange(initial.config);\r\n  }, [virtId]);\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"form-dialog-title\"\r\n    >\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        {initial.config &&\r\n        Object.keys(initial.config).length === 0 &&\r\n        initial.config.constructor === Object\r\n          ? \"Add Virtual Device\"\r\n          : \"Settings\"}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          With Virtuals, you can split devices into segments and merge several\r\n          segments over several devices into one Virtual-Device.\r\n        </DialogContentText>\r\n\r\n        <BladeSchemaForm\r\n          schema={currentSchema}\r\n          model={model}\r\n          onModelChange={handleModelChange}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleAddVirtual} color=\"primary\">\r\n          {initial.config &&\r\n          Object.keys(initial.config).length === 0 &&\r\n          initial.config.constructor === Object\r\n            ? \"Add\"\r\n            : \"Save\"}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default AddVirtualDialog;\r\n","import { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Button, MenuItem, Select, DialogTitle, DialogContentText, DialogContent, DialogActions, Dialog, Divider } from \"@material-ui/core\";\r\nimport useStore from \"../../utils/apiStore\";\r\nimport BladeSchemaForm from \"../SchemaForm/BladeSchemaForm\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  wrapper: {\r\n    minWidth: \"200px\",\r\n    padding: \"16px 1.2rem 6px 1.2rem\",\r\n    border: \"1px solid #999\",\r\n    borderRadius: \"10px\",\r\n    position: \"relative\",\r\n    margin: \"1rem 0\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    \"@media (max-width: 580px)\": {\r\n      width: \"100%\",\r\n      margin: \"0.5rem 0\",\r\n    },\r\n    \"& > label\": {\r\n      top: \"-0.7rem\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      left: \"1rem\",\r\n      padding: \"0 0.3rem\",\r\n      position: \"absolute\",\r\n      fontVariant: \"all-small-caps\",\r\n      fontSize: '0.9rem',\r\n      letterSpacing: '0.1rem',\r\n      backgroundColor: theme.palette.background.paper,\r\n      boxSizing: \"border-box\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst AddIntegrationDialog = () => {\r\n  const classes = useStyles();\r\n\r\n  const getIntegrations = useStore((state) => state.getIntegrations);\r\n\r\n  const addIntegration = useStore((state) => state.addIntegration);\r\n  const updateIntegration = useStore((state) => state.updateIntegration);\r\n  const integrations = useStore((state) => state.integrations);\r\n  \r\n  const open = useStore((state) => state.dialogs.addIntegration?.open || false);\r\n  \r\n  const integrationId = useStore((state) => state.dialogs.addIntegration?.edit || false);\r\n  const initial = integrations[integrationId] || { type: \"\", config: {} };\r\n\r\n  const setDialogOpenAddIntegration = useStore(\r\n    (state) => state.setDialogOpenAddIntegration\r\n  );\r\n\r\n  const integrationsTypes = useStore((state) => state.schemas?.integrations);\r\n  const showSnackbar = useStore((state) => state.showSnackbar);\r\n  const [integrationType, setIntegrationType] = useState(\"\");\r\n  const [model, setModel] = useState({});\r\n\r\n  const currentSchema = integrationType ? integrationsTypes[integrationType].schema : {};\r\n\r\n  const handleClose = () => {\r\n    setDialogOpenAddIntegration(false);\r\n  };\r\n  const handleAddDevice = (e) => {\r\n    const cleanedModel = Object.fromEntries(\r\n      Object.entries(model).filter(([_, v]) => v !== \"\")\r\n    );\r\n    const defaultModel = {};\r\n\r\n    for (const key in currentSchema.properties) {\r\n      currentSchema.properties[key].default !== undefined\r\n        ? (defaultModel[key] = currentSchema.properties[key].default)\r\n        : undefined;\r\n    }\r\n\r\n    const valid = currentSchema.required.every((val) =>\r\n      Object.keys({ ...defaultModel, ...cleanedModel }).includes(val)\r\n    );\r\n\r\n    if (!valid) {\r\n      showSnackbar({\r\n        message: \"Please fill in all required fields.\",\r\n        messageType: \"warning\",\r\n      });\r\n    } else {\r\n      if (\r\n        initial.config &&\r\n        Object.keys(initial.config).length === 0 &&\r\n        initial.config.constructor === Object\r\n      ) {\r\n        // console.log(\"ADDING\");\r\n        addIntegration({\r\n          type: integrationType,\r\n          config: { ...defaultModel, ...cleanedModel },\r\n        }).then((res) => {\r\n          if (res !== \"failed\") {\r\n            setDialogOpenAddIntegration(false);\r\n            getIntegrations();\r\n          } else {\r\n          }\r\n        });\r\n      } else {\r\n        // console.log(\"EDITING\");\r\n        updateIntegration({\r\n          id: integrationId,\r\n          type: integrationType,\r\n          config: { ...model },\r\n        }).then((res) => {\r\n          if (res !== \"failed\") {\r\n            setDialogOpenAddIntegration(false);\r\n            getIntegrations();\r\n          } else {\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n  const handleTypeChange = (value, initial = {}) => {\r\n    setIntegrationType(value);\r\n    setModel(initial);\r\n  };\r\n  const handleModelChange = (config) => {\r\n    setModel({ ...model, ...config });\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleTypeChange(initial.type, initial.config);\r\n  }, [initial.type]);\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"form-dialog-title\"\r\n    >\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        {initial.config &&\r\n        Object.keys(initial.config).length === 0 &&\r\n        initial.config.constructor === Object\r\n          ? \"Add\"\r\n          : \"Edit\"}{\" \"}\r\n        {integrationType.toUpperCase()} Integration\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          To add an interation to LedFx, please first select the type of integration you\r\n          wish to add then provide the necessary configuration.\r\n        </DialogContentText>\r\n        <div className={classes.wrapper}>\r\n          <label>Integration Type</label>\r\n          <Select\r\n            label=\"Type\"\r\n            style={{ flexGrow: 1 }}\r\n            disableUnderline\r\n            value={integrationType}\r\n            onChange={(e) => handleTypeChange(e.target.value)}\r\n          >\r\n            {integrationsTypes &&\r\n              Object.keys(integrationsTypes).map((item, i) => (\r\n                <MenuItem key={i} value={item} disabled={item !== \"mqtt_hass\"}>\r\n                  {item}\r\n                </MenuItem>\r\n              ))}\r\n          </Select>\r\n        </div>\r\n        <Divider style={{ marginBottom: \"1rem\" }} />\r\n        {model && (\r\n          <BladeSchemaForm\r\n            hideToggle={!integrationType}\r\n            type={integrationType}\r\n            schema={currentSchema}\r\n            model={model}\r\n            onModelChange={handleModelChange}\r\n          />\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleAddDevice} color=\"primary\">\r\n          {initial.config &&\r\n          Object.keys(initial.config).length === 0 &&\r\n          initial.config.constructor === Object\r\n            ? \"Add\"\r\n            : \"Save\"}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default AddIntegrationDialog;\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { Language } from '@material-ui/icons';\r\n\r\nexport default function ChangeSpotifyURLDialog({ style, spotifyURL, setSpotifyURL }) {\r\n    const [open, setOpen] = React.useState(false);\r\n    const [url, setUrl] = React.useState(spotifyURL);\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n    const handleClose = (e) => {\r\n        setOpen(false);\r\n    };\r\n    const handleSave = (e) => {\r\n        setSpotifyURL(url)\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <IconButton onClick={handleClickOpen} style={style}>\r\n                <Language />\r\n            </IconButton>\r\n            <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n                <DialogTitle id=\"form-dialog-title\">Spotify URL</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        Right-click a Playlist/Track/... in spotify and select share,\r\n                        copy link and paste it here\r\n                    </DialogContentText>\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"url\"\r\n                        label=\"URL\"\r\n                        type=\"text\"\r\n                        value={url}\r\n                        onChange={(e) => setUrl(e.target.value)}\r\n                        fullWidth\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose} color=\"primary\">\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={handleSave} color=\"primary\">\r\n                        Change\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\n","import useStore from '../../../utils/apiStore';\r\nimport { Fab, IconButton } from '@material-ui/core';\r\nimport { QueueMusic } from '@material-ui/icons';\r\nimport ChangeSpotifyURLDialog from './ChangeSpotifyURLDialog';\r\nimport BladeIcon from '../../Icons/BladeIcon';\r\n\r\nconst SpotifyWidget = ({\r\n  spotifyEnabled,\r\n  setSpotifyEnabled,\r\n  spotifyExpanded,\r\n  setSpotifyExpanded\r\n}) => {\r\n\r\n  const spotifyURL = useStore((state) => state.spotifyEmbedUrl);\r\n  const setSpotifyURL = useStore((state) => state.setSpotifyEmbedUrl);\r\n\r\n  return (\r\n    <>\r\n      <Fab size=\"small\" color=\"secondary\" onClick={() => setSpotifyEnabled(!spotifyEnabled)} style={{ position: 'fixed', bottom: spotifyEnabled ? spotifyExpanded ? 363 : 143 : 65, right: 10, zIndex: 4 }} >\r\n        <BladeIcon name=\"mdi:spotify\" style={{\r\n          marginLeft: '50%',\r\n          marginTop: '50%',\r\n          transform: 'translate(-43%, -43%)'\r\n\r\n        }} />\r\n      </Fab>\r\n      {spotifyEnabled && <>\r\n        <div style={{ position: 'fixed', display: 'flex', bottom: spotifyExpanded ? 258 : 38, right: 36, zIndex: 2 }}>\r\n          <ChangeSpotifyURLDialog spotifyURL={spotifyURL} setSpotifyURL={setSpotifyURL} />\r\n          <IconButton onClick={() => setSpotifyExpanded(!spotifyExpanded)} >\r\n            <QueueMusic />\r\n          </IconButton>\r\n        </div>\r\n        <iframe src={`${spotifyURL.split('?')[0].replace('.com/embed/', '.com/').replace('.com/', '.com/embed/')}?theme=0`} width=\"100%\" height={spotifyEnabled ? spotifyExpanded ? 300 : 80 : 0} style={{ position: 'fixed', bottom: 0, left: 0 }} frameBorder=\"0\" allowtransparency=\"true\" allow=\"encrypted-media\"></iframe>\r\n      </>}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SpotifyWidget\r\n","import React from 'react';\r\nimport useStore from '../utils/apiStore';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Fab, Icon, Menu, MenuItem, ListItemIcon, ListItemText } from '@material-ui/core';\r\nimport { Add, Send, Wallpaper, SettingsInputComponent, SettingsInputSvideo } from '@material-ui/icons';\r\n\r\nconst MenuLine = React.forwardRef(({\r\n    icon = <Send fontSize=\"small\" />,\r\n    name = 'MenuItem',\r\n    action\r\n}, ref) => <MenuItem onClick={action} ref={ref}>\r\n        <ListItemIcon>\r\n            {icon}\r\n        </ListItemIcon>\r\n        <ListItemText primary={name} />\r\n    </MenuItem>)\r\n\r\nconst StyledMenu = withStyles({\r\n    paper: {\r\n        border: '1px solid rgba(255, 255, 255, 0.12)',\r\n        transform: 'translateY(-1rem) !important'\r\n    },\r\n})((props) => (\r\n    <Menu\r\n        elevation={0}\r\n        getContentAnchorEl={null}\r\n        anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'center',\r\n        }}\r\n        transformOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'center',\r\n        }}\r\n        {...props}\r\n    />\r\n));\r\n\r\nconst AddButton = ({ className, style, setBackdrop }) => {\r\n    const setDialogOpenAddScene = useStore((state) => state.setDialogOpenAddScene);\r\n    const setDialogOpenAddDevice = useStore((state) => state.setDialogOpenAddDevice);\r\n    const setDialogOpenAddVirtual = useStore((state) => state.setDialogOpenAddVirtual);\r\n    const setDialogOpenAddIntegration = useStore((state) => state.setDialogOpenAddIntegration);\r\n    const features = useStore((state) => state.features);\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n        setBackdrop(true)\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n        setBackdrop(false)\r\n    };\r\n\r\n    const menuitems = [\r\n        { icon: <SettingsInputComponent />, name: 'Add Device', action: () => { setDialogOpenAddDevice(true); handleClose(); } },\r\n        { icon: <Icon><span className={'mdi mdi-led-strip-variant'} style={{ position: 'relative', display: 'flex' }} /></Icon>, name: 'Add Virtual', action: () => { setDialogOpenAddVirtual(true); handleClose(); } },\r\n        { icon: <Wallpaper />, name: 'Add Scene', action: () => { setDialogOpenAddScene(true); handleClose(); } },\r\n    ];\r\n\r\n    if (features['integrations']) {\r\n        menuitems.push({ icon: <SettingsInputSvideo />, name: 'Add Integration', action: () => { setDialogOpenAddIntegration(true); handleClose(); } })\r\n    }\r\n\r\n    return (\r\n        <div className={className} style={{zIndex: 5, ...style}}>\r\n            <Fab color=\"primary\" aria-label=\"add\" onClick={handleClick}>\r\n                <Add />\r\n            </Fab>\r\n            <StyledMenu\r\n                id=\"customized-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                {menuitems.map((menuitem) => (\r\n                    <MenuLine\r\n                        key={menuitem.name}\r\n                        name={menuitem.name}\r\n                        icon={menuitem.icon}\r\n                        action={menuitem.action}\r\n                    />\r\n                ))}\r\n            </StyledMenu>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddButton","import { makeStyles } from '@material-ui/core/styles';\r\nimport { drawerWidth } from '../../utils/helpers';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    position: 'fixed',\r\n    bottom: 0,\r\n    zIndex: 4,\r\n    boxShadow: '0px -10px 30px 25px #030303',\r\n    background: theme.palette.background.light,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  rootShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  addButton: {\r\n    position: 'fixed',\r\n    marginLeft: 0,\r\n    left: '50%',\r\n    transform: 'translateX(-50%)',    \r\n    transition: theme.transitions.create(['margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    '&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft': {\r\n      bottom: theme.spacing(2) + 25,\r\n    },\r\n    '& > button.MuiFab-primary': {\r\n      backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    '& .MuiSpeedDialAction-staticTooltipLabel': {\r\n      backgroundColor: 'transparent',\r\n      marginLeft: '-1rem'\r\n    },\r\n  },\r\n  addButtonShift: {\r\n    marginLeft: drawerWidth / 2,\r\n    transition: theme.transitions.create(['margin'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n}));\r\nexport default useStyles;","import { useState, useEffect } from 'react';\r\nimport { BottomNavigation, BottomNavigationAction, Backdrop } from '@material-ui/core';\r\nimport { Settings, Home, Wallpaper, SettingsInputSvideo, SettingsInputComponent } from '@material-ui/icons';\r\nimport { useLocation, Link } from 'react-router-dom';\r\nimport useStore from '../../utils/apiStore';\r\nimport clsx from 'clsx';\r\nimport AddSceneDialog from '../Dialogs/AddSceneDialog';\r\nimport AddDeviceDialog from '../Dialogs/AddDeviceDialog';\r\nimport AddVirtualDialog from '../Dialogs/AddVirtualDialog';\r\nimport AddIntegrationDialog from '../Dialogs/AddIntegrationDialog';\r\nimport SpotifyWidget from '../Integrations/Spotify/SpotifyWidget';\r\nimport AddButton from '../AddButton';\r\nimport useStyles from './BarBottom.styles';\r\n\r\nexport default function LabelBottomNavigation() {\r\n  const classes = useStyles();\r\n  const { pathname } = useLocation();\r\n  const [value, setValue] = useState(pathname);\r\n  const [backdrop, setBackdrop] = useState(false);\r\n  const leftOpen = useStore((state) => state.ui.bars && state.ui.bars?.leftBar.open);\r\n  const features = useStore((state) => state.features);\r\n\r\n  const [spotifyEnabled, setSpotifyEnabled] = useState(false)\r\n  const [spotifyExpanded, setSpotifyExpanded] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setValue(pathname);\r\n  }, [pathname]);\r\n\r\n  return (<>\r\n    <BottomNavigation\r\n      value={value}\r\n      className={clsx(classes.root, {\r\n        [classes.rootShift]: leftOpen,\r\n      })}\r\n      showLabels={true}\r\n      style={{ bottom: spotifyEnabled ? spotifyExpanded ? 300 : 80 : 0 }}\r\n    >\r\n      <BottomNavigationAction\r\n        component={Link}\r\n        className={'step-one'}\r\n        label=\"Home\"\r\n        value=\"/\"\r\n        to=\"/\"\r\n        icon={<Home />}\r\n      />\r\n      <BottomNavigationAction\r\n        label=\"Devices\"\r\n        value=\"/Devices\"\r\n        component={Link}\r\n        to=\"/Devices\"\r\n        icon={<SettingsInputComponent />}\r\n      />\r\n      <BottomNavigationAction\r\n        component={Link}\r\n        to=\"/Scenes\"\r\n        label=\"Scenes\"\r\n        value=\"/Scenes\"\r\n        icon={<Wallpaper />}\r\n      />\r\n      {features['integrations']\r\n        ? (<BottomNavigationAction\r\n          label=\"Integrations\"\r\n          value=\"/Integrations\"\r\n          component={Link}\r\n          to={\"/Integrations\"}\r\n          icon={<SettingsInputSvideo />}\r\n        />)\r\n        : (<BottomNavigationAction\r\n          label=\"Settings\"\r\n          value=\"/Settings\"\r\n          icon={<Settings />}\r\n          component={Link}\r\n          to=\"/Settings\"\r\n        />)}\r\n    </BottomNavigation>\r\n    {features['spotify'] && (\r\n      <SpotifyWidget\r\n        spotifyEnabled={spotifyEnabled}\r\n        setSpotifyEnabled={setSpotifyEnabled}\r\n        spotifyExpanded={spotifyExpanded}\r\n        setSpotifyExpanded={setSpotifyExpanded}\r\n      />\r\n    )}\r\n    <AddSceneDialog />\r\n    <AddDeviceDialog />\r\n    <AddVirtualDialog />\r\n    <AddIntegrationDialog />\r\n    <AddButton\r\n      setBackdrop={setBackdrop}\r\n      className={`${clsx(classes.addButton, {\r\n        [classes.addButtonShift]: leftOpen,\r\n      })} step-four`}\r\n      style={{ bottom: spotifyEnabled ? spotifyExpanded ? 330 : 110 : 30 }}\r\n    />\r\n    <Backdrop style={{ zIndex: 1, backgroundColor: 'rgba(0, 0, 0, 0.8)' }} open={backdrop} />\r\n  </>\r\n  );\r\n}\r\n","import Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { Icon } from '@material-ui/core';\r\nimport useStore from '../../utils/apiStore';\r\n\r\nconst Alert = (props) => <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n\r\nconst MessageBar = () => {\r\n  const { isOpen, messageType, message } = useStore((state) => state.ui.snackbar);\r\n  const clearSnackbar = useStore((state) => state.clearSnackbar);\r\n\r\n  function handleClose() {\r\n    clearSnackbar();\r\n  }\r\n\r\n  return (\r\n    <Snackbar\r\n      anchorOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'center',\r\n      }}\r\n      open={isOpen}\r\n      autoHideDuration={2000 + (message || 0).length * 60}\r\n      onClose={handleClose}\r\n      aria-describedby=\"client-snackbar\"\r\n      action={[\r\n        <IconButton\r\n          key=\"close\"\r\n          aria-label=\"close\"\r\n          color=\"inherit\"\r\n          onClick={handleClose}\r\n        >\r\n          <Icon>close</Icon>\r\n        </IconButton>,\r\n      ]}\r\n    >\r\n      <Alert severity={messageType}>{message}</Alert>\r\n    </Snackbar>\r\n  );\r\n};\r\n\r\nexport default MessageBar;\r\n","import * as React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Box, LinearProgress, Typography, } from '@material-ui/core';\r\n\r\nexport default function LinearProgressWithLabel(props) {\r\n  return (\r\n    <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n      <Box sx={{ width: '100%', mr: 1 }}>\r\n        <LinearProgress color=\"primary\" variant=\"determinate\" {...props} />\r\n      </Box>\r\n      <Box sx={{ minWidth: 35 }}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\">{`${Math.round(\r\n          props.value,\r\n        )}%`}</Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nLinearProgressWithLabel.propTypes = {\r\n  /**\r\n   * The value of the progress indicator for the determinate and buffer variants.\r\n   * Value between 0 and 100.\r\n   */\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\n","import { useState, useEffect } from 'react';\r\nimport { Button, Box, TextField, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core';\r\nimport { Delete } from '@material-ui/icons';\r\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\r\nimport useStore from '../../utils/apiStore';\r\nimport { deleteFrontendConfig } from '../../utils/helpers';\r\nimport LinearProgressWithLabel from './Download';\r\nimport isElectron from 'is-electron';\r\n\r\nconst filter = createFilterOptions();\r\n\r\nexport default function NoHostDialog() {\r\n  const dialogOpen = useStore((state) => state.dialogs.nohost?.open || false);\r\n  const edit = useStore((state) => state.dialogs.nohost?.edit || false);\r\n  const setDialogOpen = useStore((state) => state.setDialogOpen);\r\n  const setHost = useStore((state) => state.setHost);\r\n  const storedURL = window.localStorage.getItem('ledfx-host');\r\n  const storedURLs = JSON.parse(window.localStorage.getItem('ledfx-hosts')) || [{ title: 'http://localhost:8888' }];\r\n  const [hosts, setHosts] = useState([{ title: 'http://localhost:8888' }]);\r\n  const [hostvalue, setHostvalue] = useState({ title: 'http://localhost:8888' });\r\n  const [progress, setProgress] = useState(0);\r\n\r\n  const handleClose = () => {\r\n    // if (window.process?.argv.indexOf(\"integratedCore\") === -1) {\r\n    //   window.location.reload()\r\n    // }\r\n    setDialogOpen(false);\r\n\r\n  };\r\n  window.api?.receive('fromMain', (parameters) => {\r\n    if (parameters[0] === 'download-progress') {\r\n      setProgress(parameters[1].percent * 100)\r\n    }\r\n  });\r\n  const handleSave = () => {\r\n\r\n    if (typeof hostvalue !== 'string') {\r\n      setHost(hostvalue.title);\r\n      if (!hosts.some(h => h.title === hostvalue.title)) {\r\n        window.localStorage.setItem('ledfx-hosts', JSON.stringify([...hosts, hostvalue]))\r\n      } else {\r\n        window.localStorage.setItem('ledfx-hosts', JSON.stringify([...hosts]))\r\n      }\r\n    } else {\r\n      setHost(hostvalue);\r\n    }\r\n    setDialogOpen(false);\r\n    // window.location.href = window.location.href;\r\n  };\r\n\r\n  const handleDelete = (e, title) => {\r\n    e.stopPropagation();\r\n    window.localStorage.setItem('ledfx-hosts', JSON.stringify(hosts.filter(h => h.title !== title)))\r\n    setHosts(hosts.filter(h => h.title !== title))\r\n  }\r\n\r\n  useEffect(() => {\r\n    storedURL && setHostvalue(storedURL);\r\n    storedURLs && setHosts(storedURLs)\r\n  }, [storedURL, setHosts]);\r\n\r\n  return (\r\n    <div key={\"nohost-dialog\"}>\r\n      <Dialog\r\n        open={dialogOpen}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {edit ? 'LedFx-Core Host' : window.process?.argv.indexOf(\"integratedCore\") === -1 ? 'No LedFx-Core found' : 'LedFx-Core not ready'}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {!edit && (\r\n            <DialogContentText>\r\n              You can change the host if you want:\r\n            </DialogContentText>\r\n          )}\r\n          <Autocomplete\r\n            value={hostvalue}\r\n            onChange={(event, newValue) => {\r\n              if (typeof newValue === 'string') {\r\n                setHostvalue({\r\n                  title: newValue,\r\n                });\r\n              } else if (newValue && newValue.inputValue) {\r\n                setHostvalue({\r\n                  title: newValue.inputValue,\r\n                });\r\n              } else {\r\n                setHostvalue(newValue);\r\n              }\r\n            }}\r\n            filterOptions={(options, params) => {\r\n              const filtered = filter(options, params);\r\n              if (params.inputValue !== '') {\r\n                filtered.push({\r\n                  inputValue: params.inputValue,\r\n                  title: `Add \"${params.inputValue}\"`,\r\n                });\r\n              }\r\n\r\n              return filtered;\r\n            }}\r\n            id=\"host\"\r\n            options={hosts}\r\n            getOptionLabel={(option) => {\r\n              if (typeof option === 'string') {\r\n                return option;\r\n              }\r\n              if (option.inputValue) {\r\n                return option.inputValue;\r\n              }\r\n              return option.title;\r\n            }}\r\n            renderOption={(option) => <div style={{ display: 'flex', width: '100%', justifyContent: 'space-between' }}>{option.title}<Delete onClick={(e) => handleDelete(e, option.title)} /></div>}\r\n            style={{ width: 300 }}\r\n            renderInput={(params) => <TextField {...params} label=\"IP:Port\" variant=\"outlined\" />}\r\n            selectOnFocus\r\n            clearOnBlur\r\n            handleHomeEndKeys\r\n            freeSolo\r\n\r\n          />\r\n          \r\n          {isElectron() && <p>No Core? Want to try integrated Core?  <Button variant={\"outlined\"} onClick={()=> { window.api.send('toMain', \"download-core\")}} color=\"primary\">Download Core</Button></p>}\r\n          {progress > 0 && <Box sx={{ width: '100%' }}>\r\n            <LinearProgressWithLabel value={progress} />\r\n          </Box>}\r\n           {/* {isElectron() && window.localStorage.getItem(\"core-init\") !== 'initialized' && <div onClick={()=> {deleteFrontendConfig();window.api.send('toMain', \"restart-client\")}}>Restart2</div>} */}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleSave} color=\"primary\">\r\n            Set Host\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/ring.1faea45b.png\";","import { useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport Tour from 'reactour';\nimport useStore from '../../utils/apiStore';\n\nconst steps = [\n  {\n    selector: '.step-zero',\n    content: (\n      <div>\n        <h2>LedFx Tour</h2>\n        Welcome to LedFx!\n        Feel free to follow this tour and we&apos;ll show you around 😊\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-one',\n    content: (\n      <div>\n        <h2>Navigation</h2>\n        Go to different pages from here\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-two',\n    content: (\n      <div>\n        <h2>Menu</h2>\n        LedFx actions and settings can be found up here\n        <ul style={{ paddingLeft: '1rem' }}>\n          <li>👨‍🏫 You can access a tour for other pages in this menu</li>\n          <li>\n            👀 &apos;Enable Graphs&apos; to see a preview of the device LEDs.\n            Leave it off if your browser struggles with too many pixels!\n          </li>\n        </ul>\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-three',\n    content: (\n      <div>\n        <h2>Devices Quick-Access</h2>\n        Directly jump to a device\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n  {\n    selector: '.step-four',\n    content: (\n      <div>\n        <h2>The Big Red Button</h2>\n        This is where it all begins!\n        <ul style={{ paddingLeft: '1rem' }}>\n          <li>Add Device: Add a networked LED strip</li>\n          <li>Add Virtual: Divide or merge your devices into one virtual strip</li>\n          <li>Add Scene: Save the active effects of all devices</li>\n          <li>Add Integration: Connect LedFx to other software (upcoming...)</li>\n        </ul>\n        I&apos;d recommend you now close this tour and add your first devices to LedFx 🎉\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  },\n];\n\nconst TourHome = () => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  return (\n    <>\n      <Button variant=\"outlined\" className=\"step-zero\" onClick={() => { \n        setTour(\"home\");\n        setIsTourOpen(true); \n        }}>\n        Start Tour\n      </Button>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        onRequestClose={() => setIsTourOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default TourHome;\n","import './FX.css'\r\n\r\nconst FX = ({\r\n  stroke=\"#ffffff\", strokeWidth, strokeLinejoin, strokeLinecap, currentColor = 'transparent', style\r\n}) => <svg id=\"svg\" className={'fxSvg'} xmlns=\"http://www.w3.org/2000/svg\" width=\"400\" height=\"400\" viewBox=\"-200, -200, 800,800\">\r\n    <g id=\"svgg\">\r\n    <path \r\n      id=\"path0\"\r\n      className={'fxPath'}\r\n      d=\"M12.218 90.039 C 12.544 90.576,19.991 100.596,28.767 112.305 L 44.725 133.594 121.877 133.594 L 199.030 133.594 223.686 166.476 L 248.342 199.357 207.374 253.970 C 184.842 284.007,166.406 308.936,166.406 309.369 C 166.406 309.885,177.801 310.156,199.516 310.156 L 232.626 310.156 257.134 277.377 C 270.612 259.348,281.816 244.597,282.031 244.597 C 282.246 244.597,293.450 259.348,306.929 277.377 L 331.436 310.156 364.983 310.156 C 391.615 310.156,398.408 309.955,397.938 309.180 C 397.612 308.643,378.979 283.712,356.531 253.778 L 315.717 199.353 357.080 144.208 L 398.443 89.063 364.651 89.095 L 330.859 89.127 306.648 121.517 C 293.332 139.331,282.254 153.906,282.031 153.906 C 281.808 153.906,270.731 139.331,257.414 121.517 L 233.203 89.127 122.415 89.095 C 33.983 89.069,11.746 89.260,12.218 90.039 M61.719 155.393 C 61.719 155.786,67.702 164.132,75.014 173.938 C 82.326 183.745,88.135 192.222,87.922 192.777 C 87.710 193.331,68.016 219.749,44.158 251.483 C 20.301 283.217,0.781 309.400,0.781 309.668 C 0.781 309.937,15.811 310.146,34.180 310.133 L 67.578 310.109 108.954 255.054 L 150.331 200.000 183.759 200.000 C 202.145 200.000,217.188 199.703,217.188 199.340 C 217.188 198.976,209.521 188.869,200.151 176.879 L 183.114 155.078 122.416 154.878 C 86.076 154.758,61.719 154.965,61.719 155.393 \" \r\n      stroke={stroke} \r\n      fill={currentColor}\r\n      fillRule=\"evenodd\">\r\n    </path>\r\n  </g></svg>\r\n\r\nexport default FX;\r\n","import { useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Box,\r\n  Typography,\r\n  Card,\r\n  CardHeader,\r\n  CardContent,\r\n  CardActions,\r\n  CircularProgress,\r\n  Badge,\r\n} from '@material-ui/core';\r\nimport logoCircle from '../assets/ring.png';\r\nimport TourHome from '../components/Tours/TourHome';\r\nimport useStore from '../utils/apiStore';\r\nimport FX from \"../components/Icons/FX\";\r\n// import useAddToHomescreenPrompt from \"../utils/useAddToHomeScreenPromt\";\r\n\r\nconst sleep = ms => {\r\n  return new Promise(resolve => setTimeout(resolve, ms));\r\n};\r\n\r\nexport default function Home(props) {\r\n  const scanForDevices = useStore((state) => state.scanForDevices);\r\n  const getDevices = useStore((state) => state.getDevices);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const [scanning, setScanning] = useState(false)\r\n  const invisible = useStore((state) => state.tours.home);\r\n  // const [promptable, promptToInstall, isInstalled] = useAddToHomescreenPrompt();\r\n  // console.log(promptable, promptToInstall, isInstalled)\r\n  const handleScan = () => {\r\n    setScanning(true)\r\n    scanForDevices().then(async () => {\r\n      for (let sec = 1; sec <= 30; sec++) {\r\n        await sleep(1000).then(() => {\r\n          getDevices();\r\n          getVirtuals();\r\n          setScanning(sec)\r\n        });\r\n      }\r\n    }).then(() => {\r\n      setScanning(false)\r\n    })\r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"Content\">\r\n        <div style={{ position: 'relative' }} >\r\n          <img src={logoCircle} className=\"App-logo\" alt=\"logo-circle\" />\r\n          <FX />\r\n        </div>\r\n      </div>\r\n      <Card\r\n        variant=\"outlined\"\r\n        style={{\r\n          maxWidth: '400px',\r\n          margin: '0.5rem auto 2rem auto',\r\n        }}\r\n      >\r\n        <CardHeader title=\"Welcome to LedFx\" />\r\n        <CardContent>\r\n          Complete Frontend Rewrite... from scratch\r\n          <ul>\r\n            <li>Modern React</li>\r\n            <li>Zustand as State-Management</li>\r\n            <li>Typescript supported</li>\r\n            <li>Mobile First</li>\r\n            <li>by Blade</li>\r\n          </ul>\r\n        </CardContent>\r\n        <CardActions>\r\n          <Badge variant=\"dot\" color=\"primary\" invisible={invisible}>\r\n            <TourHome className={'step-one'} />\r\n          </Badge>\r\n          <Button onClick={() => handleScan()} variant=\"outlined\">\r\n            {scanning ? <><CircularProgress\r\n              variant=\"determinate\"\r\n              value={(scanning / 30) * 100}\r\n              size={24}\r\n            />\r\n              <Box\r\n                top={0}\r\n                left={0}\r\n                bottom={0}\r\n                right={0}\r\n                position=\"absolute\"\r\n                display=\"flex\"\r\n                alignItems=\"center\"\r\n                justifyContent=\"center\"\r\n              >\r\n                <Typography variant=\"caption\" style={{ fontSize: 10 }} component=\"div\" color=\"textSecondary\">{`${Math.round(\r\n                  (scanning / 30) * 100,\r\n                )}%`}</Typography>\r\n              </Box>\r\n            </> : 'WLED-scan'}\r\n          </Button>\r\n        </CardActions>\r\n      </Card>\r\n      {/* {promptable && !isInstalled ? (\r\n        <ButtonElement onClick={promptToInstall}>INSTALL APP</ButtonElement>\r\n      ) : null} */}\r\n    </>\r\n  );\r\n}\r\n","import React, { forwardRef } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PopoverOriginal from '@material-ui/core/Popover';\r\nimport { Typography, Button, MenuItem, ListItemIcon, } from '@material-ui/core';\r\nimport { Delete, Close, Check } from '@material-ui/icons';\r\nimport { useLongPress } from 'use-long-press';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  typography: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function Popover({\r\n  onConfirm,\r\n  confirmDisabled,\r\n  confirmContent,\r\n  onSingleClick = () => {},\r\n  onDoubleClick,\r\n  openOnDoubleClick = false,\r\n  openOnLongPress = false,\r\n  variant = 'contained',\r\n  color = 'secondary',\r\n  label,\r\n  text = 'Are you sure?',\r\n  direction = 'left',\r\n  vertical = 'center',\r\n  anchorOrigin,\r\n  transformOrigin,\r\n  size = 'small',\r\n  icon = <Delete />,\r\n  content,\r\n  footer,\r\n  className,\r\n  startIcon,\r\n  noIcon = false,\r\n  style = {},\r\n  disabled = false,\r\n  popoverStyle,\r\n  wrapperStyle,\r\n  type,\r\n}) {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const openPopover = (event) => {\r\n    setAnchorEl(event.currentTarget || event.target)\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null)\r\n  };\r\n  const longPress = useLongPress((e) => openPopover(e), {\r\n    onCancel: e => {\r\n      onSingleClick && onSingleClick()\r\n    },\r\n    treshhold: 1000,\r\n    captureEvent: true,\r\n  });\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popover' : undefined;\r\n\r\n  return (\r\n    <div style={{ display: 'initial', ...wrapperStyle }}>\r\n      {type === 'menuItem'\r\n        ? <MenuItem className={className} onClick={(e) => { e.preventDefault(); onSingleClick(e); openPopover(e)}}>\r\n          <ListItemIcon>\r\n            {icon}\r\n          </ListItemIcon>\r\n          {label}\r\n        </MenuItem>\r\n        : openOnLongPress\r\n        ? <Button\r\n          aria-describedby={id}\r\n          variant={variant}\r\n          color={color}\r\n          size={size}\r\n          className={className}\r\n          style={style}\r\n          startIcon={!noIcon && startIcon}\r\n          disabled={disabled}\r\n          {...longPress}\r\n        >\r\n          {label}\r\n          {!startIcon && !noIcon && icon}\r\n        </Button>\r\n        : <Button\r\n          aria-describedby={id}\r\n          variant={variant}\r\n          color={color}\r\n          onClick={(e) => {\r\n            e.preventDefault()\r\n            !openOnDoubleClick && openPopover(e)\r\n            onSingleClick && onSingleClick(e)\r\n          }}\r\n          size={size}\r\n          className={className}\r\n          style={style}\r\n          startIcon={!noIcon && startIcon}\r\n          disabled={disabled}\r\n          onDoubleClick={(e) => {\r\n            e.preventDefault()\r\n            openOnDoubleClick && openPopover(e)\r\n            onDoubleClick && onDoubleClick(e)\r\n          }}\r\n        >\r\n          {label}\r\n          {!startIcon && !noIcon && icon}\r\n        </Button>}\r\n      <PopoverOriginal\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={anchorOrigin || {\r\n          vertical: vertical,\r\n          horizontal: direction,\r\n        }}\r\n        transformOrigin={transformOrigin || {\r\n          vertical: vertical,\r\n          horizontal: direction === 'center' ? 'center' : 'right',\r\n        }}\r\n      >\r\n        <div style={{ display: 'flex', ...popoverStyle }}>\r\n          {content ? content : <Typography className={classes.typography}>{text}</Typography>}\r\n          \r\n          <Button\r\n            disabled={confirmDisabled}\r\n            aria-describedby={id}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={(e) => {\r\n              e.preventDefault()\r\n              onConfirm();\r\n              setAnchorEl(null);\r\n            }}\r\n          >\r\n            {confirmContent ? confirmContent : <Check />}\r\n            \r\n          </Button>\r\n          <Button\r\n            aria-describedby={id}\r\n            variant=\"outlined\"\r\n            color=\"default\"\r\n            onClick={(e) => {\r\n              e.preventDefault()\r\n              setAnchorEl(null);\r\n            }}\r\n          >\r\n            <Close />\r\n          </Button>\r\n        </div>\r\n        {footer}\r\n      </PopoverOriginal>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button, DialogTitle, DialogContent, DialogActions, Dialog, RadioGroup, Radio, FormControlLabel, MenuItem, Select } from '@material-ui/core';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport useStore from '../../utils/apiStore';\r\nimport BladeFrame from '../SchemaForm/BladeFrame';\r\n\r\nfunction ConfirmationDialogRaw(props) {\r\n    const { onClose, value: valueProp, open, ...other } = props;\r\n    const [value, setValue] = React.useState(valueProp);  \r\n\r\n    const handleCancel = () => {\r\n        onClose();\r\n    };\r\n\r\n    const handleOk = () => {\r\n        onClose(value);\r\n    };\r\n\r\n    const handleChange = event => {\r\n        setValue(event.target.value);\r\n    };\r\n\r\n    delete other.deviceList;\r\n    return (\r\n        <Dialog\r\n            disableEscapeKeyDown\r\n            maxWidth=\"xs\"\r\n            aria-labelledby=\"confirmation-dialog-title\"\r\n            open={open}\r\n            {...other}\r\n        >\r\n            <DialogTitle id=\"confirmation-dialog-title\">Select a device</DialogTitle>\r\n            <DialogContent dividers>\r\n                <BladeFrame full={true}>\r\n                    <Select\r\n                        disableUnderline\r\n                        value={value}\r\n                        style={{ width: '100%' }}\r\n                        onChange={handleChange}>\r\n                        {Object.keys(props.deviceList).map(device => (\r\n                            <MenuItem\r\n                                value={props.deviceList[device].id}\r\n                                key={props.deviceList[device].id}\r\n                            >\r\n                                {props.deviceList[device].config.name}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Select>\r\n                </BladeFrame>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button autoFocus onClick={handleCancel} color=\"primary\">\r\n                    Cancel\r\n                </Button>\r\n                <Button onClick={handleOk} color=\"primary\">\r\n                    Ok\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n}\r\n\r\nConfirmationDialogRaw.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    open: PropTypes.bool.isRequired,\r\n    value: PropTypes.string.isRequired,\r\n    config: PropTypes.any,\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        margin: '1rem auto',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    paper: {\r\n        width: '80%',\r\n        maxHeight: 435,\r\n    },\r\n}));\r\n\r\nexport default function ConfirmationDialog({ virtual, config }) {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n    const deviceList = useStore(state => state.devices) || {};\r\n    const updateVirtualSegments = useStore(state => state.updateVirtualSegments);\r\n    const getVirtuals = useStore(state => state.getVirtuals);\r\n\r\n    const handleClickListItem = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = newValue => {\r\n        setOpen(false);\r\n        if (newValue) {\r\n            const device = { ...deviceList[Object.keys(deviceList).find(d => deviceList[d].id === newValue)] };\r\n\r\n            if (device && device.config) {\r\n                const temp = [\r\n                    ...virtual.segments,\r\n                    [device.id, 0, device.config.pixel_count - 1, false],\r\n                ];\r\n                const test = temp.filter(t => t.length === 4);\r\n                updateVirtualSegments({ virtId: virtual.id, segments: test }).then(() => getVirtuals());\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            {deviceList && Object.keys(deviceList).length > 0 ? (\r\n                <>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        aria-label=\"Add\"\r\n                        className={classes.button}\r\n                        endIcon={<AddCircleIcon />}\r\n                        onClick={handleClickListItem}\r\n                        role=\"listitem\"\r\n                    >\r\n                        ADD SEGMENT\r\n                    </Button>\r\n\r\n                    <ConfirmationDialogRaw\r\n                        classes={{\r\n                            paper: classes.paper,\r\n                        }}\r\n                        config={config}\r\n                        id=\"ringtone-menu\"\r\n                        keepMounted\r\n                        open={open}\r\n                        onClose={handleClose}\r\n                        value={\"\"}\r\n                        // value={deviceList[0].id}\r\n                        deviceList={deviceList}\r\n                    />\r\n                </>\r\n            ) : (\r\n                <></>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport useStore from \"../../../utils/apiStore\";\r\n\r\nconst PixelSlider = ({ s, handleRangeSegment }) => {\r\n  const getDevices = useStore((state) => state.getDevices);\r\n  const devices = useStore((state) => state.devices);\r\n\r\n  const [range, setRange] = useState([s[1], s[2]]);\r\n\r\n  useEffect(() => {\r\n    getDevices();\r\n  }, [getDevices]);\r\n\r\n  if (!devices[s[0]]) {\r\n    return <></>;\r\n  }\r\n\r\n  const pixelRange = [s[1], s[2]];\r\n\r\n  const handleChange = (event, newValue) => {\r\n    if (newValue !== pixelRange) {\r\n      handleRangeSegment(newValue[0], newValue[1]);\r\n    }\r\n  };\r\n\r\n  const marks = [\r\n    { value: 0, label: 0 },\r\n    {\r\n      value: devices[s[0]].config.pixel_count - 1,\r\n      label: devices[s[0]].config.pixel_count - 1,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Slider\r\n      value={range}\r\n      marks={marks}\r\n      min={0}\r\n      max={devices[s[0]].config.pixel_count - 1}\r\n      onChange={(e, n) => setRange(n)}\r\n      onChangeCommitted={handleChange}\r\n      aria-labelledby=\"range-slider\"\r\n      valueLabelDisplay=\"auto\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default PixelSlider;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport const useSegmentStyles = makeStyles(theme => ({\r\n    segmentsWrapper: {\r\n        display: 'flex',\r\n        borderBottom: '1px dashed #aaa',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        padding: '0.5rem 0',\r\n    },\r\n    segmentsColOrder: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n    },\r\n    segmentsButtonUp: {\r\n        borderTopRightRadius: 0,\r\n        borderBottomRightRadius: 0,\r\n        minWidth: '50px',\r\n    },\r\n    segmentsButtonDown: {\r\n        borderTopLeftRadius: 0,\r\n        borderBottomLeftRadius: 0,\r\n        minWidth: '50px',\r\n        marginRight: '1rem',\r\n    },\r\n    segmentsColPixelSlider: {\r\n        flex: '0 1 70%',\r\n    },\r\n    segmentsColActions: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n    },\r\n    '@media (max-width: 600px)': {\r\n        segmentsColPixelSlider: {\r\n            order: 3,\r\n            width: 'calc(100% - 2rem)',\r\n            margin: '2rem auto 0 auto',\r\n        },\r\n\r\n        segmentsWrapper: {\r\n            flexDirection: 'column',\r\n            alignItems: 'flex-start',\r\n        },\r\n        segmentsColActions: {\r\n            position: 'absolute',\r\n            right: '1rem',\r\n        },\r\n    },\r\n}));","import { useEffect } from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport PixelSlider from './PixelSlider';\r\nimport PopoverSure from '../../../components/Popover';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport SwapHorizIcon from '@material-ui/icons/SwapHoriz';\r\nimport useStore from '../../../utils/apiStore';\r\nimport { swap } from '../../../utils/helpers';\r\nimport { useSegmentStyles } from './Segment.styles'\r\n\r\nconst Segment = ({ s, i, virtual, segments }) => {\r\n    const getDevices = useStore((state) => state.getDevices);\r\n    const devices = useStore((state) => state.devices);\r\n\r\n    const title = devices && devices[Object.keys(devices).find(d => d === s[0])].config.name;\r\n    const classes = useSegmentStyles();\r\n    const updateVirtualSegments = useStore(state => state.updateVirtualSegments);\r\n    const getVirtuals = useStore(state => state.getVirtuals);\r\n\r\n    const handleInvert = () => {\r\n        const newSegments = segments.map((seg, index) => index === i ? [seg[0], seg[1], seg[2], !seg[3]] : seg);\r\n        updateVirtualSegments({ virtId: virtual.id, segments: newSegments }).then(() => getVirtuals());\r\n    };\r\n    const reorder = direction => {\r\n        const newSegments = direction === 'UP' ? swap(segments, i - 1, i) : swap(segments, i, i + 1);\r\n        updateVirtualSegments({ virtId: virtual.id, segments: newSegments }).then(() => getVirtuals());\r\n    };\r\n    const handleDeleteSegment = () => {\r\n        const newSegments = segments.filter((seg, index) => index !== i)\r\n        updateVirtualSegments({ virtId: virtual.id, segments: newSegments }).then(() => getVirtuals());\r\n    };\r\n    const handleRangeSegment = (start, end) => {\r\n        const newSegments = segments.map((seg, index) => index === i ? [seg[0], start, end, !seg[3]] : seg);\r\n        updateVirtualSegments({ virtId: virtual.id, segments: newSegments }).then(() => getVirtuals());\r\n    };\r\n\r\n    useEffect(() => {\r\n        getDevices()\r\n    }, [getDevices])\r\n\r\n    return (\r\n        <div style={{ padding: '0 1rem' }}>\r\n            <div className={classes.segmentsWrapper}>\r\n                <div className={classes.segmentsColOrder}>\r\n                    <div style={{ display: 'flex' }}>\r\n                        <div>\r\n                            <Button\r\n                                disabled={i === 0}\r\n                                variant={'outlined'}\r\n                                color={'inherit'}\r\n                                onClick={() => reorder('UP')}\r\n                                size={'small'}\r\n                                className={classes.segmentsButtonUp}\r\n                            >\r\n                                <ExpandLess />\r\n                            </Button>\r\n                        </div>\r\n                        <div>\r\n                            <Button\r\n                                disabled={i === virtual.segments.length - 1}\r\n                                variant={'outlined'}\r\n                                color={'inherit'}\r\n                                onClick={() => reorder('DOWN')}\r\n                                size={'small'}\r\n                                className={classes.segmentsButtonDown}\r\n                            >\r\n                                <ExpandMore />\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ minWidth: '120px' }}>\r\n                        <Typography color=\"textSecondary\">{title}</Typography>\r\n                    </div>\r\n                </div>\r\n                <div className={classes.segmentsColPixelSlider}>\r\n                    <PixelSlider s={s} handleRangeSegment={handleRangeSegment} />\r\n                </div>\r\n                <div className={classes.segmentsColActions}>\r\n                    <div>\r\n                        <Button\r\n                            variant={s[3] ? 'contained' : 'outlined'}\r\n                            color={s[3] ? 'primary' : 'default'}\r\n                            endIcon={<SwapHorizIcon />}\r\n                            onClick={handleInvert}\r\n                            style={{ margin: '0 1rem 0 1.5rem' }}\r\n                        >\r\n                            Flip\r\n                        </Button>\r\n                    </div>\r\n                    <PopoverSure\r\n                        variant=\"outlined\"\r\n                        color=\"default\"\r\n                        onConfirm={handleDeleteSegment}\r\n                        style={{ padding: '5px' }}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Segment;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport const useEditVirtualsStyles = makeStyles(theme => ({\r\n    appBar: {\r\n      position: 'relative',\r\n      marginBottom: '1rem',\r\n      background: theme.palette.background.default,\r\n      color: theme.palette.text.primary,\r\n    },\r\n    title: {\r\n      marginLeft: theme.spacing(2),\r\n      flex: 1,\r\n    },\r\n    dialog: {\r\n      background: theme.palette.background.default,\r\n    },\r\n    segmentTitle: {\r\n      display: 'flex',\r\n      borderBottom: '1px dashed #aaa',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n      padding: '0.5rem 0',\r\n      margin: '0 1rem',\r\n    },\r\n    segmentButtonWrapper: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between',\r\n      alignItems: 'center',\r\n      padding: '0.5rem 0',\r\n      margin: '0 1rem',\r\n    },\r\n    cloudEffectCard: {\r\n      cursor: 'pointer',\r\n      width: 280,\r\n      '&:hover': {\r\n        borderColor: theme.palette.primary.main\r\n      },\r\n      '&.active': {\r\n        borderColor: theme.palette.primary.main\r\n      }\r\n    }\r\n  }));","import React, { useEffect } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\n\r\nimport { getOverlapping } from \"../../../utils/helpers\";\r\nimport useStore from '../../../utils/apiStore';\r\n\r\nimport AddSegmentDialog from '../../../components/Dialogs/_AddSegmentDialog';\r\nimport Segment from './Segment';\r\nimport { useEditVirtualsStyles } from './EditVirtuals.styles'\r\nimport { ListItemIcon, MenuItem } from '@material-ui/core';\r\nimport { Settings } from '@material-ui/icons';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst MuiMenuItem = React.forwardRef((props, ref) => {\r\n  return <MenuItem  ref={ref} {...props} />;\r\n});\r\n\r\nexport default function FullScreenDialog({\r\n  virtual,\r\n  icon = <Settings />,\r\n  startIcon,\r\n  label = '',\r\n  type,\r\n  className,\r\n  color = 'default',\r\n  variant = 'contained',\r\n  onClick = () => {},\r\n  innerKey,\r\n}) {\r\n  const classes = useEditVirtualsStyles();\r\n  const showSnackbar = useStore((state) => state.showSnackbar);\r\n  const getDevices = useStore((state) => state.getDevices);\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    const output = getOverlapping(virtual.segments);\r\n    const overlap = Object.keys(output).find(k => output[k].overlap);\r\n    if (overlap) {\r\n      showSnackbar({\r\n        message: `Overlapping in ${overlap} detected! Please Check your config`,\r\n        messageType: 'warning'\r\n      })\r\n    } else {\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    getDevices()\r\n  }, [getDevices])\r\n\r\n  return virtual && virtual.config ? (\r\n    <>\r\n      {type === 'menuItem'\r\n        ? <MuiMenuItem key={innerKey} className={className} onClick={(e) => { e.preventDefault(); onClick(e); handleClickOpen(e)}}>\r\n          <ListItemIcon>\r\n            {icon}\r\n          </ListItemIcon>\r\n          {label}\r\n        </MuiMenuItem>\r\n        : <Button\r\n          variant={variant}\r\n          startIcon={startIcon}\r\n          color={color}\r\n          onClick={(e)=>{onClick(e); handleClickOpen(e);}}\r\n          size=\"small\"\r\n          className={className}\r\n        >\r\n          {label}\r\n          {!startIcon && icon}\r\n        </Button>\r\n      }\r\n      <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <Button\r\n              autoFocus\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              startIcon={<NavigateBeforeIcon />}\r\n              onClick={handleClose}\r\n              style={{ marginRight: '1rem' }}\r\n            >\r\n              back\r\n            </Button>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              {virtual.config.name}{' '}\r\n            </Typography>\r\n          </Toolbar>\r\n        </AppBar>\r\n\r\n        <div className={classes.segmentTitle}>\r\n          <Typography variant=\"caption\">Segments-Settings</Typography>\r\n        </div>\r\n        {virtual.segments.length > 0 &&\r\n          virtual.segments.map((s, i) => (\r\n            <Segment s={s} i={i} key={i} virtual={virtual} segments={virtual.segments} />\r\n          ))}\r\n        <div className={classes.segmentButtonWrapper}>\r\n          <AddSegmentDialog virtual={virtual} />\r\n        </div>\r\n      </Dialog>\r\n    </>\r\n  ) : (<></>);\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport useStore from '../utils/apiStore';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  PixelWrapper: {\r\n    maxWidth: '520px',\r\n    display: 'flex',\r\n    width: '100%',\r\n    borderRadius: '10px',\r\n    overflow: 'hidden',\r\n    margin: '0.5rem 0 0 0',\r\n    // border: '1px solid rgba(255, 255, 255, 0.3)',\r\n    // '&.active': {\r\n    //   border: '1px solid rgba(255, 0, 0, 0.3)',\r\n    // },\r\n    '@media (max-width: 580px)': {\r\n      margin: '0',\r\n    },\r\n  },\r\n  Pixel: {\r\n    height: '20px',\r\n    borderRadius: '0',\r\n    flex: 1,\r\n  }\r\n}));\r\n\r\nconst PixelGraph = ({ virtId, dummy=false, className, active = false }) => {\r\n  const classes = useStyles();\r\n  const [pixels, setPixels] = useState([])\r\n  const pixelGraphs = useStore((state) => state.pixelGraphs);\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const graphs = useStore((state) => state.graphs);\r\n\r\n  useEffect(() => {\r\n    const handleWebsockets = (e) => {\r\n      if (e.detail.id === virtId) {\r\n        setPixels(e.detail.pixels)\r\n      }\r\n    }\r\n    document.addEventListener(\"YZ\", handleWebsockets);\r\n    return () => {\r\n      document.removeEventListener(\"YZ\", handleWebsockets)\r\n    }\r\n  }, [virtuals, pixelGraphs]);\r\n\r\n  if (!graphs) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    dummy\r\n      ? (<div className={`${classes.PixelWrapper} ${className} ${active ? 'active' : ''}`}>\r\n        <div key={1} className={classes.Pixel} style={{ backgroundColor: '#0002' }} />\r\n      </div>)\r\n      : pixels && pixels[0] && pixels[0].length\r\n        ? (<div className={`${classes.PixelWrapper} ${className}  ${active ? 'active' : ''}`}>\r\n          {pixels[0].map((p, i) => (\r\n            <div key={i} className={classes.Pixel} style={{ backgroundColor: active ? `rgb(${pixels[0][i]},${pixels[1][i]},${pixels[2][i]})` : '#0002' }} />\r\n          ))}\r\n        </div>\r\n        )\r\n        : (<div className={`${classes.PixelWrapper} ${className} ${active ? 'active' : ''}`}>\r\n        <div key={1} className={classes.Pixel} style={{ backgroundColor: '#0002' }} />\r\n      </div>)\r\n  )\r\n}\r\n\r\nexport default PixelGraph\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { LinearScale } from '@material-ui/icons';\r\n\r\nexport const useDeviceCardStyles = makeStyles((theme) => ({\r\n    virtualCardPortrait: {     \r\n      padding: '1rem 0.7rem 0.7rem 0.7rem',\r\n      margin: '0.5rem',\r\n      display: 'flex',\r\n      alignItems: 'flex-start',\r\n      flexDirection: 'column',\r\n      minWidth: '230px',\r\n      maxWidth: '400px',\r\n      width: '100%',\r\n      height: '100%',\r\n      position: 'relative',\r\n      borderRadius: 10,\r\n      background: theme.palette.background.paper,\r\n      borderColor: 'transparent',\r\n      // '&.active': {\r\n      //   background: theme.palette.background.paper,\r\n      // },\r\n      '&:hover': {\r\n      borderColor: theme.palette.text.disabled,\r\n    }\r\n    },\r\n    virtualLink: {\r\n      flexGrow: 0,\r\n      textDecoration: 'none',\r\n      fontSize: 'large',\r\n      color: 'inherit',\r\n      alignSelf: 'flex-start',\r\n      '&:hover': {\r\n        color: `${theme.palette.primary.main} !important`,\r\n      },\r\n    },\r\n    virtualIconWrapper: {\r\n      width: '50px',\r\n      height: '55px',\r\n      marginRight: '0.5rem',\r\n    },\r\n    virtualIcon: {\r\n      marginBottom: '4px',\r\n      marginRight: '0.5rem',\r\n      position: 'relative',\r\n      fontSize: '50px',\r\n      position: 'absolute',\r\n      transformOrigin: 'top left',\r\n      '&.graphs': {\r\n        transformOrigin: 'center left',\r\n      },\r\n      transition: 'transform 0.3s ease-in-out',\r\n      transitionDelay: '0s',      \r\n      '&.extended': {\r\n        transform: 'scale(1.7) translateY(-4px);',\r\n        transformOrigin: 'top left',        \r\n        transition: 'transform 0.3s ease-in-out',\r\n        transitionDelay: '0s',\r\n      },\r\n      '&.extended.graphs': {\r\n        transform: 'scale(1.25)',\r\n        transformOrigin: 'center left',        \r\n        transition: 'transform 0.3s ease-in-out',\r\n        transitionDelay: '0s',\r\n      },\r\n      '& svg': {          \r\n        transform: 'unset',\r\n        width: '100%',\r\n        marginTop: '3px',\r\n        height: '100%',\r\n    }\r\n    },\r\n    \r\n    virtualCardContainer: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      width: '100%',\r\n      height: '100%',\r\n      padding: '0 0.3rem',\r\n      justifyContent: 'space-between',\r\n        flexDirection: 'row',\r\n    },\r\n    iconMedia: {\r\n      height: 140,\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      margin: '0 auto',\r\n      fontSize: 100,\r\n      '& > span:before': {\r\n        position: 'relative',\r\n      },\r\n    },\r\n    editButton: {\r\n      marginLeft: theme.spacing(1),\r\n        minWidth: 'unset',\r\n    },\r\n    editButtonMobile: {\r\n      marginLeft: theme.spacing(1),\r\n        minWidth: 'unset',\r\n        flexGrow: 1,\r\n    },\r\n    expand: {\r\n      transform: 'rotate(0deg)',\r\n      alignSelf: 'flex-start',\r\n      marginLeft: 'auto',\r\n      transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n      }),\r\n        display: 'block'\r\n    },\r\n    expandOpen: {\r\n      transform: 'rotate(180deg)',\r\n    },\r\n    buttonBarMobile: {\r\n      width: '100%',\r\n      height: '100%',\r\n      textAlign: 'right',\r\n    },\r\n    buttonBarMobileWrapper: {\r\n      height: 110,\r\n      display: 'flex',\r\n      margin: 0,\r\n      padding: '0.5rem 80px 0.5rem 0.5rem',\r\n      background: 'rgba(0,0,0,0.93)',      \r\n      '& > div, & > button': {\r\n        flexGrow: 1,\r\n        flexBasis: '30%',\r\n      },\r\n      '&.extended.graphs': {\r\n        height: 'auto',\r\n        paddingTop: 0,\r\n      }\r\n    },\r\n    pixelbar: {\r\n      opacity: 1,\r\n      transitionDuration: 0,\r\n      width: '100%',\r\n    },\r\n    pixelbarOut: {\r\n      opacity: 0.2,\r\n      transition: 'opacity',\r\n      transitionDuration: 1000\r\n    }\r\n  }));","import { useState, useRef, useEffect } from 'react';\r\nimport clsx from 'clsx';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport Card from '@material-ui/core/Card';\r\nimport Button from '@material-ui/core/Button';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport TuneIcon from '@material-ui/icons/Tune';\r\nimport BuildIcon from '@material-ui/icons/Build';\r\nimport { NavLink } from 'react-router-dom';\r\nimport useStore from '../../../utils/apiStore';\r\nimport Popover from '../../../components/Popover';\r\nimport EditVirtuals from '../EditVirtuals/EditVirtuals';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport PixelGraph from '../../../components/PixelGraph';\r\nimport { useDeviceCardStyles } from './DeviceCard.styles'\r\nimport BladeIcon from '../../../components/Icons/BladeIcon';\r\nimport { Clear, Delete, Pause, PlayArrow } from '@material-ui/icons';\r\n\r\nconst DeviceCard = ({ virtual, index }) => {\r\n  const classes = useDeviceCardStyles();\r\n  const theme = useTheme();\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const getDevices = useStore((state) => state.getDevices);\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const devices = useStore((state) => state.devices);\r\n  const deleteVirtual = useStore((state) => state.deleteVirtual);\r\n  const setDialogOpenAddDevice = useStore((state) => state.setDialogOpenAddDevice);\r\n  const setDialogOpenAddVirtual = useStore((state) => state.setDialogOpenAddVirtual);\r\n  const graphs = useStore((state) => state.graphs);\r\n  const clearVirtualEffect = useStore((state) => state.clearVirtualEffect);\r\n  const updateVirtual = useStore((state) => state.updateVirtual);\r\n\r\n  const [fade, setFade] = useState(false)\r\n  const [isActive, setIsActive] = useState((virtuals && virtual && virtuals[virtual] && virtuals[virtual].effect && Object.keys(virtuals[virtual].effect).length > 0) || devices && devices[Object.keys(devices).find(d => d === virtual)]?.active_virtuals.length > 0)\r\n  const [expanded, setExpanded] = useState(false);\r\n  const color = 'inherit';\r\n\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n\r\n  const handleDeleteDevice = (virtual) => {\r\n    deleteVirtual(virtuals[virtual]?.id).then(() => {\r\n      getVirtuals();\r\n    });\r\n  };\r\n\r\n  const handleEditVirtual = (virtual) => {\r\n    setDialogOpenAddVirtual(true, virtual)\r\n  };\r\n  const handleEditDevice = (device) => {\r\n    setDialogOpenAddDevice(true, device)\r\n  };\r\n\r\n  const handleClearEffect = () => {\r\n    clearVirtualEffect(virtual).then(() => {\r\n      setFade(true)\r\n      setTimeout(() => { getVirtuals();getDevices(); }, virtuals[virtual].config.transition_time * 1000)\r\n      setTimeout(() => { setFade(false) }, virtuals[virtual].config.transition_time * 1000 + 300)\r\n    });\r\n  };\r\n\r\n  const handlePlayPause = () => {\r\n    updateVirtual(virtuals[virtual].id, { active: !virtuals[virtual].active })\r\n      .then(() => getVirtuals());\r\n  };\r\n\r\n  useEffect(() => {        \r\n    setIsActive((virtual && virtuals[virtual] && Object.keys(virtuals[virtual]?.effect).length > 0) || devices[Object.keys(devices).find(d => d === virtual)]?.active_virtuals.length > 0)\r\n  }, [virtuals, devices])\r\n\r\n  \r\n  return virtual && virtuals[virtual] ?\r\n\r\n    <Card\r\n      component={NavLink}\r\n      to={`/device/${virtuals[virtual]?.id}`}\r\n      className={`${classes.virtualCardPortrait} ${Object.keys(virtuals[virtual]?.effect).length > 0 ? 'active' : ''}`}\r\n      style={{\r\n        textDecoration: 'none',\r\n        order: !(devices[Object.keys(devices).find(d => d === virtual)]?.active_virtuals.length > 0 || virtuals[virtual]?.effect.name)\r\n          ? 100\r\n          : !virtuals[virtual]?.effect.name\r\n            ? 50\r\n            : 'unset'\r\n      }}>\r\n      <div className={classes.virtualCardContainer}>\r\n\r\n        <div className={`${classes.virtualIconWrapper}`}>\r\n          <BladeIcon\r\n            colorIndicator={false}\r\n            name={virtuals[virtual]?.config && virtuals[virtual]?.config.icon_name && virtuals[virtual]?.config.icon_name}\r\n            className={`${classes.virtualIcon} ${!graphs ? 'graphs' : ''} ${expanded ? 'extended' : ''}`}\r\n            style={{ zIndex: 3 }}\r\n            card={true} />\r\n        </div>\r\n\r\n\r\n        <div style={{ padding: '0 0.5rem' }}>\r\n          <Typography variant=\"h6\"\r\n            style={{ lineHeight: 1, color: (!graphs && Object.keys(virtuals[virtual]?.effect).length > 0) ? theme.palette.primary.light : 'inherit' }}\r\n          >\r\n            {virtual && virtuals[virtual]?.config && virtuals[virtual]?.config.name}\r\n          </Typography>\r\n          {virtuals[virtual]?.effect.name\r\n            ? <>\r\n              <Typography variant=\"body1\" color=\"textSecondary\" style={{ height: 25, display: 'flex', alignItems: 'center' }}>\r\n                Effect: {virtuals[virtual]?.effect.name}\r\n                <Button\r\n                  size=\"small\"\r\n                  onClick={(e) => { e.preventDefault(); handlePlayPause(); }}\r\n                  style={{ color: '#999', minWidth: 'unset', zIndex: expanded ? 1 : 3 }}\r\n                >\r\n                  {virtuals[virtual]?.active ? <Pause /> : <PlayArrow />}\r\n                </Button>\r\n                <Button\r\n                  size=\"small\"\r\n                  onClick={(e) => { e.preventDefault(); handleClearEffect(virtual); }}\r\n                  style={{ color: '#999', minWidth: 'unset', zIndex: expanded ? 1 : 3 }}\r\n                >\r\n                  <Clear />\r\n                </Button>\r\n              </Typography>\r\n\r\n            </>\r\n            : devices[Object.keys(devices).find(d => d === virtual)]?.active_virtuals.length > 0\r\n              ? <Typography variant=\"body1\" color=\"textSecondary\" style={{ height: 25 }}>\r\n                Streaming...\r\n\r\n              </Typography>\r\n              : <Typography variant=\"body1\" style={{ color: theme.palette.text.disabled }} style={{ height: 25 }}>{\"off\"}</Typography>}\r\n        </div>\r\n\r\n        <div>\r\n          {virtual && virtuals[virtual]?.config && virtuals[virtual]?.config.preview_only && (\r\n            <Button\r\n              variant=\"text\"\r\n              disabled\r\n              size=\"small\"\r\n              className={classes.previewButton}\r\n            >\r\n              <VisibilityIcon />\r\n            </Button>\r\n          )}\r\n        </div>\r\n\r\n        <IconButton\r\n          className={clsx(classes.expand, {\r\n            [classes.expandOpen]: expanded,\r\n          })}\r\n          onClick={(e) => { e.preventDefault(); handleExpandClick(e); }}\r\n          aria-expanded={expanded}\r\n          aria-label=\"show more\"\r\n          style={{ zIndex: 3, color: '#999' }}\r\n        >\r\n          <ExpandMoreIcon className={`step-devices-two-${index}`} />\r\n        </IconButton>\r\n\r\n      </div>\r\n      <div className={clsx(classes.pixelbar, {\r\n        [classes.pixelbarOut]: fade,\r\n      })} style={{ transitionDuration: virtuals[virtual].config.transition_time * 1000 }}>\r\n        <PixelGraph active={isActive} virtId={virtuals[virtual]?.id} className={`step-devices-seven`} />\r\n      </div>\r\n      {<div style={{ position: 'absolute', left: 0, top: 0, bottom: 0, right: 0, zIndex: 2 }}><Collapse in={expanded} timeout=\"auto\" unmountOnExit className={classes.buttonBarMobile}>\r\n        <div className={`${classes.buttonBarMobileWrapper} ${!graphs ? 'graphs' : ''} ${expanded ? 'extended' : ''}`} onClick={(e) => e.preventDefault()}>\r\n          <div>\r\n          </div>\r\n          <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-end', justifyContent: 'center' }}>\r\n            <Popover\r\n              variant={\"text\"}\r\n              startIcon={<Delete />}\r\n              label=\"delete\"\r\n              color={color}\r\n              onConfirm={() => handleDeleteDevice(virtual)}\r\n              className={`step-devices-three-${index}`}\r\n              style={{ width: '100%' }}\r\n            />\r\n\r\n            {virtuals[virtual]?.is_device\r\n              ? <Button\r\n                variant={\"text\"}\r\n                color={color}\r\n                size=\"small\"\r\n                startIcon={<BuildIcon />}\r\n                className={`step-devices-four-${index}`}\r\n                onClick={(e) => { e.preventDefault(); handleEditDevice(virtuals[virtual]?.is_device) }}\r\n              >\r\n                Edit Device\r\n              </Button>\r\n              : <EditVirtuals\r\n                label=\"Edit Virtual\"\r\n                variant={\"text\"}\r\n                color={color}\r\n                virtual={virtuals[virtual]}\r\n                className={`step-devices-six`}\r\n                startIcon={<TuneIcon />}\r\n              />}\r\n            <Button\r\n              variant={\"text\"}\r\n              size=\"small\"\r\n              startIcon={<SettingsIcon />}\r\n              color={color}\r\n              className={`step-devices-five-${index}`}\r\n              onClick={(e) => { e.preventDefault(); handleEditVirtual(virtual) }}\r\n            >\r\n              Settings\r\n            </Button>\r\n          </div>\r\n\r\n        </div>\r\n      </Collapse></div>}\r\n    </Card>\r\n\r\n    : <></>\r\n}\r\n\r\nexport default DeviceCard\r\n","import { Card, CardHeader } from '@material-ui/core';\nimport { Info } from '@material-ui/icons';\nimport PropTypes from 'prop-types';\n\ninterface NoYetProps {\n  type?: string\n}\n\nconst NoYet: React.FC<NoYetProps> = ({ type }) => (\n  <Card>\n    <CardHeader\n      avatar={<Info />}\n      title={`No ${type}s yet`}\n      subheader={`You can add your first ${type} using the red button`}\n    />\n  </Card>\n);\n\nNoYet.propTypes = {\n  type: PropTypes.string,\n};\n\nNoYet.defaultProps = {\n  type: 'Thing',\n};\n\nexport default NoYet;\n","import { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport useStore from '../../utils/apiStore';\r\nimport DeviceCard from './DeviceCard/DeviceCard';\r\nimport NoYet from '../../components/NoYet';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  cardWrapper: {\r\n    padding: theme.spacing(1),\r\n    paddingTop: 0,\r\n    display: 'flex', flexWrap: 'wrap', margin: '-0.5rem', justifyContent: 'center'\r\n  },\r\n  '@media (max-width: 580px)' : {\r\n    cardWrapper:{\r\n      justifyContent: 'center'\r\n    }\r\n  }\r\n}));\r\n\r\nconst Devices = () => {\r\n  const classes = useStyles();\r\n  const getDevices = useStore((state) => state.getDevices);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const setPixelGraphs = useStore((state) => state.setPixelGraphs);\r\n  const graphs = useStore((state) => state.graphs);\r\n\r\n  useEffect(() => {\r\n    getDevices();\r\n    getVirtuals();\r\n  }, [getDevices, getVirtuals]);\r\n\r\n  useEffect(() => {\r\n    if (graphs) {\r\n      setPixelGraphs(Object.keys(virtuals))\r\n    }\r\n  }, [graphs, setPixelGraphs]);\r\n\r\n  return (\r\n      <div className={classes.cardWrapper}>\r\n        {virtuals && Object.keys(virtuals).length ? Object.keys(virtuals).map((virtual, i) => (\r\n          <DeviceCard virtual={virtual} key={i} index={i} />\r\n        )) : (<NoYet type=\"Device\" />)}\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default Devices;\r\n","import { useState } from 'react';\r\n\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport useStore from '../../utils/apiStore';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  FormRow: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    border: '1px solid rgba(255, 255, 255, 0.1)',\r\n    borderRadius: '10px',\r\n    margin: '0 0 0.5rem',\r\n    '@media (max-width: 580px)': {\r\n      flexDirection: 'column',\r\n    },\r\n  },\r\n  FormLabel: {\r\n    marginLeft: '1rem',\r\n    paddingTop: '0.5rem',\r\n    '@media (max-width: 580px)': {\r\n      display: 'none',\r\n    },\r\n  },\r\n  FormSelect: {\r\n    flexGrow: 1,\r\n    marginLeft: '1rem',\r\n    paddingTop: '0.5rem',\r\n    '&:before, &:after': {\r\n      display: 'none',\r\n    },\r\n    '& > .MuiSelect-select:focus': {\r\n      backgroundColor: 'unset',\r\n    },\r\n  },\r\n  FormListHeaders: {\r\n    pointerEvents: 'none',\r\n    background: theme.palette.secondary.main,\r\n    color: '#fff',\r\n  },\r\n  FormListItem: {\r\n    paddingLeft: '2rem',\r\n  },\r\n  FormToggleWrapper: {\r\n    '@media (max-width: 580px)': {\r\n      order: -1,\r\n    },\r\n  },\r\n\r\n  FormToggle: {\r\n    '@media (max-width: 580px)': {\r\n      flexGrow: 1,\r\n    },\r\n  },\r\n}));\r\n\r\nconst BladeEffectDropDown = ({ effects, virtual }) => {\r\n  const classes = useStyles();\r\n  const setVirtualEffect = useStore((state) => state.setVirtualEffect);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const viewMode = useStore((state) => state.viewMode);\r\n\r\n  const effectNames = effects\r\n    && Object.keys(effects).map((eid) => ({\r\n      name: effects[eid].name,\r\n      id: effects[eid].id,\r\n      category: effects[eid].category,\r\n    }));\r\n\r\n  const group = effectNames\r\n    && effectNames.reduce((r, a) => {\r\n      r[a.category] = [...(r[a.category] || []), a];\r\n      return r;\r\n    }, {});\r\n\r\n  const [formats, setFormats] = useState(\r\n    () => group && Object.keys(group).map((c) => c || []),\r\n  );\r\n\r\n  const handleFormat = (event, newFormats) => {\r\n    setFormats(newFormats);\r\n  };\r\n  const onEffectTypeChange = (e) => setVirtualEffect(virtual.id, {\r\n    type: e.target.value,\r\n  }).then(() => {\r\n    getVirtuals();     \r\n  });\r\n\r\n  return (\r\n    <>\r\n      <FormControl className={`${classes.FormRow} step-device-one`}>\r\n        <InputLabel htmlFor=\"grouped-select\" className={classes.FormLabel}>\r\n          Effect Type\r\n        </InputLabel>\r\n        <Select\r\n          value={virtual && virtual.effect && virtual.effect.type || \"\"}\r\n          onChange={(e) => onEffectTypeChange(e)}\r\n          id=\"grouped-select\"\r\n          className={classes.FormSelect}\r\n        >\r\n          <MenuItem value=\"\" disabled>\r\n            <em>None</em>\r\n          </MenuItem>\r\n          {effects\r\n            && group\r\n            && Object.keys(group).map(\r\n              (c) => formats\r\n                && formats.indexOf(c) !== -1 && [\r\n                  <ListSubheader\r\n                  className={classes.FormListHeaders}\r\n                  color=\"primary\"\r\n                >\r\n                  {c}\r\n                </ListSubheader>,\r\n                group[c].map((e) => (\r\n                    <MenuItem className={classes.FormListItem} value={e.id}>\r\n                    {e.name}\r\n                  </MenuItem>\r\n                )),\r\n              ],\r\n            )}\r\n        </Select>\r\n        {viewMode !== 'user' && <ToggleButtonGroup\r\n          value={formats}\r\n          onChange={handleFormat}\r\n          aria-label=\"text formatting\"\r\n          className={classes.FormToggleWrapper}\r\n        >\r\n          {effects\r\n            && Object.keys(group).map((c, i) => (\r\n              <ToggleButton\r\n                className={classes.FormToggle}\r\n                key={i}\r\n                value={c}\r\n                aria-label={c}\r\n              >\r\n                {c}\r\n              </ToggleButton>\r\n            ))}\r\n        </ToggleButtonGroup>}\r\n      </FormControl>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BladeEffectDropDown;\r\n","import { useEffect } from 'react';\r\n\r\n// Improved version of https://usehooks.com/useOnClickOutside/\r\nconst useClickOutside = (ref, handler) => {\r\n  useEffect(() => {\r\n    let startedInside = false;\r\n    let startedWhenMounted = false;\r\n\r\n    const listener = (event) => {\r\n      // Do nothing if `mousedown` or `touchstart` started inside ref element\r\n      if (startedInside || !startedWhenMounted) return;\r\n      // Do nothing if clicking ref's element or descendent elements\r\n      if (!ref.current || ref.current.contains(event.target)) return;\r\n\r\n      handler(event);\r\n    };\r\n\r\n    const validateEventStart = (event) => {\r\n      startedWhenMounted = ref.current;\r\n      startedInside = ref.current && ref.current.contains(event.target);\r\n    };\r\n\r\n    document.addEventListener('mousedown', validateEventStart);\r\n    document.addEventListener('touchstart', validateEventStart);\r\n    document.addEventListener('click', listener);\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', validateEventStart);\r\n      document.removeEventListener('touchstart', validateEventStart);\r\n      document.removeEventListener('click', listener);\r\n    };\r\n  }, [ref, handler]);\r\n};\r\n\r\nexport default useClickOutside;\r\n","import { useState, useCallback, useRef } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport useClickOutside from '../../utils/useClickOutside';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    border: '1px solid',\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    maxWidth: '320px',\r\n    padding: theme.spacing(1),\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  picker: {\r\n    height: '30px',\r\n    margin: '15px 10px 10px 10px',\r\n    borderRadius: '10px',\r\n    cursor: 'pointer',\r\n    border: '1px solid #fff',\r\n  },\r\n  wrapper: {\r\n    border: '1px solid rgba(255, 255, 255, 0.1)',\r\n    borderRadius: '10px',\r\n    position: 'relative',\r\n    width: '100%',\r\n    margin: '0.5rem 0',\r\n    '& > label': {\r\n      top: '-0.5rem',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      left: '1rem',\r\n      padding: '0 0.3rem',\r\n      position: 'absolute',\r\n      fontVariant: 'all-small-caps',\r\n      fontSize: '0.9rem',\r\n      letterSpacing: '0.1rem',\r\n      backgroundColor: theme.palette.background.paper,\r\n      boxSizing: 'border-box',\r\n    },\r\n  },\r\n}));\r\n\r\nconst coloring = {\r\n  red: 'rgb(255, 0, 0)',\r\n  'orange-deep': 'rgb(255, 40, 0)',\r\n  orange: 'rgb(255, 120, 0)',\r\n  yellow: 'rgb(255, 200, 0)',\r\n  'yellow-acid': 'rgb(160, 255, 0)',\r\n  green: 'rgb(0, 255, 0)',\r\n  'green-forest': 'rgb(34, 139, 34)',\r\n  'green-spring': 'rgb(0, 255, 127)',\r\n  'green-teal': 'rgb(0, 128, 128)',\r\n  'green-turquoise': 'rgb(0, 199, 140)',\r\n  'green-coral': 'rgb(0, 255, 50)',\r\n  cyan: 'rgb(0, 255, 255)',\r\n  blue: 'rgb(0, 0, 255)',\r\n  'blue-light': 'rgb(65, 105, 225)',\r\n  'blue-navy': 'rgb(0, 0, 128)',\r\n  'blue-aqua': 'rgb(0, 255, 255)',\r\n  purple: 'rgb(128, 0, 128)',\r\n  pink: 'rgb(255, 0, 178)',\r\n  magenta: 'rgb(255, 0, 255)',\r\n  black: 'rgb(0, 0, 0)',\r\n  white: 'rgb(255, 255, 255)',\r\n  gold: 'rgb(255, 215, 0)',\r\n  hotpink: 'rgb(255, 105, 180)',\r\n  lightblue: 'rgb(173, 216, 230)',\r\n  lightgreen: 'rgb(152, 251, 152)',\r\n  lightpink: 'rgb(255, 182, 193)',\r\n  lightyellow: 'rgb(255, 255, 224)',\r\n  maroon: 'rgb(128, 0, 0)',\r\n  mint: 'rgb(189, 252, 201)',\r\n  olive: 'rgb(85, 107, 47)',\r\n  peach: 'rgb(255, 100, 100)',\r\n  plum: 'rgb(221, 160, 221)',\r\n  sepia: 'rgb(94, 38, 18)',\r\n  skyblue: 'rgb(135, 206, 235)',\r\n  steelblue: 'rgb(70, 130, 180)',\r\n  tan: 'rgb(210, 180, 140)',\r\n  violetred: 'rgb(208, 32, 144)',\r\n};\r\n\r\nconst BladeColorPicker = ({ sendColor, col, clr, index }) => {\r\n  const classes = useStyles();\r\n  const popover = useRef();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(anchorEl ? null : event.currentTarget);\r\n  };\r\n\r\n  const handleClose = useCallback(() => {\r\n    setAnchorEl(null);\r\n  }, []);\r\n  useClickOutside(popover, handleClose);\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popper' : undefined;\r\n\r\n  return (\r\n    <div className={`${classes.wrapper} step-effect-${index}`}>\r\n      <label className={'MuiFormLabel-root'}>\r\n        {clr.replaceAll('_', ' ').replaceAll('background', 'bg')}\r\n      </label>\r\n      <div\r\n        className={classes.picker}\r\n        style={{ background: coloring[col] }}\r\n        aria-describedby={id}\r\n        onClick={handleClick}\r\n      />\r\n      <ClickAwayListener\r\n        onClickAway={() => {\r\n          // setAnchorEl(null);\r\n        }}\r\n      >\r\n        <Popper\r\n          id={id}\r\n          open={open}\r\n          onClose={handleClose}\r\n          anchorEl={anchorEl}\r\n          ref={popover}\r\n        >\r\n          <div className={classes.paper}>\r\n            {Object.keys(coloring).map((c) => (\r\n              <div\r\n                key={c}\r\n                style={{\r\n                  width: c === col ? '22px' : '20px',\r\n                  height: c === col ? '22px' : '20px',\r\n                  margin: c === col ? '4px' : '5px',\r\n                  borderRadius: '5px',\r\n                  cursor: 'pointer',\r\n                  background: coloring[c],\r\n                  border: c === col ? '2px solid #000' : '1px solid #fff',\r\n                }}\r\n                onClick={() => sendColor(c)}\r\n              />\r\n            ))}\r\n          </div>\r\n        </Popper>\r\n      </ClickAwayListener>\r\n    </div>\r\n  );\r\n};\r\nexport default BladeColorPicker;\r\n","import { useState, useCallback, useRef } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport { HslStringColorPicker, RgbStringColorPicker, RgbColorPicker, HslColorPicker, HsvStringColorPicker, HsvColorPicker, HexColorPicker  } from 'react-colorful';\r\nimport useClickOutside from '../../utils/useClickOutside';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    border: '1px solid',\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    maxWidth: '320px',\r\n    padding: theme.spacing(1),\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  picker: {\r\n    height: '30px',\r\n    margin: '15px 10px 10px 10px',\r\n    borderRadius: '10px',\r\n    cursor: 'pointer',\r\n    border: '1px solid #fff',\r\n  },\r\n  wrapper: {\r\n    border: '1px solid rgba(255, 255, 255, 0.1)',\r\n    width: '100%',\r\n    borderRadius: '10px',\r\n    position: 'relative',\r\n    '& > label': {\r\n      top: '-0.5rem',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      left: '1rem',\r\n      padding: '0 0.3rem',\r\n      position: 'absolute',\r\n      fontVariant: 'all-small-caps',\r\n      fontSize: '0.9rem',\r\n      letterSpacing: '0.1rem',\r\n      backgroundColor: theme.palette.background.paper,\r\n      boxSizing: 'border-box',\r\n    },\r\n  },\r\n}));\r\n\r\nconst BladeColorNewPicker = ({ sendColor, col, clr, virtual }) => {\r\n  const classes = useStyles();\r\n  const popover = useRef();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [colorNew, setColorNew] = useState(col);\r\n  const handleClick = (event) => {\r\n    setAnchorEl(anchorEl ? null : event.currentTarget);\r\n  };\r\n  const handleColorChange = (e) => {\r\n    setColorNew(e);\r\n    sendColor(e, virtual);\r\n  };\r\n  // const handleClickaway = event => {\r\n  //     console.log(anchorEl);\r\n  //     if (!anchorEl) {\r\n  //         setAnchorEl(null);\r\n  //     }\r\n  //     // setAnchorEl(anchorEl ? null : event.currentTarget);\r\n  // };\r\n  const handleClose = useCallback(() => {\r\n    setAnchorEl(null);\r\n  }, []);\r\n  useClickOutside(popover, handleClose);\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popper' : undefined;\r\n\r\n  return (\r\n    <div className={classes.wrapper}>\r\n      <label className={'MuiFormLabel-root'}>\r\n        {/* <Palette /> */}\r\n        {clr.replaceAll('_', ' ')}\r\n      </label>\r\n      <div\r\n        className={classes.picker}\r\n        style={{\r\n          backgroundColor: colorNew.replaceAll('\"', '').replaceAll(\"'\", ''),\r\n        }}\r\n        aria-describedby={id}\r\n        onClick={handleClick}\r\n      />\r\n      <ClickAwayListener\r\n        onClickAway={() => {\r\n          // console.log('anchorEl');\r\n          // setAnchorEl(null);\r\n        }}\r\n      >\r\n        <Popper\r\n          id={id}\r\n          open={open}\r\n          onClose={handleClose}\r\n          anchorEl={anchorEl}\r\n          ref={popover}\r\n        >\r\n          <div className={classes.paper}>\r\n          <HexColorPicker\r\n              color={colorNew}\r\n              onChange={(e)=>handleColorChange(e)}\r\n            />\r\n            {/* {colorNew.indexOf(\"hsl(\") === 0 \r\n            ? <HslStringColorPicker\r\n              color={colorNew}\r\n              onChange={(e)=>handleColorChange(e)}\r\n            />\r\n            : colorNew.indexOf(\"hsv(\") === 0 \r\n            ? <HsvStringColorPicker\r\n              color={colorNew}\r\n              onChange={(e)=>handleColorChange(e)}\r\n            />\r\n            : colorNew.indexOf(\"rgb(\") === 0 \r\n            ?<RgbStringColorPicker\r\n              color={colorNew}\r\n              onChange={(e)=>handleColorChange(e)}\r\n            />\r\n            : (typeof colorNew === 'object' && !!colorNew.r && !!colorNew.g && !!colorNew.b)\r\n            ?<RgbColorPicker\r\n              color={colorNew}\r\n              onChange={(e)=>handleColorChange(e)}\r\n            />\r\n            : (typeof colorNew === 'object' && !!colorNew.h && !!colorNew.s && !!colorNew.l)\r\n            ?<HslColorPicker\r\n              color={colorNew}\r\n              onChange={(e)=>handleColorChange(e)}\r\n            />\r\n            : (typeof colorNew === 'object' && !!colorNew.h && !!colorNew.s && !!colorNew.v)\r\n            ?<HsvColorPicker\r\n              color={colorNew}\r\n              onChange={(e)=>handleColorChange(e)}\r\n            />\r\n            : <RgbStringColorPicker\r\n              color={colorNew}\r\n              onChange={(e)=>handleColorChange(e)}\r\n            />} */}\r\n          </div>\r\n        </Popper>\r\n      </ClickAwayListener>\r\n    </div>\r\n  );\r\n};\r\nexport default BladeColorNewPicker;\r\n","import { useState, useCallback, useRef } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport useClickOutside from '../../utils/useClickOutside';\r\nimport useStore from '../../utils/apiStore';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    border: '1px solid',\r\n    borderRadius: 10,\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    maxWidth: '320px',\r\n    height: '50vh',\r\n    overflow: 'auto',\r\n    padding: theme.spacing(1),\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  picker: {\r\n    height: '30px',\r\n    margin: '15px 10px 10px 10px',\r\n    borderRadius: '10px',\r\n    cursor: 'pointer',\r\n    border: '1px solid #fff',\r\n  },\r\n  pickerItemWrapper: {\r\n    width: 300,\r\n    height: '35px',\r\n    cursor: 'pointer',\r\n    padding: '2px 3px 2px 15px',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    borderRadius: 10,\r\n    border: '1px solid #999',\r\n    margin: 3,\r\n    transition: 'background-color 0.15s ease-in-out',\r\n    '&:hover': {\r\n      backgroundColor: 'rgba(255,255,255,0.1)',     \r\n    },\r\n    '.gradient-picker-var2 &': {\r\n      position: 'relative',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      padding: 0\r\n    }\r\n  },\r\n  pickerItemGradient: {\r\n    width: 200,\r\n    height: 20,\r\n    borderRadius: 7,\r\n    '.gradient-picker-var2 &': {\r\n      width: '100%',\r\n      height: 35,\r\n      borderRadius: 10\r\n    }\r\n  },\r\n  pickerItemLabel: {\r\n    '.gradient-picker-var2 &': {\r\n      position: 'absolute',\r\n      background: 'rgba(0,0,0,0.5)',\r\n      padding: '0px 15px',\r\n      borderRadius: 10,\r\n      fontSize: 12\r\n    },\r\n  },\r\n  wrapper: {\r\n    border: '1px solid rgba(255, 255, 255, 0.1)',\r\n    borderRadius: '10px',\r\n    position: 'relative',\r\n    width: '100%',\r\n    margin: '0.5rem 0',\r\n    '& > label': {\r\n      top: '-0.5rem',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      left: '1rem',\r\n      padding: '0 0.3rem',\r\n      position: 'absolute',\r\n      fontVariant: 'all-small-caps',\r\n      fontSize: '0.9rem',\r\n      letterSpacing: '0.1rem',\r\n      backgroundColor: theme.palette.background.paper,\r\n      boxSizing: 'border-box',\r\n    },\r\n\r\n  },\r\n\r\n}));\r\n\r\nconst coloring = {\r\n  red: 'rgb(255, 0, 0)',\r\n  'orange-deep': 'rgb(255, 40, 0)',\r\n  orange: 'rgb(255, 120, 0)',\r\n  yellow: 'rgb(255, 200, 0)',\r\n  'yellow-acid': 'rgb(160, 255, 0)',\r\n  green: 'rgb(0, 255, 0)',\r\n  'green-forest': 'rgb(34, 139, 34)',\r\n  'green-spring': 'rgb(0, 255, 127)',\r\n  'green-teal': 'rgb(0, 128, 128)',\r\n  'green-turquoise': 'rgb(0, 199, 140)',\r\n  'green-coral': 'rgb(0, 255, 50)',\r\n  cyan: 'rgb(0, 255, 255)',\r\n  blue: 'rgb(0, 0, 255)',\r\n  'blue-light': 'rgb(65, 105, 225)',\r\n  'blue-navy': 'rgb(0, 0, 128)',\r\n  'blue-aqua': 'rgb(0, 255, 255)',\r\n  purple: 'rgb(128, 0, 128)',\r\n  pink: 'rgb(255, 0, 178)',\r\n  magenta: 'rgb(255, 0, 255)',\r\n  black: 'rgb(0, 0, 0)',\r\n  white: 'rgb(255, 255, 255)',\r\n  gold: 'rgb(255, 215, 0)',\r\n  hotpink: 'rgb(255, 105, 180)',\r\n  lightblue: 'rgb(173, 216, 230)',\r\n  lightgreen: 'rgb(152, 251, 152)',\r\n  lightpink: 'rgb(255, 182, 193)',\r\n  lightyellow: 'rgb(255, 255, 224)',\r\n  maroon: 'rgb(128, 0, 0)',\r\n  mint: 'rgb(189, 252, 201)',\r\n  olive: 'rgb(85, 107, 47)',\r\n  peach: 'rgb(255, 100, 100)',\r\n  plum: 'rgb(221, 160, 221)',\r\n  sepia: 'rgb(94, 38, 18)',\r\n  skyblue: 'rgb(135, 206, 235)',\r\n  steelblue: 'rgb(70, 130, 180)',\r\n  tan: 'rgb(210, 180, 140)',\r\n  violetred: 'rgb(208, 32, 144)',\r\n};\r\n\r\nconst gradients = {\r\n  \"Rainbow\": {\r\n    colors: [\r\n      coloring[\"red\"],\r\n      coloring[\"orange\"],\r\n      coloring[\"yellow\"],\r\n      coloring[\"green\"],\r\n      coloring[\"green-turquoise\"],\r\n      coloring[\"blue\"],\r\n      coloring[\"purple\"],\r\n      coloring[\"pink\"],\r\n    ]\r\n  },\r\n  \"Dancefloor\": {\r\n    colors: [\r\n      coloring[\"red\"],\r\n      coloring[\"pink\"],\r\n      coloring[\"blue\"],\r\n    ]\r\n  },\r\n\r\n  \"Plasma\": {\r\n    colors: [\r\n      coloring[\"blue\"],\r\n      coloring[\"purple\"],\r\n      coloring[\"red\"],\r\n      coloring[\"orange-deep\"],\r\n      coloring[\"yellow\"],\r\n    ]\r\n  },\r\n\r\n  \"Ocean\": {\r\n    colors: [\r\n      coloring[\"blue-aqua\"],\r\n      coloring[\"blue\"],\r\n    ]\r\n  },\r\n\r\n  \"Viridis\": {\r\n    colors: [\r\n      coloring[\"purple\"],\r\n      coloring[\"blue\"],\r\n      coloring[\"green-teal\"],\r\n      coloring[\"green\"],\r\n      coloring[\"yellow\"],\r\n    ]\r\n  },\r\n\r\n  \"Jungle\": {\r\n    colors: [\r\n      coloring[\"green\"],\r\n      coloring[\"green-forest\"],\r\n      coloring[\"orange\"],\r\n    ]\r\n  },\r\n\r\n  \"Spring\": {\r\n    colors: [\r\n      coloring[\"pink\"],\r\n      coloring[\"orange-deep\"],\r\n      coloring[\"yellow\"],\r\n    ]\r\n  },\r\n\r\n  \"Winter\": {\r\n    colors: [\r\n      coloring[\"green-turquoise\"],\r\n      coloring[\"green-coral\"],\r\n    ]\r\n  },\r\n\r\n  \"Frost\": {\r\n    colors: [\r\n      coloring[\"blue\"],\r\n      coloring[\"blue-aqua\"],\r\n      coloring[\"purple\"],\r\n      coloring[\"pink\"],\r\n    ]\r\n  },\r\n\r\n  \"Sunset\": {\r\n    colors: [\r\n      coloring[\"blue-navy\"],\r\n      coloring[\"orange\"],\r\n      coloring[\"red\"],\r\n    ]\r\n  },\r\n\r\n  \"Borealis\": {\r\n    colors: [\r\n      coloring[\"orange-deep\"],\r\n\r\n      coloring[\"purple\"],\r\n\r\n      coloring[\"green-turquoise\"],\r\n\r\n      coloring[\"green\"],\r\n    ]\r\n  },\r\n  \"Rust\": {\r\n    colors: [\r\n      coloring[\"orange-deep\"],\r\n      coloring[\"red\"],\r\n    ]\r\n  },\r\n  \"Christmas\": {\r\n    colors: [\r\n      coloring[\"red\"],\r\n      coloring[\"red\"],\r\n      coloring[\"red\"],\r\n      coloring[\"red\"],\r\n      coloring[\"red\"],\r\n      coloring[\"green\"],\r\n      coloring[\"green\"],\r\n      coloring[\"green\"],\r\n      coloring[\"green\"],\r\n      coloring[\"green\"],\r\n    ],\r\n    method: \"repeat\"\r\n  },\r\n  \"Winamp\": {\r\n    colors: [\r\n      coloring[\"green\"],\r\n      coloring[\"yellow\"],\r\n      coloring[\"orange\"],\r\n      coloring[\"orange-deep\"],\r\n      coloring[\"red\"],\r\n    ]\r\n  },\r\n}\r\n\r\n\r\nconst BladeGradientPicker = ({ col, clr, index, virtual, variant = 'picker' }) => {\r\n  const classes = useStyles();\r\n  const popover = useRef();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const updateVirtualEffect = useStore((state) => state.updateVirtualEffect);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const effectyz = virtual && virtuals[Object.keys(virtuals).find((d) => d === virtual.id)];\r\n\r\n  const sendColor = (e, v) => {\r\n    if (virtual && effectyz && effectyz.effect && effectyz.effect.type) {\r\n      updateVirtualEffect(virtual.id, {\r\n        virtId: virtual.id,\r\n        type: effectyz.effect.type,\r\n        config: { [clr]: e },\r\n      }).then(() => {\r\n        getVirtuals();\r\n      });\r\n    }\r\n\r\n  }\r\n  const handleClick = (event) => {\r\n    setAnchorEl(anchorEl ? null : event.currentTarget);\r\n  };\r\n\r\n  const handleClose = useCallback(() => {\r\n    setAnchorEl(null);\r\n  }, []);\r\n  useClickOutside(popover, handleClose);\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popper' : undefined;\r\n\r\n  return (\r\n    <div className={`${classes.wrapper} step-effect-${index} gradient-${variant}`} style={{ width: '49%', display: virtual.effect.config.solid_color ? 'none' : 'block' }}>\r\n      <label className={'MuiFormLabel-root'}>\r\n        {clr.replaceAll('_', ' ').replaceAll('background', 'bg').replaceAll('name', '')}\r\n      </label>\r\n      <div\r\n        className={classes.picker}\r\n        style={{\r\n          background: coloring[col],\r\n          background: `linear-gradient(to right,${Object.keys(gradients).indexOf(col) > -1 ? (gradients[col].colors.map((c, i) => i === 0 ? `${c}, ` : `${c} ${i * 100 / (gradients[col].colors.length - 1)}%${i === gradients[col].colors.length - 1 ? '' : ', '}`).join('')) : '#000, #fff 100%'})`\r\n        }}\r\n        aria-describedby={id}\r\n        onClick={handleClick}\r\n      />\r\n\r\n      <Popper\r\n        id={id}\r\n        open={open}\r\n        onClose={handleClose}\r\n        anchorEl={anchorEl}\r\n        ref={popover}\r\n      >\r\n        <div className={`${classes.paper} gradient-${variant}`}>\r\n\r\n          {Object.keys(gradients).map((cg) => (\r\n            <div\r\n              key={cg}\r\n              className={classes.pickerItemWrapper}\r\n              onClick={() => sendColor(cg)}\r\n            >\r\n              <div className={classes.pickerItemLabel}>\r\n                {cg}\r\n              </div>\r\n              <div className={classes.pickerItemGradient} style={{ background: `linear-gradient(to right,${gradients[cg].colors.map((c, i) => i === 0 ? `${c}, ` : `${c} ${i * 100 / (gradients[cg].colors.length - 1)}%${i === gradients[cg].colors.length - 1 ? '' : ', '}`).join('')})` }} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Popper>\r\n    </div>\r\n  );\r\n};\r\nexport default BladeGradientPicker;\r\n","import InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\n// import { setVirtualEffect } from \"modules/selectedDisplay\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport useStore from '../../utils/apiStore';\r\nimport BladeColorPicker from './BladeColorPicker';\r\nimport BladeColorNewPicker from './BladeColorNewPicker';\r\nimport { useEffect } from 'react';\r\nimport BladeGradientPicker from './BladeGradientPicker';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  FormRow: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    border: '1px solid rgba(255, 255, 255, 0.1)',\r\n    borderRadius: '10px',\r\n    '@media (max-width: 580px)': {\r\n      flexDirection: 'column',\r\n    },\r\n  },\r\n  FormLabel: {\r\n    marginLeft: '1rem',\r\n    paddingTop: '0.5rem',\r\n    '@media (max-width: 580px)': {\r\n      display: 'none',\r\n    },\r\n  },\r\n  FormSelect: {\r\n    flexGrow: 1,\r\n    marginLeft: '1rem',\r\n    paddingTop: '0.5rem',\r\n    '&:before, &:after': {\r\n      display: 'none',\r\n    },\r\n    '& > .MuiSelect-select:focus': {\r\n      backgroundColor: 'unset',\r\n    },\r\n  },\r\n}));\r\n\r\nconst BladeColorDropDown = ({\r\n  effects = {},\r\n  virtual = {},\r\n  clr = 'color',\r\n  type = 'both',\r\n  selectedType,\r\n  model,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const setVirtualEffect = useStore((state) => state.setVirtualEffect);\r\n  const updateVirtualEffect = useStore((state) => state.updateVirtualEffect);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const effectyz = virtuals[Object.keys(virtuals).find((d) => d === virtual.id)];\r\n  const curEffSchema = effects[selectedType];\r\n  const colors = curEffSchema\r\n    && curEffSchema.schema.properties[clr]\r\n    && curEffSchema.schema.properties[clr].enum;\r\n  \r\n  \r\n  \r\n  const sendColor = (e, v) => { \r\n    // console.log(virtual,effectyz, v)\r\n    if (virtual && effectyz && effectyz.effect && effectyz.effect.type) {\r\n      \r\n      updateVirtualEffect(virtual.id, {\r\n        virtId: virtual.id,\r\n        type: effectyz.effect.type,\r\n        config: { [clr]: e },\r\n      }).then(() => {\r\n        getVirtuals();\r\n      });\r\n    }\r\n \r\n  }\r\n\r\n  const onEffectTypeChange = (e) => virtual\r\n    && setVirtualEffect(virtual.id, {\r\n      virtId: virtual.id,\r\n      type: virtual.config[virtual.id].effect.type,\r\n      config: { [clr]: e.target.value },\r\n    }).then(() => {\r\n      getVirtuals();\r\n    });\r\n\r\n  //  console.log(virtual.effect.config)\r\n  \r\n  return (\r\n    <div style={{ display: (clr==='color' && Object.keys(virtual.effect.config).indexOf(\"solid_color\") > -1 && virtual.effect.config.solid_color === false) ? 'none' : 'flex', alignItems: 'center', width: '49%' }}>\r\n      {(type === 'text' || type === 'both') && (\r\n        <FormControl className={classes.FormRow} style={{ width: '100%' }}>\r\n          <InputLabel htmlFor=\"grouped-select\" className={classes.FormLabel}>\r\n            {clr.replaceAll('_', ' ')}\r\n          </InputLabel>\r\n          <Select\r\n            value={model[clr]}\r\n            onChange={onEffectTypeChange}\r\n            id=\"grouped-select\"\r\n            className={classes.FormSelect}\r\n          >\r\n            {colors\r\n              && colors.map((c) => (\r\n                <MenuItem className={classes.FormListItem} key={c} value={c}>\r\n                  {c}\r\n                </MenuItem>\r\n              ))}\r\n          </Select>\r\n        </FormControl>\r\n      )}\r\n\r\n      {(type === 'color' || type === 'both') && (<>\r\n        <BladeColorPicker\r\n          col={model[clr]}\r\n          clr={clr}\r\n          sendColor={sendColor}\r\n          selectedType={selectedType}\r\n          model={model}\r\n        />\r\n      </>)}\r\n      {type === 'colorNew'\r\n        && (\r\n          <BladeColorNewPicker\r\n            col={model[clr]}\r\n            clr={clr}\r\n            sendColor={sendColor}\r\n            selectedType={selectedType}\r\n            model={model}\r\n            type={virtual}\r\n          />\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BladeColorDropDown;\r\n","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n  Fab,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogContentText,\r\n  Select,\r\n  DialogActions,\r\n  Button,\r\n  InputLabel,\r\n  MenuItem,\r\n  FormControl,\r\n} from '@material-ui/core';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport useStore from '../../utils/apiStore';\r\nimport BladeColorDropDown from './BladeColorDropDown';\r\nimport BladeBoolean from './BladeBoolean';\r\nimport BladeSelect from './BladeSelect';\r\nimport BladeSlider from './BladeSlider';\r\nimport BladeGradientPicker from './BladeGradientPicker';\r\n\r\nconst useStyles = makeStyles({\r\n  bladeSchemaForm: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-between',\r\n  },\r\n});\r\n\r\nconst BladeEffectSchemaForm = (props) => {\r\n  const {\r\n    effects,\r\n    virtual,\r\n    schema,\r\n    model,\r\n    virtual_id,\r\n    selectedType,\r\n    colorKeys = [],\r\n  } = props;\r\n  const pickerKeys = [\r\n    'color',\r\n    'background_color',\r\n    'color_lows',\r\n    'color_mids',\r\n    'color_high',\r\n    'strobe_color',\r\n    'lows_colour',\r\n    'mids_colour',\r\n    'high_colour',\r\n    ...colorKeys,\r\n  ];\r\n\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n  const color_mode = useStore((state) => state.schemaForm.color_mode);\r\n  const bool_mode = useStore((state) => state.schemaForm.bool_mode);\r\n  const gradient_mode = useStore((state) => state.schemaForm.gradient_mode);\r\n  const setSchemaForm = useStore((state) => state.setSchemaForm);\r\n\r\n  const updateVirtualEffect = useStore((state) => state.updateVirtualEffect);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const features = useStore((state) => state.features);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleEffectConfig = (virtual_id, config) => updateVirtualEffect(virtual_id, {\r\n    virtId: virtual_id,\r\n    type: selectedType,\r\n    config,\r\n  }).then(() => {\r\n    getVirtuals();\r\n  });\r\n\r\n  const yzSchema = schema && schema.properties &&\r\n    Object.keys(schema.properties)\r\n      .map(sk => ({\r\n        ...schema.properties[sk],\r\n        id: sk,\r\n      }))\r\n      .sort((a) => (a.type === 'number') ? -1 : 1)\r\n      .sort((a) => (a.type === 'integer') ? -1 : 1)\r\n      .sort((a) => (a.type === 'string' && a.enum && a.enum.length) ? -1 : 1)\r\n      .sort((a) => pickerKeys.indexOf(a.id) > -1 ? -1 : 1)\r\n      .sort((a) => a.id === 'color' ? -1 : 1)\r\n      .sort((a) => a.id === 'gradient_name' ? -1 : 1)\r\n\r\n  return (\r\n    <div className={classes.bladeSchemaForm}>\r\n      {features['formsettings'] && (\r\n        <Fab\r\n          onClick={handleClickOpen}\r\n          variant=\"circular\"\r\n          color=\"default\"\r\n          size=\"small\"\r\n          style={{ position: 'absolute', right: '3rem', top: '1rem' }}\r\n        >\r\n          <SettingsIcon />\r\n        </Fab>\r\n      )}\r\n\r\n      {yzSchema && yzSchema.map((s, i) => {\r\n        switch (s.type) {\r\n          case 'boolean':\r\n            return (\r\n              <BladeBoolean\r\n                type={bool_mode}\r\n                key={i}\r\n                index={i}\r\n                model={model}\r\n                model_id={s.id}\r\n                schema={s}\r\n                hideDesc={true}\r\n                onClick={(model_id, value) => {\r\n                  const c = {};\r\n                  c[model_id] = value;\r\n                  return handleEffectConfig(virtual_id, c);\r\n                }}\r\n              />\r\n            );\r\n          case 'string':\r\n            return s.enum && pickerKeys.indexOf(s.id) === -1 ?\r\n              (s.id === 'gradient_name' && gradient_mode !== 'select')\r\n                ? <BladeGradientPicker\r\n                  col={model[s.id]}\r\n                  key={i}\r\n                  clr={s.id}\r\n                  selectedType={selectedType}\r\n                  model={model}\r\n                  virtual={virtual}\r\n                  variant={gradient_mode}\r\n                />\r\n                : <BladeSelect\r\n                  model={model}\r\n                  schema={s}\r\n                  wrapperStyle={{ width: '49%' }\r\n                  }\r\n                  model_id={s.id}\r\n                  key={i}\r\n                  index={i}\r\n                  onChange={(model_id, value) => {\r\n                    const c = {};\r\n                    c[model_id] = value;\r\n                    return handleEffectConfig(virtual_id, c);\r\n                  }}\r\n                />\r\n\r\n              : (s.id === 'blade_color')\r\n                ? <BladeColorDropDown\r\n                  virtual={virtual}\r\n                  effects={effects}\r\n                  selectedType={selectedType}\r\n                  model={model}\r\n                  key={i}\r\n                  index={i}\r\n                  type={color_mode === 'select' ? 'text' : 'colorNew'}\r\n                  clr={s.id}\r\n                />\r\n                : <BladeColorDropDown\r\n                  virtual={virtual}\r\n                  effects={effects}\r\n                  selectedType={selectedType}\r\n                  model={model}\r\n                  key={i}\r\n                  index={i}\r\n                  type={color_mode === 'select' ? 'text' : 'colorNew'} // color\r\n                  clr={s.id}\r\n                />\r\n\r\n          case 'number':\r\n            return (\r\n              <BladeSlider\r\n                key={i}\r\n                index={i}\r\n                hideDesc={true}\r\n                model_id={s.id}\r\n                model={model}\r\n                schema={s}\r\n                onChange={(model_id, value) => {\r\n                  const c = {};\r\n                  c[model_id] = value;\r\n                  return handleEffectConfig(virtual_id, c);\r\n                }}\r\n              />\r\n            );\r\n\r\n          case 'integer':\r\n            return (\r\n              <BladeSlider\r\n                step={1}\r\n                key={i}\r\n                index={i}\r\n                hideDesc={true}\r\n                model_id={s.id}\r\n                model={model}\r\n                schema={s}\r\n                style={{ margin: '0.5rem 0' }}\r\n                onChange={(model_id, value) => {\r\n                  const c = {};\r\n                  c[model_id] = value;\r\n                  return handleEffectConfig(virtual_id, c);\r\n                }}\r\n              />\r\n            );\r\n          case 'color':\r\n            return (<BladeColorDropDown\r\n              virtual={virtual}\r\n              effects={effects}\r\n              selectedType={selectedType}\r\n              model={model}\r\n              key={i}\r\n              index={i}\r\n              type={color_mode === 'select' ? 'text' : 'colorNew'}\r\n              clr={s.id}\r\n            />)\r\n          default:\r\n            return (\r\n              <>\r\n                Unsupported type:--\r\n                {s.type}\r\n              </>\r\n            );\r\n        }\r\n      })}\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          Blade's SchemaForm Settings\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Customize the appearance of dynamically generated forms\r\n          </DialogContentText>\r\n          <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n            <FormControl>\r\n              <InputLabel id=\"ColorVariantLabel\">Color Mode</InputLabel>\r\n              <Select\r\n                labelId=\"ColorVariantLabel\"\r\n                id=\"ColorVariant\"\r\n                value={color_mode}\r\n                onChange={(e) => setSchemaForm('color_mode', e.target.value)}\r\n              >\r\n                <MenuItem value=\"picker\">Picker</MenuItem>\r\n                <MenuItem value=\"select\">Select</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n            <FormControl>\r\n              <InputLabel id=\"BoolModeLabel\">Bool Mode</InputLabel>\r\n              <Select\r\n                labelId=\"BoolModeLabel\"\r\n                id=\"bool_mode\"\r\n                value={bool_mode}\r\n                onChange={(e) => setSchemaForm('bool_mode', e.target.value)}\r\n              >\r\n                <MenuItem value=\"switch\">Switch</MenuItem>\r\n                <MenuItem value=\"checkbox\">Checkbox</MenuItem>\r\n                <MenuItem value=\"button\">Button</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n            <FormControl>\r\n              <InputLabel id=\"GradientModeLabel\">Gradient Mode</InputLabel>\r\n              <Select\r\n                labelId=\"GradientModeLabel\"\r\n                id=\"gradient_mode\"\r\n                value={gradient_mode}\r\n                onChange={(e) => setSchemaForm('gradient_mode', e.target.value)}\r\n              >\r\n                <MenuItem value=\"picker\">Picker</MenuItem>\r\n                <MenuItem value=\"picker-var2\">Picker Variant 2</MenuItem>\r\n                <MenuItem value=\"select\">Select</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </div>\r\n          <DialogActions>\r\n            <Button onClick={handleClose} variant=\"contained\" color=\"primary\">\r\n              Ok\r\n            </Button>\r\n          </DialogActions>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nBladeEffectSchemaForm.propTypes = {\r\n  colorMode: PropTypes.oneOf(['picker', 'select']),\r\n  boolMode: PropTypes.oneOf(['switch', 'checkbox', 'button']),\r\n  colorKeys: PropTypes.array,\r\n  schema: PropTypes.object.isRequired,\r\n  model: PropTypes.object.isRequired,\r\n  virtual_id: PropTypes.string.isRequired,\r\n  selectedType: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default BladeEffectSchemaForm;\r\n","import { useState } from 'react';\nimport { MenuItem, Button } from '@material-ui/core';\nimport Tour from 'reactour';\nimport { Info, InfoRounded } from '@material-ui/icons';\nimport useStore from '../../utils/apiStore';\n\nconst step = ({ title = 'Title', text = 'Text', number = 0 }) => (\n  {\n    selector: `.step-effect-${number}`,\n    content: (\n      <div>\n        <h2>{title}</h2>\n        {text}\n      </div>\n    ),\n    style: {\n      backgroundColor: '#303030',\n    },\n  }\n);\n\nconst TourEffect = ({ schema }) => {\n  const [isTourOpen, setIsTourOpen] = useState(false);\n  const setTour = useStore((state) => state.setTour);\n  const steps = Object.keys(schema.properties).map((p, i) => step({ \n    title: schema.properties[p].title, \n    text: schema.properties[p].description, \n    number: i }))\n  return (\n    <>\n      <Button\n        onClick={(e) => {\n          setIsTourOpen(true);\n          setTour(\"effect\");\n        }}\n        variant=\"outlined\"\n        style={{ marginRight: '.5rem' }}\n        className={'step-device-seven'}\n      >\n        <Info />\n      </Button>\n      <Tour\n        steps={steps}\n        accentColor=\"#800000\"\n        isOpen={isTourOpen}\n        showNavigation={false}\n        // badgeContent={()=><Info size=\"small\" />}\n        onRequestClose={() => setIsTourOpen(false)}\n        showNumber={false}\n      />\n    </>\n  );\n};\n\nexport default TourEffect;\n","import { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport { Button, Card, CardContent, Accordion, AccordionDetails, AccordionSummary, Typography } from '@material-ui/core/';\r\nimport { Casino, Clear, ExpandMore, Pause, PlayArrow } from '@material-ui/icons/';\r\nimport useStore from '../../utils/apiStore';\r\nimport BladeEffectDropDown from '../../components/SchemaForm/BladeEffectDropDown';\r\nimport BladeEffectSchemaForm from '../../components/SchemaForm/BladeEffectSchemaForm';\r\nimport PixelGraph from '../../components/PixelGraph';\r\nimport TourEffect from '../../components/Tours/TourEffect';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  content: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  actionButton: {\r\n    marginTop: '0.5rem',\r\n    width: '100%',\r\n    borderColor: theme.palette.grey[400]\r\n  },\r\n  card: {\r\n    width: '100%',\r\n    maxWidth: '540px',\r\n    '@media (max-width: 580px)': {\r\n      maxWidth: '97vw',\r\n      margin: '0 auto',\r\n    },\r\n    '& > .MuiCardContent-root': {\r\n      paddingBottom: '0.5rem',\r\n    }\r\n  },\r\n  pixelbar: {\r\n    opacity: 1,\r\n    transitionDuration: 0\r\n  },\r\n  pixelbarOut: {\r\n    opacity: 0.2,\r\n    transition: 'opacity',\r\n    transitionDuration: 1000\r\n  }\r\n}));\r\n\r\nconst EffectsCard = ({ virtId }) => {\r\n  const classes = useStyles();\r\n  const [fade, setFade] = useState(false)\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const getSchemas = useStore((state) => state.getSchemas);\r\n  const clearVirtualEffect = useStore((state) => state.clearVirtualEffect);\r\n  const setVirtualEffect = useStore((state) => state.setVirtualEffect);\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const effects = useStore((state) => state.schemas.effects);\r\n  const setPixelGraphs = useStore((state) => state.setPixelGraphs);\r\n  const viewMode = useStore((state) => state.viewMode);\r\n  const updateVirtual = useStore((state) => state.updateVirtual);\r\n\r\n  const graphs = useStore((state) => state.graphs);\r\n\r\n  const virtual = virtuals[virtId];\r\n  const effectType = virtual && virtual.effect.type;\r\n\r\n  const handleRandomize = () => {\r\n    setVirtualEffect(\r\n      virtual.id,\r\n      {\r\n        virtId: virtual.id,\r\n        type: effectType,\r\n        config: 'RANDOMIZE',\r\n        active: true\r\n      }\r\n    ).then(() => getVirtuals());\r\n  };\r\n\r\n  const handleClearEffect = () => {\r\n    clearVirtualEffect(virtId).then(() => {\r\n      setFade(true)\r\n      setTimeout(() => { getVirtuals() }, virtual.config.transition_time * 1000)\r\n      setTimeout(() => { setFade(false) }, virtual.config.transition_time * 1000 + 300)\r\n    });\r\n  };\r\n\r\n  const handlePlayPause = () => {\r\n    updateVirtual(virtual.id, { active: !virtual.active })\r\n      .then(() => getVirtuals());\r\n  };\r\n\r\n  useEffect(() => {\r\n    getVirtuals();\r\n    getSchemas();\r\n    if (graphs) {\r\n      setPixelGraphs([virtId]);\r\n    }\r\n  }, [graphs, setPixelGraphs, getVirtuals, getSchemas, effectType]);\r\n\r\n  return (\r\n    <>\r\n      <Card className={classes.card}>\r\n        <CardContent>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            <h1>{virtual && virtual.config.name}</h1>\r\n            <div style={{ display: 'flex', alignItems: 'center' }}>\r\n              {effects && effectType && (\r\n                <>\r\n                  <TourEffect schema={effects[effectType].schema} />\r\n                  <Button\r\n                    onClick={() => handleRandomize()}\r\n                    variant=\"outlined\"\r\n                    style={{ marginRight: '.5rem' }}\r\n                    className={'step-device-six'}\r\n                  >\r\n                    <Casino />\r\n                  </Button>\r\n                  <Button variant=\"outlined\" style={{ marginRight: '.5rem' }} className={'step-device-five'} onClick={() => handlePlayPause()}>\r\n                    {virtual.active ? <Pause /> : <PlayArrow />}\r\n                  </Button>\r\n                  <Button variant=\"outlined\" className={'step-device-five'} onClick={() => handleClearEffect()}>\r\n                    <Clear />\r\n                  </Button>\r\n                </>\r\n              )}\r\n\r\n            </div>\r\n          </div>\r\n          <div className={clsx(classes.pixelbar, {\r\n            [classes.pixelbarOut]: fade,\r\n          })} style={{ transitionDuration: virtual.config.transition_time * 1000 }}>\r\n\r\n            <PixelGraph\r\n              virtId={virtId}\r\n              active={virtuals\r\n                && virtual\r\n                && effects\r\n                && virtual.effect\r\n                && virtual.effect.config}\r\n              dummy={!(virtuals\r\n                && virtual\r\n                && effects\r\n                && virtual.effect\r\n                && virtual.effect.config)}\r\n            />\r\n\r\n          </div>\r\n          <div style={{ height: '1rem' }} />\r\n          <BladeEffectDropDown\r\n            virtId={virtId}\r\n            effects={effects}\r\n            virtual={virtual}\r\n          />\r\n        </CardContent>\r\n      </Card>\r\n      {virtuals\r\n        && virtual\r\n        && effects\r\n        && virtual.effect\r\n        && virtual.effect.config && (\r\n          <Card style={{ marginTop: '1rem' }}>\r\n            <CardContent style={{ padding: '0 16px' }}>\r\n\r\n              <Accordion style={{ paddin: 0 }} defaultExpanded={viewMode !== 'user'}>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMore />}\r\n                  aria-controls=\"panel1a-content\"\r\n                  id=\"panel1a-header\"\r\n                  style={{ padding: 0 }}\r\n                >\r\n                  <Typography variant={\"h5\"}>Effect Configuration</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails style={{ padding: '0 0 8px 0' }}>\r\n                  <div>\r\n                    <BladeEffectSchemaForm\r\n                      virtual={virtual}\r\n                      effects={effects}\r\n                      schema={effects[effectType].schema}\r\n                      model={virtual.effect.config}\r\n                      virtual_id={virtId}\r\n                      selectedType={effectType}\r\n                    />\r\n                  </div>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            </CardContent>\r\n\r\n          </Card>\r\n        )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EffectsCard;\r\n","import React from 'react';\r\n\r\nimport axios from 'axios';\r\nimport { Slide, MenuItem } from '@material-ui/core';\r\n\r\n\r\nexport const cloud = axios.create({\r\n    baseURL: 'https://strapi.yeonv.com',\r\n});\r\n\r\nexport const Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport const MuiMenuItem = React.forwardRef((props, ref) => {\r\n    return <MenuItem ref={ref} {...props} />;\r\n});","import React, { useEffect, useState } from 'react';\r\nimport useStore from '../../../utils/apiStore';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport { useEditVirtualsStyles } from '../../Devices/EditVirtuals/EditVirtuals.styles'\r\nimport { AppBar, Button, Card, CardHeader, Dialog, Grid, IconButton, ListItemIcon, Toolbar, Typography } from '@material-ui/core';\r\nimport { Settings, NavigateBefore, CloudDownload, CloudOff, GitHub } from '@material-ui/icons';\r\n\r\nimport { cloud, Transition, MuiMenuItem } from './CloudComponents'\r\n\r\nexport default function CloudScreen({\r\n    virtId,\r\n    effectType,\r\n    icon = <Settings />,\r\n    startIcon,\r\n    label = '',\r\n    type,\r\n    className,\r\n    color = 'default',\r\n    variant = 'contained',\r\n    onClick = () => { },\r\n    innerKey,\r\n}) {\r\n    const classes = useEditVirtualsStyles();\r\n    const theme = useTheme();\r\n    const [open, setOpen] = useState(false);\r\n    const [cloudEffects, setCloudEffects] = useState([])\r\n    const [activeCloudPreset, setActiveCloudPreset] = useState();\r\n    const setVirtualEffect = useStore((state) => state.setVirtualEffect);\r\n    const addPreset = useStore((state) => state.addPreset);\r\n    const getPresets = useStore((state) => state.getPresets);\r\n    const getVirtuals = useStore((state) => state.getVirtuals);\r\n    const virtuals = useStore((state) => state.virtuals);\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const refreshPresets = async () => {\r\n        const response = await cloud.get('presets', {\r\n            headers: { Authorization: `Bearer ${localStorage.getItem('jwt')}` }\r\n        });\r\n        if (response.status !== 200) {\r\n            alert(\"No Access\")\r\n            return\r\n        }\r\n        const res = await response.data\r\n        const cEffects = {}\r\n        res.forEach(p => {\r\n            if (!cEffects[p.effect.Name]) {\r\n                cEffects[p.effect.Name] = []\r\n            }\r\n            cEffects[p.effect.Name].push(p)\r\n        })\r\n        setCloudEffects(cEffects)\r\n    }\r\n\r\n    const handleCloudPresets = async (p, save) => {\r\n        setActiveCloudPreset(p.Name.toLowerCase())        \r\n        if (p.effect.ledfx_id !== effectType) {\r\n            await setVirtualEffect(virtId, { type: p.effect.ledfx_id })\r\n            await getVirtuals();\r\n        }\r\n        await setVirtualEffect(virtId, { virtId: virtId, type: p.effect.ledfx_id, config: p.config, active: true })\r\n        if (save) {\r\n            await addPreset(virtId, p.Name)\r\n            await getPresets(p.effect.ledfx_id)\r\n        }\r\n        await getVirtuals()\r\n    }\r\n\r\n    useEffect(async () => {\r\n        refreshPresets()\r\n    }, [])\r\n\r\n    // console.log(virtuals[virtId].effect.name, Object.keys(cloudEffects))\r\n\r\n    return (\r\n        <>\r\n            {type === 'menuItem'\r\n                ? <MuiMenuItem key={innerKey} className={className} onClick={(e) => { e.preventDefault(); onClick(e); handleClickOpen(e) }}>\r\n                    <ListItemIcon>\r\n                        {icon}\r\n                    </ListItemIcon>\r\n                    {label}\r\n                </MuiMenuItem>\r\n                : <Button\r\n                    variant={variant}\r\n                    startIcon={startIcon}\r\n                    color={color}\r\n                    onClick={(e) => { onClick(e); refreshPresets(); handleClickOpen(e); }}\r\n                    size=\"small\"\r\n                    style={{ padding: '2px 15px' }}\r\n                    className={className}\r\n                >\r\n                    {label}\r\n                    {!startIcon && icon}\r\n                </Button>\r\n            }\r\n            <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\r\n                <AppBar className={classes.appBar}>\r\n                    <Toolbar>\r\n                        <Button color=\"primary\" variant=\"contained\" startIcon={<NavigateBefore />} onClick={handleClose}>\r\n                            back\r\n                        </Button>\r\n                        <Typography variant=\"h6\" className={classes.title}>\r\n                            LedFx Cloud\r\n                        </Typography>\r\n                    </Toolbar>\r\n                </AppBar>\r\n                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                    {Object.keys(cloudEffects).map((effect, i) =>\r\n                        <div key={i} style={{ order: virtuals[virtId].effect.name.toLowerCase() === effect.toLowerCase()  ? -1 : 1 }}>\r\n                            <Typography className={classes.segmentTitle} variant=\"caption\" style={{\r\n                                color: virtuals[virtId].effect.name.toLowerCase() === effect.toLowerCase()\r\n                                    ? theme.palette.primary.main\r\n                                    : theme.palette.text.primary\r\n                            }}\r\n                            >{effect}</Typography>\r\n                            <Grid style={{ padding: 20 }} container spacing={2}>\r\n                                {cloudEffects[effect].map((p, ind) => <Grid item key={ind}>\r\n                                    <Card className={`${classes.cloudEffectCard} ${ virtuals[virtId].effect.name.toLowerCase() === effect.toLowerCase() && activeCloudPreset === p.Name.toLowerCase() ? ' active' : '' }`} key={ind} onClick={() => handleCloudPresets(p)}>\r\n                                        <CardHeader title={p.Name} subheader={<div style={{ color: '#999' }}>{`by ${p.user.username}`}</div>} action={\r\n                                            <IconButton aria-label=\"Import\" onClick={(e)=> { e.stopPropagation(); handleCloudPresets(p, true)}}>\r\n                                                <CloudDownload />\r\n                                            </IconButton>\r\n                                        } />\r\n                                    </Card>\r\n                                </Grid>\r\n                                )}\r\n                            </Grid>\r\n                        </div>)\r\n                    }\r\n                </div>\r\n\r\n\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n","import { useState } from 'react';\r\nimport Popover from '../../components/Popover';\r\nimport { Button, ListItemIcon, ListItemText, Menu, MenuItem } from '@material-ui/core';\r\nimport { useLongPress } from 'use-long-press';\r\nimport { CloudOff, CloudUpload } from '@material-ui/icons';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport useStore from '../../utils/apiStore';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    bladeMenu: {\r\n        \"& .MuiPaper-root\": {\r\n            backgroundColor: theme.palette.grey[900]\r\n        }\r\n    },\r\n}));\r\n\r\nexport default function PresetButton({ delPreset, uploadPresetCloud, deletePresetCloud, label = \"Button\", buttonColor, className, onClick }) {\r\n\r\n    const classes = useStyles();\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const open = Boolean(anchorEl);\r\n    const isLogged = useStore((state) => state.isLogged);\r\n    const features = useStore((state) => state.features);\r\n\r\n    const longPress = useLongPress((e) => { e.preventDefault(); setAnchorEl(e.currentTarget || e.target) }, {\r\n        onCancel: e => {\r\n            if (e.button === 0) {\r\n                onClick()\r\n            }\r\n        },\r\n        treshhold: 1000,\r\n        captureEvent: true,\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <Button\r\n                aria-expanded={open ? 'true' : undefined}\r\n                variant=\"outlined\"\r\n                color={buttonColor}\r\n                className={className}\r\n                {...longPress}\r\n                onContextMenu={(e) => { e.preventDefault(); setAnchorEl(e.currentTarget || e.target) }}\r\n            >\r\n                {label}\r\n            </Button>\r\n            <Menu\r\n                id=\"basic-menu\"\r\n                anchorEl={anchorEl}\r\n                open={Boolean(anchorEl)}\r\n                onClose={() => setAnchorEl(null)}\r\n                getContentAnchorEl={null}\r\n                className={classes.bladeMenu}\r\n                MenuListProps={{\r\n                    'aria-labelledby': 'basic-button',\r\n                }}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'center',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'center',\r\n                }}\r\n            >\r\n                <div>\r\n                    <Popover\r\n                        type=\"menuItem\"\r\n                        variant=\"outlined\"\r\n                        direction=\"left\"\r\n                        onConfirm={delPreset}\r\n                        label={\"Delete Preset\"}\r\n                        anchorOrigin={{\r\n                            vertical: \"top\",\r\n                            horizontal: \"center\",\r\n                        }}\r\n                        transformOrigin={{\r\n                            vertical: \"bottom\",\r\n                            horizontal: \"center\",\r\n                        }}\r\n                    />\r\n                </div>\r\n                {(window.localStorage.getItem('ledfx-cloud-role') === 'creator') && features['cloud'] && isLogged &&\r\n                <MenuItem onClick={uploadPresetCloud}>\r\n                    <ListItemIcon>\r\n                        <CloudUpload fontSize=\"small\" />\r\n                    </ListItemIcon>\r\n                    <ListItemText>Upload to Cloud</ListItemText>\r\n                </MenuItem>}\r\n                {(window.localStorage.getItem('ledfx-cloud-role') === 'creator') && features['cloud'] && isLogged &&\r\n                <MenuItem onClick={deletePresetCloud}>\r\n                    <ListItemIcon>\r\n                        <CloudOff fontSize=\"small\" />\r\n                    </ListItemIcon>\r\n                    <ListItemText>Delete from Cloud</ListItemText>\r\n                </MenuItem>}\r\n            </Menu>\r\n        </div>\r\n    );\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useTheme, Card, CardContent, CardActions, CardHeader, Divider, Button, Grid, Typography, TextField, Switch } from '@material-ui/core';\r\nimport useStore from '../../utils/apiStore';\r\nimport Popover from '../../components/Popover';\r\nimport { Add, Cloud } from '@material-ui/icons';\r\nimport axios from 'axios';\r\nimport CloudScreen from './Cloud/Cloud';\r\nimport SharePresetButton from './SharePresetButton';\r\nimport PresetButton from './PresetButton';\r\n\r\nconst cloud = axios.create({\r\n  baseURL: 'https://strapi.yeonv.com',\r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  content: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    width: '100%',\r\n    padding: theme.spacing(2),\r\n  },\r\n  presetButton: {\r\n    margin: theme.spacing(0),\r\n    textDecoration: 'none',\r\n  },\r\n  buttonGrid: {\r\n    direction: 'row',\r\n  },\r\n  hint: {\r\n    color: theme.palette.text.disabled,\r\n  },\r\n  actions: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    margin: theme.spacing(1),\r\n  },\r\n  deviceCard: {\r\n    width: '100%',\r\n    maxWidth: '540px',\r\n    '@media (max-width: 580px)': {\r\n      maxWidth: '97vw',\r\n      margin: '0 auto',\r\n    },\r\n  },\r\n}));\r\n\r\nconst PresetsCard = ({ virtual, effectType, presets, style }) => {\r\n  const classes = useStyles();\r\n  const [name, setName] = useState('');\r\n  const [valid, setValid] = useState(true);\r\n\r\n  const activatePreset = useStore((state) => state.activatePreset);\r\n  const addPreset = useStore((state) => state.addPreset);\r\n  const getPresets = useStore((state) => state.getPresets);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const deletePreset = useStore((state) => state.deletePreset);\r\n  const isLogged = useStore((state) => state.isLogged);\r\n  const features = useStore((state) => state.features);\r\n\r\n\r\n  const uploadPresetCloud = async (list, preset) => {\r\n\r\n    const existing = await cloud.get(`presets?user.username=${localStorage.getItem('username')}&Name=${list[preset].name}`, {\r\n      headers: {\r\n        Authorization:\r\n          `Bearer ${localStorage.getItem('jwt')}`,\r\n      }\r\n    })\r\n    const exists = await existing.data\r\n    const eff = await cloud.get(`effects?ledfx_id=${effectType}`, {\r\n      headers: {\r\n        Authorization:\r\n          `Bearer ${localStorage.getItem('jwt')}`,\r\n      }\r\n    })\r\n    const effId = await eff.data[0].id\r\n    // console.log(exists, existing)\r\n    if (exists.length && exists.length > 0) {\r\n      cloud.put(`presets/${exists[0].id}`, {\r\n        Name: list[preset].name,\r\n        config: virtual.effect.config,\r\n        effect: effId,\r\n        user: localStorage.getItem('ledfx-cloud-userid')\r\n      }, {\r\n        headers: {\r\n          Authorization:\r\n            `Bearer ${localStorage.getItem('jwt')}`,\r\n        }\r\n      })\r\n    } else {\r\n      cloud.post('presets', {\r\n        Name: list[preset].name,\r\n        config: virtual.effect.config,\r\n        effect: effId,\r\n        user: localStorage.getItem('ledfx-cloud-userid')\r\n      }, {\r\n        headers: {\r\n          Authorization:\r\n            `Bearer ${localStorage.getItem('jwt')}`,\r\n        }\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  const deletePresetCloud = async (list, preset) => {\r\n    const existing = await cloud.get(`presets?user.username=${localStorage.getItem('username')}&Name=${list[preset].name}`, {\r\n      headers: {\r\n        Authorization:\r\n          `Bearer ${localStorage.getItem('jwt')}`,\r\n      }\r\n    })\r\n    const exists = await existing.data\r\n    if (exists.length && exists.length > 0) {\r\n      cloud.delete(`presets/${exists[0].id}`, {\r\n        headers: {\r\n          Authorization:\r\n            `Bearer ${localStorage.getItem('jwt')}`,\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleActivatePreset = (virtId, category, effectType, presetId) => () => {\r\n    activatePreset(virtId, category, effectType, presetId).then(() => getVirtuals());\r\n    setName('');\r\n  };\r\n\r\n  const renderPresetsButton = (list, CATEGORY) => {\r\n    if (list && !Object.keys(list)?.length) {\r\n      return (\r\n        <Button style={{ margin: '0.5rem 0 0.5rem 0.5rem' }} variant=\"outlined\" size=\"small\" className={classes.presetButton} disabled>\r\n          No {CATEGORY === 'default_presets' ? '' : 'Custom'} Presets\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    return list && Object.keys(list).map((preset) => {\r\n      return (\r\n        <Grid item key={preset}>\r\n\r\n          {CATEGORY !== \"default_presets\"\r\n            ? <PresetButton\r\n              buttonColor={JSON.stringify(virtual.effect.config) === JSON.stringify(list[preset].config) ? \"primary\" : \"default\"}\r\n              label={list[preset].name}\r\n              delPreset={handleRemovePreset(effectType, preset)}\r\n              uploadPresetCloud={() => uploadPresetCloud(list, preset)}\r\n              deletePresetCloud={() => deletePresetCloud(list, preset)}\r\n              className={classes.presetButton}\r\n              onClick={handleActivatePreset(\r\n                virtual.id,\r\n                CATEGORY,\r\n                effectType,\r\n                preset,\r\n              )}\r\n            />\r\n            : <Button\r\n              className={classes.presetButton}\r\n              color={JSON.stringify(virtual.effect.config) === JSON.stringify(list[preset].config) ? \"primary\" : \"default\"}\r\n              variant=\"outlined\"\r\n              onClick={handleActivatePreset(\r\n                virtual.id,\r\n                CATEGORY,\r\n                effectType,\r\n                preset,\r\n              )}\r\n            >\r\n              {list[preset].name}\r\n            </Button>}\r\n        </Grid>\r\n      )\r\n    })\r\n  };\r\n\r\n  const handleAddPreset = () => {\r\n    addPreset(virtual.id, name).then(() => {\r\n      getPresets(effectType)\r\n    })\r\n    setName('')\r\n  };\r\n  const handleRemovePreset = (effectType, presetId) => () => deletePreset(effectType, presetId)\r\n    .then(() => {\r\n      getPresets(effectType)\r\n    });\r\n\r\n  useEffect(() => {\r\n    getVirtuals();\r\n    effectType && getPresets(effectType);\r\n  }, [getVirtuals, effectType])\r\n\r\n  return (\r\n    <Card variant=\"outlined\" className={`${classes.deviceCard} step-device-three`} style={style}>\r\n      <CardHeader style={{ margin: '0' }} title=\"Presets\" subheader=\"Explore different effect configurations or create your own.\" />\r\n      <CardContent className={classes.content}>\r\n        <Grid spacing={2} container className={classes.buttonGrid}>\r\n          {renderPresetsButton(presets?.default_presets, 'default_presets')}\r\n        </Grid>\r\n        <Divider style={{ margin: '1rem 0' }} />\r\n        <Grid spacing={2} container className={classes.buttonGrid}>\r\n          {renderPresetsButton(presets?.custom_presets, 'custom_presets')}\r\n          <Grid item>\r\n            <Popover\r\n              className={classes.presetButton}\r\n              popoverStyle={{ padding: '0.5rem' }}\r\n              color={\"default\"}\r\n              variant=\"outlined\"\r\n              direction=\"center\"\r\n              onSingleClick={() => { console.log(\"hi\") }}\r\n              content={<TextField\r\n                onKeyDown={e => (e.key == 'Enter') && handleAddPreset(e)}\r\n                error={presets[\"default_presets\"] && (Object.keys(presets[\"default_presets\"]).indexOf(name) > -1 || Object.values(presets[\"default_presets\"]).filter(p => p.name === name).length > 0)}\r\n                size=\"small\"\r\n                variant=\"outlined\"\r\n                id=\"presetNameInput\"\r\n                label={\r\n                  presets[\"default_presets\"] &&\r\n                    (Object.keys(presets[\"default_presets\"]).indexOf(name) > -1 || Object.values(presets[\"default_presets\"]).filter(p => p.name === name).length > 0)\r\n                    ? \"Default presets are readonly\"\r\n                    : presets[\"custom_presets\"] && (Object.keys(presets[\"custom_presets\"]).indexOf(name) > -1 || Object.values(presets[\"custom_presets\"]).filter(p => p.name === name).length > 0)\r\n                      ? \"Preset already exsisting\"\r\n                      : \"Add Custom Preset\"}\r\n                style={{ marginRight: '1rem', flex: 1 }}\r\n                value={name}\r\n                onChange={(e) => {\r\n                  setName(e.target.value)\r\n                  presets[\"custom_presets\"] && (Object.keys(presets[\"custom_presets\"]).indexOf(e.target.value) > -1 || Object.values(presets[\"custom_presets\"]).filter(p => p.name === e.target.value).length > 0)\r\n                    ? setValid(false)\r\n                    : setValid(true)\r\n                }}\r\n              />}\r\n              footer={<div style={{ margin: '0 0 0.5rem 1rem' }}>\r\n                <Typography variant=\"body2\" className={classes.hint}>\r\n                  Save the current effect configuration as a new preset.\r\n                </Typography>\r\n              </div>}\r\n              confirmDisabled={name.length === 0 || presets[\"default_presets\"] && (Object.keys(presets[\"default_presets\"]).indexOf(name) > -1 || Object.values(presets[\"default_presets\"]).filter(p => p.name === name).length > 0) || !valid}\r\n              onConfirm={handleAddPreset}\r\n              startIcon={\"\"}\r\n              size=\"medium\"\r\n              icon={<Add />}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n      <CardActions >\r\n        <div style={{ flexDirection: 'column', flex: 1 }}>\r\n          <div style={{ marginLeft: '0.5rem', display: 'flex', justifyContent: 'space-between', alignItems: 'flex-end' }}>\r\n            <Typography variant=\"body2\" className={classes.hint}>\r\n              Long-Press or right-click to open context-menu\r\n            </Typography>\r\n            {features['cloud'] && !!localStorage.getItem('jwt') && isLogged &&\r\n              <CloudScreen virtId={virtual.id} effectType={effectType} variant=\"outlined\" label=\"get more online\" startIcon={<Cloud />} />\r\n            }\r\n          </div>\r\n        </div>\r\n      </CardActions>\r\n\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default PresetsCard;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport useStore from '../../utils/apiStore';\r\nimport BladeFrame from '../../components/SchemaForm/BladeFrame';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  content: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    width: '100%',\r\n    padding: theme.spacing(2),\r\n    paddingBottom: 0,\r\n  },\r\n  formControl: {\r\n    marginRight: theme.spacing(3),\r\n    flex: 1,\r\n  },\r\n  card: { width: '100%', maxWidth: '540px' },\r\n}));\r\n\r\nconst TransitionCard = ({ virtual, style }) => {\r\n  const classes = useStyles();\r\n  const schemas = useStore((state) => state.schemas.virtuals && state.schemas.virtuals.schema.properties);\r\n  const addVirtual = useStore((state) => state.addVirtual);\r\n  const transition_mode = virtual && virtual.config && virtual.config.transition_mode;\r\n  const transition_time = virtual && virtual.config && virtual.config.transition_time;\r\n  \r\n  const handleSetTransition = (virtId, config) => addVirtual({\r\n      \"id\": virtId, \"config\": config\r\n  });\r\n\r\n  const onSliderChange = (e, newValue) => handleSetTransition(virtual.id, {\r\n    transition_time: newValue,\r\n  });\r\n\r\n  const marks = [\r\n    {\r\n      value: schemas?.transition_time.minimum,\r\n      label: `${schemas?.transition_time.minimum}s`,\r\n    },\r\n    {\r\n      value: schemas?.transition_time.maximum,\r\n      label: `${schemas?.transition_time.maximum}s`,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Card variant=\"outlined\" className={`${classes.card} step-device-two`} style={style}>\r\n      <CardHeader title=\"Transitions\" subheader=\"Seamlessly blend between effects\" />\r\n      <CardContent className={classes.content}>\r\n        <FormControl className={classes.formControl}>\r\n          <BladeFrame title=\"Duration\">\r\n          <Slider\r\n            defaultValue={transition_time || schemas?.transition_time.default}\r\n            onChangeCommitted={onSliderChange}\r\n            aria-labelledby=\"discrete-slider\"\r\n            step={0.1}\r\n            min={schemas?.transition_time.minimum}\r\n            max={schemas?.transition_time.maximum}\r\n            marks={marks}\r\n            style={{color: '#aaa'}}\r\n            valueLabelDisplay=\"auto\"\r\n          />\r\n          </BladeFrame>\r\n        </FormControl>\r\n        <BladeFrame title=\"Mode\" style={{ flexGrow: 0, flexBasis: '180px', minWidth: '180px', minHeight: '72px' }}>\r\n        <Select\r\n            defaultValue={transition_mode || schemas?.transition_mode.default}\r\n            onChange={(e) => {\r\n              handleSetTransition(virtual.id, { transition_mode: e.target.value });\r\n            }}\r\n          >\r\n            {schemas?.transition_mode.enum.map((mode, i) => <MenuItem key={i} value={mode}>{mode}</MenuItem>)}\r\n          </Select>\r\n        </BladeFrame>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default TransitionCard;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nimport { useState } from 'react';\r\nimport useStore from \"../../utils/apiStore\";\r\nimport Slider from '@material-ui/core/Slider';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { InputAdornment, TextField } from '@material-ui/core';\r\nimport BladeFrame from '../../components/SchemaForm/BladeFrame';\r\n\r\nconst log13 = (x) => Math.log(x) / Math.log(13);\r\nconst logIt = (x) => 3700.0 * log13(1 + x / 200.0);\r\nconst hzIt = (x) => 200.0 * 13 ** (x / 3700.0) - 200.0;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  content: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    padding: theme.spacing(2),\r\n    paddingBottom: 0,\r\n  },\r\n  formControl: {\r\n    marginRight: theme.spacing(3),\r\n  },\r\n  card: {\r\n    width: '100%',\r\n    maxWidth: '540px',\r\n    '@media (max-width: 580px)': {\r\n      maxWidth: '97vw',\r\n      margin: '0 auto',\r\n    },\r\n  },\r\n}));\r\n\r\n\r\nconst FrequenciesCard = ({ virtual, style }) => {\r\n  const classes = useStyles();\r\n  const addVirtual = useStore((state) => state.addVirtual);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const config = useStore((state) => state.config);\r\n\r\n  const [value, setValue] = useState([logIt(virtual.config.frequency_min), logIt(virtual.config.frequency_max)]);\r\n\r\n  const freq_max = config.melbanks?.max_frequencies.map(f => ({\r\n    value: f,\r\n    label: `${f > 1000 ? `${f / 1000}kHz` : `${f}Hz`}`,\r\n  }));\r\n\r\n  const freq_min = {\r\n    value: config.melbanks?.min_frequency,\r\n    label: `${config.melbanks?.min_frequency > 1000 ? `${config.melbanks?.min_frequency / 1000}kHz` : `${config.melbanks?.min_frequency}Hz`}`,\r\n  }\r\n  const marks = freq_max && [freq_min, ...freq_max]\r\n\r\n  const convertedMarks = marks?.map((m) => ({\r\n    value: logIt(m.value),\r\n    label: m.label,\r\n  }));\r\n\r\n  const handleChange = (event, newValue) => {\r\n    const copy = [...newValue];\r\n    convertedMarks.forEach((m, i) => {\r\n      if (Math.abs(newValue[0] - m.value) < 100) {\r\n        copy[0] = m.value;\r\n      }\r\n      if (Math.abs(newValue[1] - m.value) < 100) {\r\n        copy[1] = m.value;\r\n      }\r\n    });\r\n    setValue(copy);\r\n  };\r\n\r\n  return (\r\n    <Card variant=\"outlined\" className={`${classes.card} step-device-four`} style={style}>\r\n      <CardHeader\r\n        title=\"Frequencies\"\r\n        subheader=\"Adjust the audio range used for this strip\"\r\n      />\r\n      <CardContent className={classes.content}>\r\n        <div style={{ width: '100%' }}>\r\n          <BladeFrame title=\"Range\" style={{padding: '16px 2rem 6px 2rem', marginBottom: '1rem'}}>\r\n          <Slider\r\n            value={[value[0], value[1]]}\r\n            aria-labelledby=\"discrete-slider-custom\"\r\n            step={0.001}\r\n            valueLabelDisplay=\"auto\"\r\n            marks={convertedMarks}\r\n            min={logIt(config.melbanks?.min_frequency)}\r\n            max={logIt(config.melbanks?.max_frequencies[config.melbanks?.max_frequencies.length - 1])}\r\n            onChange={handleChange}\r\n            ValueLabelComponent={ValueLabelComponent}            \r\n            style={{color: '#aaa'}}\r\n            onChangeCommitted={(e, val) => {\r\n              // Backend cannot do partial updates yet, sending whole config\r\n              addVirtual({\r\n                id: virtual.id,\r\n                config: {\r\n                  ...virtual.config,\r\n                  frequency_min: Math.round(hzIt(value[0])),\r\n                  frequency_max: Math.round(hzIt(value[1]))\r\n                }\r\n              }).then(() => getVirtuals())\r\n            }}\r\n          />\r\n          </BladeFrame>\r\n          <div\r\n            style={{\r\n              width: '100%',\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            <div style={{ maxWidth: '120px' }}>\r\n              <TextField\r\n                id=\"min\"\r\n                label=\"Min\"\r\n                type=\"number\"\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                InputProps={{\r\n                  endAdornment: <InputAdornment position=\"end\">Hz</InputAdornment>\r\n                }}\r\n                inputProps={{\r\n                  style: { textAlign: 'right', },\r\n                  min: 20,\r\n                  max: 20000\r\n                }}\r\n                value={Math.round(hzIt(value[0])) < 5 ? value[0] : Math.round(hzIt(value[0]))}\r\n                variant=\"outlined\"\r\n                onChange={(e, n) => {\r\n                  setValue([logIt(e.target.value), value[1]]);\r\n                }}\r\n              />\r\n            </div>\r\n            <div style={{ maxWidth: '120px' }}>\r\n              <TextField\r\n                id=\"max\"\r\n                label=\"Max\"\r\n                type=\"number\"\r\n\r\n                value={Math.round(hzIt(value[1])) > 20001 ? value[1] : Math.round(hzIt(value[1]))}\r\n                onChange={(e, n) => {\r\n                  setValue([value[0], logIt(e.target.value)]);\r\n                }}\r\n                inputProps={{\r\n                  min: 20,\r\n                  max: 20000\r\n                }}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                InputProps={{\r\n                  endAdornment: <InputAdornment position=\"end\">Hz</InputAdornment>\r\n                }}\r\n                variant=\"outlined\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nfunction ValueLabelComponent(props) {\r\n  const { children, open, value } = props;\r\n\r\n  return (\r\n    <Tooltip\r\n      open={open}\r\n      enterTouchDelay={0}\r\n      placement=\"top\"\r\n      title={`${Math.round(hzIt(value))} Hz`}\r\n    >\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nexport default FrequenciesCard;\r\n","import { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Grid } from '@material-ui/core/';\r\nimport useStore from '../../utils/apiStore';\r\nimport EffectsCard from './Effects';\r\nimport PresetsCard from './Presets';\r\nimport TransitionCard from './Transition';\r\nimport MelbankCard from './Frequencies';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  virtualWrapper: {\r\n    justifyContent: 'center',\r\n  },\r\n  girdItem: { flexShrink: 0, flexGrow: 1, maxWidth: '540px', width: '100%' },\r\n}));\r\n\r\nconst Device = ({\r\n  match: {\r\n    params: { virtId },\r\n  },\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const getPresets = useStore((state) => state.getPresets);\r\n  const getSchemas = useStore((state) => state.getSchemas);\r\n\r\n  const virtuals = useStore((state) => state.virtuals);\r\n  const presets = useStore((state) => state.presets);\r\n  const viewMode = useStore((state) => state.viewMode);\r\n\r\n  const virtual = virtuals[virtId];\r\n  const effectType = virtual && virtual.effect.type;\r\n\r\n  useEffect(() => {\r\n    getVirtuals();\r\n    getSchemas();\r\n    effectType && getPresets(effectType);\r\n  }, [getVirtuals, getSchemas, getPresets, effectType]);\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      direction=\"row\"\r\n      spacing={2}\r\n      className={classes.virtualWrapper}\r\n    >\r\n      {virtual && (\r\n        <>\r\n          <Grid item className={classes.girdItem}>\r\n            <EffectsCard virtId={virtId} />\r\n\r\n          </Grid>\r\n\r\n          <Grid item className={classes.girdItem}>\r\n            {effectType && presets && (\r\n              <PresetsCard\r\n                virtual={virtual}\r\n                presets={presets}\r\n                effectType={effectType}\r\n                style={{ marginBottom: '1rem' }}\r\n              />\r\n            )}\r\n            {viewMode === 'expert' && <TransitionCard virtual={virtual} style={{ marginTop: '1rem' }} />}\r\n            {viewMode === 'expert' && <MelbankCard virtual={virtual} style={{ marginTop: '1rem' }} />}\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Device;\r\n","import { useState, useEffect } from 'react';\r\nimport useStore from '../../utils/apiStore';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button, Divider, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Grid, Card, CardActionArea, CardActions, CardMedia, Icon, Typography } from '@material-ui/core';\r\nimport { Info } from '@material-ui/icons';\r\nimport Popover from '../../components/Popover';\r\nimport NoYet from '../../components/NoYet';\r\nimport BladeIcon from '../../components/Icons/BladeIcon';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: 'min(95vw, 345px)',\r\n  },\r\n  '@media (max-width: 580px)': {\r\n    root: {\r\n      width: '95vw',\r\n    },\r\n    sceneTitle: {\r\n      fontSize: '1rem',\r\n    }\r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n  iconMedia: {\r\n    height: 140,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    margin: '0 auto',\r\n    fontSize: 100,\r\n    '& > span:before': {\r\n      position: 'relative',\r\n    },\r\n  },\r\n});\r\n\r\nconst Scenes = () => {\r\n  const classes = useStyles();\r\n  const getScenes = useStore((state) => state.getScenes);\r\n  const scenes = useStore((state) => state.scenes);\r\n  const activateScene = useStore((state) => state.activateScene);\r\n  const deleteScene = useStore((state) => state.deleteScene);\r\n  const [info, setInfo] = useState(false);\r\n  const [scene, setScene] = useState();\r\n\r\n  const setDialogOpenAddScene = useStore((state) => state.setDialogOpenAddScene);\r\n\r\n  const handleActivateScene = (e) => {\r\n    activateScene(e);\r\n    setDialogOpenAddScene(false);\r\n  };\r\n\r\n  const handleDeleteScene = (e) => {\r\n    deleteScene(e).then(() => {\r\n      getScenes();\r\n    });\r\n    setDialogOpenAddScene(false);\r\n  };\r\n\r\n  const handleInfoOpen = (s) => {\r\n    setScene(s)\r\n    setInfo(true);\r\n  };\r\n\r\n  const handleInfoClose = () => {\r\n    setInfo(false);\r\n  };\r\n\r\n  const sceneImage = (iconName) => iconName && iconName.startsWith('image:')\r\n    ? <CardMedia\r\n      className={classes.media}\r\n      image={iconName.split('image:')[1]}\r\n      title=\"Contemplative Reptile\"\r\n    />\r\n    : <BladeIcon scene className={classes.iconMedia} name={iconName} />\r\n\r\n  const SceneDialog = () => scene ? <Dialog\r\n    open={info}\r\n    onClose={handleInfoClose}\r\n    aria-labelledby=\"alert-dialog-title\"\r\n    aria-describedby=\"alert-dialog-description\"\r\n    fullWidth={true}\r\n    maxWidth={\"xs\"}\r\n  >\r\n    <DialogTitle id=\"alert-dialog-title\">Scene: {scenes[scene].name || scene}</DialogTitle>\r\n    <DialogContent>\r\n      <DialogContentText id=\"alert-dialog-description\">\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', fontVariant: 'all-small-caps' }}>\r\n          <span>Device</span>\r\n          <span>Effect</span>\r\n        </div>\r\n        <Divider />\r\n        {Object.keys(scenes[scene].virtuals).filter(d => !!scenes[scene].virtuals[d].type).map((dev, i) => (\r\n          <div key={i} style={{ display: 'flex', justifyContent: 'space-between', fontVariant: 'all-small-caps' }}>\r\n            <span>{dev}</span>\r\n            <span>{scenes[scene].virtuals[dev].type}</span>\r\n          </div>\r\n        ))}\r\n      </DialogContentText>\r\n    </DialogContent>\r\n    <DialogActions>\r\n      <Button onClick={handleInfoClose} color=\"primary\" autoFocus>\r\n        Close\r\n      </Button>\r\n    </DialogActions>\r\n  </Dialog> : <></>\r\n\r\n  useEffect(() => {\r\n    getScenes();\r\n  }, [getScenes]);\r\n  return (\r\n    <Grid container spacing={2} justifyContent=\"center\">\r\n      {scenes && Object.keys(scenes).length ? Object.keys(scenes).map((s, i) => (\r\n        <Grid item key={i}>\r\n          <Card className={classes.root}>\r\n            <CardActionArea style={{ background: '#090909' }} onClick={() => handleActivateScene({ id: s })}>\r\n              {sceneImage(scenes[s].scene_image || 'Wallpaper')}\r\n            </CardActionArea>\r\n            <CardActions style={{ justifyContent: 'space-between', aligntItems: 'center', width: '100%' }}>\r\n              <Typography gutterBottom className={classes.sceneTitle} variant={\"h5\"} component={\"h2\"}>\r\n                {scenes[s].name || s}\r\n              </Typography>\r\n              <div>\r\n                <Popover onConfirm={() => handleDeleteScene(s)} variant=\"outlined\" color=\"inherit\" />\r\n                <Button onClick={() => handleInfoOpen(s)} variant=\"outlined\" color=\"inherit\" size=\"small\" style={{ marginLeft: '0.5rem' }}>\r\n                  <Info />\r\n                </Button>\r\n\r\n              </div>\r\n            </CardActions>\r\n          </Card>\r\n          <SceneDialog />\r\n        </Grid>\r\n      )) : (<NoYet type=\"Scene\" />)}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Scenes;\r\n","import { useEffect } from 'react';\r\nimport useStore from '../../utils/apiStore';\r\nimport BladeSchemaForm from \"../../components/SchemaForm/BladeSchemaForm\";\r\n\r\nconst AudioCard = ({ className }) => {\r\n    const setSystemConfig = useStore((state) => state.setSystemConfig)\r\n    const getSystemConfig = useStore((state) => state.getSystemConfig)\r\n    const schema = useStore((state) => state?.schemas?.audio?.schema)\r\n    const model = useStore((state) => state?.config?.audio)\r\n\r\n    useEffect(() => {\r\n        getSystemConfig();\r\n    }, []);\r\n\r\n    return <div className={className}>\r\n        {schema && <BladeSchemaForm\r\n            disableUnderline\r\n            hideToggle\r\n            schema={schema}\r\n            model={model}\r\n            onModelChange={(e) => {\r\n                setSystemConfig({\r\n                    config: {\r\n                        audio: e\r\n                    }\r\n                }).then(() => getSystemConfig())\r\n            }}\r\n        />}\r\n    </div>\r\n};\r\n\r\nexport default AudioCard;\r\n","import { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Card, CardHeader, CardContent, InputLabel, MenuItem, FormControl, Checkbox, Icon, TextField, Select,  Accordion, AccordionDetails, AccordionSummary, Typography } from '@material-ui/core';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Wled from '../../components/Icons/Wled';\r\nimport useStore from '../../utils/apiStore';\r\n\r\nconst useStyles = makeStyles({\r\n    content: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n    rowContainer: {\r\n        border: '1px solid',\r\n        borderRadius: '4px'\r\n    },\r\n    rowB: {\r\n        display: 'flex',\r\n        flexDirection: 'row'\r\n    },\r\n    row: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        padding: '10px 5px',\r\n        '&:not(:last-child)': {\r\n            borderBottom: '1px solid',\r\n        }\r\n    },\r\n    formControl: {\r\n        width: '100%',\r\n        marginRight: '1rem',\r\n    },\r\n    check: {\r\n        '& .MuiSvgIcon-root': {\r\n            width: '2rem',\r\n            height: '2rem',\r\n        }\r\n    },\r\n\r\n});\r\n\r\nconst WledCard = ({ className }) => {\r\n\r\n    const classes = useStyles();\r\n    const setSystemConfig = useStore(state => state.setSystemConfig);\r\n    const getSystemConfig = useStore((state) => state.getSystemConfig);\r\n    const settings = useStore(state => state.config);\r\n\r\n    const toggleSetting = (setting, value) => {\r\n        setSystemConfig({ config: { wled_preferences: { [setting]: { user_enabled: value } } } }).then(() => getSystemConfig());\r\n    }\r\n    const onChangeSetting = (setting, value) => {\r\n        setSystemConfig({ config: { wled_preferences: { [setting]: { setting: value } } } }).then(() => getSystemConfig());\r\n    }\r\n    const onScanOnStart = (setting, value) => {\r\n        setSystemConfig({ config: { [setting]: value } }).then(() => getSystemConfig());\r\n    }\r\n\r\n    useEffect(() => {\r\n        getSystemConfig();\r\n    }, [getSystemConfig]);\r\n\r\n    return settings.wled_preferences ? (\r\n        <Card style={{ marginBottom: '2rem' }} className={className}>\r\n            <CardHeader title=\"WLED Integration\" subheader=\"Configure WLED-Settings\" action={\r\n                <Icon\r\n                    style={{\r\n                        margin: '1rem',\r\n                        fontSize: '2.5rem'\r\n                    }}\r\n                >\r\n                    <Wled />\r\n                </Icon>} />\r\n            <CardContent className={classes.content}>\r\n                <FormControl>\r\n                    <InputLabel id=\"wled-scan-selector\">Scan for WLED on startup</InputLabel>\r\n                    <Select\r\n                        labelId=\"wled-scan-selector\"\r\n                        id=\"wled-scan-select\"\r\n                        value={settings.scan_on_startup}\r\n                        onChange={(e) => onScanOnStart(\"scan_on_startup\", e.target.value)}\r\n                    >\r\n                        <MenuItem value={true}>Yes</MenuItem>\r\n                        <MenuItem value={false}>No</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n                <Accordion style={{ marginTop: '2rem' }}>\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                        aria-controls=\"panel1bh-content\"\r\n                        id=\"panel1bh-header\"\r\n                    >\r\n                        <Typography className={classes.heading}>WLED Sync-Settings</Typography>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails className={classes.content}>\r\n                        <p style={{ margin: '0 0 2rem 0' }}>LedFx can configure WLED's sync settings to recommended values.<br /><br />\r\n                            WARNING: <br />\r\n                            If you are using your strips with other controllers, changes to these settings might impact their functionality!<br /><br />\r\n                            LedFx will only change settings that you select with the checkbox</p>\r\n                        <div className={classes.rowContainer}>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.wled_preferred_mode.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"wled_preferred_mode\", !settings.wled_preferences.wled_preferred_mode.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel id=\"wled-mode-selector\">Preferred WLED mode</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"wled-mode-selector\"\r\n                                        id=\"wled-mode-select\"\r\n                                        value={settings.wled_preferences.wled_preferred_mode.setting}\r\n                                        onChange={(e) => onChangeSetting(\"wled_preferred_mode\", e.target.value)}\r\n                                        disabled={!settings.wled_preferences.wled_preferred_mode.user_enabled}\r\n                                    >\r\n                                        <MenuItem value={\"unset\"}>Unset</MenuItem>\r\n                                        <MenuItem value={\"E131\"}>E131</MenuItem>\r\n                                        <MenuItem value={\"DDP\"}>DDP</MenuItem>\r\n                                        <MenuItem value={\"UDP\"}>UDP</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </div>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.realtime_gamma_enabled.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"realtime_gamma_enabled\", !settings.wled_preferences.realtime_gamma_enabled.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel id=\"wled-gamma\">Realtime Gamma</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"wled-gamma\"\r\n                                        id=\"wled-gamma-select\"\r\n                                        value={settings.wled_preferences.realtime_gamma_enabled.setting}\r\n                                        onChange={(e) => onChangeSetting(\"realtime_gamma_enabled\", e.target.value)}\r\n                                        disabled={!settings.wled_preferences.realtime_gamma_enabled.user_enabled}\r\n                                    >\r\n                                        <MenuItem value={true}>Enable</MenuItem>\r\n                                        <MenuItem value={false}>Disable</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </div>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.force_max_brightness.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"force_max_brightness\", !settings.wled_preferences.force_max_brightness.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel id=\"wled-brightness\">Force MaxBrightness</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"wled-brightness\"\r\n                                        id=\"wled-brightness-select\"\r\n                                        value={settings.wled_preferences.force_max_brightness.setting}\r\n                                        onChange={(e) => onChangeSetting(\"force_max_brightness\", e.target.value)}\r\n                                        disabled={!settings.wled_preferences.force_max_brightness.user_enabled}\r\n                                    >\r\n                                        <MenuItem value={true}>Enable</MenuItem>\r\n                                        <MenuItem value={false}>Disable</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </div>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.realtime_dmx_mode.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"realtime_dmx_mode\", !settings.wled_preferences.realtime_dmx_mode.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <FormControl  className={classes.formControl}>\r\n                                    <InputLabel id=\"wled-dmx\">DMX mode</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"wled-dmx\"\r\n                                        id=\"wled-dmx-select\"\r\n                                        value={settings.wled_preferences.realtime_dmx_mode.setting}\r\n                                        onChange={(e) => onChangeSetting(\"realtime_dmx_mode\", e.target.value)}\r\n                                        disabled={!settings.wled_preferences.realtime_dmx_mode.user_enabled}\r\n                                    >\r\n                                        <MenuItem value={\"MultiRGB\"}>Disabled</MenuItem>\r\n                                        <MenuItem value={\"MultiRGB\"}>Single RGB</MenuItem>\r\n                                        <MenuItem value={\"MultiRGB\"}>Single DRGB</MenuItem>\r\n                                        <MenuItem value={\"MultiRGB\"}>Multi RGB</MenuItem>\r\n                                        <MenuItem value={\"MultiRGB\"}>Dimmer + Multi RGB</MenuItem>\r\n                                        <MenuItem value={\"MultiRGB\"}>Multi RGBW</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </div>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.start_universe_setting.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"start_universe_setting\", !settings.wled_preferences.start_universe_setting.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <TextField\r\n                                    type=\"number\"\r\n                                    label=\"Start universe\"\r\n                                    id=\"wled-universe-select\"\r\n                                    value={settings.wled_preferences.start_universe_setting.setting}\r\n                                    onChange={(e) => onChangeSetting(\"start_universe_setting\", e.target.value)}\r\n                                    disabled={!settings.wled_preferences.start_universe_setting.user_enabled} \r\n                                    className={classes.formControl} />\r\n\r\n                            </div>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.dmx_address_start.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"dmx_address_start\", !settings.wled_preferences.dmx_address_start.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <TextField\r\n                                    type=\"number\"\r\n                                    label=\"DMX start address\"\r\n                                    id=\"wled-dmx-start-select\"\r\n                                    value={settings.wled_preferences.dmx_address_start.setting}\r\n                                    onChange={(e) => onChangeSetting(\"dmx_address_start\", e.target.value)}\r\n                                    disabled={!settings.wled_preferences.dmx_address_start.user_enabled}\r\n                                    className={classes.formControl}\r\n                                />\r\n\r\n                            </div>\r\n                            <div className={classes.row}>\r\n\r\n                                <Checkbox\r\n                                    checked={settings.wled_preferences.inactivity_timeout.user_enabled}\r\n                                    className={classes.check}\r\n                                    onChange={() => toggleSetting(\"inactivity_timeout\", !settings.wled_preferences.inactivity_timeout.user_enabled)}\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                                <TextField\r\n                                    type=\"number\"\r\n                                    label=\"Inactivity Timeout\"\r\n                                    id=\"wled-inactivity-select\"\r\n                                    value={settings.wled_preferences.inactivity_timeout.setting}\r\n                                    onChange={(e) => onChangeSetting(\"inactivity_timeout\", e.target.value)}\r\n                                    disabled={!settings.wled_preferences.inactivity_timeout.user_enabled}\r\n                                    className={classes.formControl}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </AccordionDetails>\r\n                </Accordion >\r\n            </CardContent >\r\n        </Card >\r\n    ) : (<></>);\r\n};\r\n\r\nexport default WledCard;\r\n","import { Button, Fab, TextField, Popover, FormControlLabel, Switch } from '@material-ui/core';\r\nimport { Check, Close } from '@material-ui/icons';\r\nimport { useState, useEffect, useRef } from 'react'\r\nimport BladeIcon from '../../components/Icons/BladeIcon';\r\nimport ws from \"../../utils/Websocket\";\r\nimport useStore from '../../utils/apiStore';\r\n\r\nconst getMedia = async (clientDevice) => {\r\n\r\n  try {\r\n    return await navigator.mediaDevices.getUserMedia({\r\n      audio: navigator.mediaDevices.enumerateDevices()\r\n        .then(function (devices) {\r\n          (clientDevice === null || devices.indexOf(clientDevice === -1)) ? true : { deviceId: { exact: clientDevice } }\r\n        }),\r\n      video: false,\r\n    })\r\n  } catch (err) {\r\n    console.log('Error:', err)\r\n  }\r\n}\r\n\r\nconst Webaudio = ({style}) => {\r\n  // const [webAud, setWebAud] = useState(false)\r\n  const webAud = useStore((state) => state.webAud)\r\n  const setWebAud = useStore((state) => state.setWebAud)\r\n  const [wsReady, setWsReady] = useState(false)\r\n  const [audioData, setAudioData] = useState([])\r\n  // const [keep, setKeep] = useState(false)\r\n  const webAudName = useStore((state) => state.webAudName)\r\n  const setWebAudName = useStore((state) => state.setWebAudName)\r\n\r\n  const audioContext = webAud && new (window.AudioContext || window.webkitAudioContext)();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const getSchemas = useStore((state) => state.getSchemas)\r\n  const clientDevice = useStore((state) => state.clientDevice)\r\n  const setClientDevices = useStore((state) => state.setClientDevices)\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? 'simple-popover' : undefined;\r\n\r\n\r\n  let s\r\n  useEffect(() => {\r\n    webAud && navigator.mediaDevices && navigator.mediaDevices.getUserMedia && getMedia(clientDevice).then(stream => {\r\n      s = stream\r\n      if (!audioContext || audioContext.state === 'closed') {\r\n        return\r\n      }\r\n\r\n      const source = audioContext.createMediaStreamSource(stream)\r\n      const scriptNode = audioContext.createScriptProcessor(1024, 1, 1);\r\n      // const analyser = audioContext.createAnalyser()\r\n      // // const scriptNode = audioContext.createScriptProcessor(0, 1, 1);\r\n      // console.log(\"THIS\", analyser);      \r\n      source.connect(scriptNode);\r\n      // analyser.connect(scriptNode);\r\n      scriptNode.connect(audioContext.destination);\r\n      if (wsReady) {\r\n        if (webAud) {\r\n          const sendWs = async () => {\r\n            let i = 0\r\n            const request = {\r\n              data: {\r\n                sampleRate: scriptNode?.context?.sampleRate,\r\n                bufferSize: scriptNode?.bufferSize\r\n              },\r\n              client: webAudName,\r\n              id: i,\r\n              type: \"audio_stream_config\",\r\n            };\r\n            ws.ws.send(JSON.stringify(++request.id && request));\r\n          };\r\n          sendWs();\r\n        }\r\n      }\r\n      scriptNode.onaudioprocess = e => {\r\n        if (wsReady) {\r\n          if (webAud) {\r\n            const sendWs = async () => {\r\n              let i = 0\r\n              const request = {\r\n                data: e.inputBuffer.getChannelData(0),\r\n                client: webAudName,\r\n                id: i,\r\n                type: \"audio_stream_data\",\r\n              };\r\n              ws.ws.send(JSON.stringify(++request.id && request));\r\n            };\r\n            sendWs();\r\n          }\r\n        }\r\n      };\r\n    });\r\n  }, [audioContext])\r\n\r\n\r\n\r\n  if (!wsReady) {\r\n    if (ws && ws.ws && ws.ws.readyState === 1) {\r\n      setWsReady(true)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Fab aria-describedby={id} size=\"large\" color={webAud ? \"inherit\" : \"secondary\"} onClick={(e) => {\r\n        if (webAud) {\r\n          if (audioContext) {\r\n            s.getTracks().forEach(track => track.stop())\r\n            audioContext.close()\r\n          }\r\n          const sendWs = async () => {\r\n            let i = 0\r\n            const request = {\r\n              client: webAudName,\r\n              id: i,\r\n              type: \"audio_stream_stop\",\r\n            };\r\n            ws.ws.send(JSON.stringify(++request.id && request));\r\n          };\r\n          sendWs().then(() => getSchemas());\r\n          setWebAud(false)\r\n          setClientDevices(null)\r\n          window.location.reload(true);\r\n        } else {\r\n\r\n          handleClick(e)\r\n        }\r\n\r\n      }} data-webaud={webAud} style={style}>\r\n        {!webAud\r\n          ? <>\r\n            <BladeIcon name={\"mdi:wifi\"} colorIndicator={webAud} style={{ position: 'relative', transform: 'scale(0.8) translate(20%,-30%)' }} />\r\n            <BladeIcon name={\"mdi:microphone\"} colorIndicator={webAud} style={{ position: 'absolute', transform: 'scale(0.7) translate(-20%,50%)' }} />\r\n          </>\r\n          : <BladeIcon name={\"mdi:stop\"} colorIndicator={webAud} style={{ position: 'relative' }} />\r\n        }\r\n      </Fab>\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: \"center\",\r\n          horizontal: 'left',\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"center\",\r\n          horizontal: 'right',\r\n        }}\r\n      >\r\n        <div style={{ display: 'flex', margin: 20 }}>\r\n          <TextField\r\n            id=\"client-name\"\r\n            label=\"Client Name\"\r\n            value={webAudName}\r\n            onChange={(e) => setWebAudName(e.target.value)}\r\n            variant=\"outlined\"\r\n          />\r\n          <Button\r\n            aria-describedby={id}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              if (!webAud) {\r\n                if (wsReady) {\r\n                  navigator.mediaDevices.enumerateDevices()\r\n                    .then(function (devices) {\r\n                      setClientDevices(devices)\r\n                    })\r\n                    .catch(function (err) {\r\n                      console.log(err.name + \": \" + err.message);\r\n                    });\r\n                  const sendWs = async () => {\r\n                    const request = {\r\n                      data: {\r\n\r\n                      },\r\n                      client: webAudName,\r\n                      id: 1,\r\n                      type: \"audio_stream_start\",\r\n                    };\r\n                    ws.ws.send(JSON.stringify(++request.id && request));\r\n                  };\r\n                  sendWs()\r\n                  setTimeout(() => {\r\n                    getSchemas()\r\n                  }, 1000)\r\n\r\n                }\r\n              }\r\n\r\n              setAnchorEl(null);\r\n              setWebAud(true)\r\n            }}\r\n          >\r\n            <Check />\r\n          </Button>\r\n          <Button\r\n            aria-describedby={id}\r\n            variant=\"contained\"\r\n            color=\"default\"\r\n            onClick={() => {\r\n              setAnchorEl(null);\r\n            }}\r\n          >\r\n            <Close />\r\n          </Button>\r\n        </div>\r\n      </Popover>\r\n      {/* <canvas width={dw} height={dh} style={style} ref={canvas} /> */}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Webaudio\r\n","import { MenuItem, Select } from '@material-ui/core';\r\nimport BladeFrame from '../../components/SchemaForm/BladeFrame';\r\nimport useStore from '../../utils/apiStore';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Webaudio from './Webaudio';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    select: {\r\n        '& div.MuiSelect-select': {\r\n            padding: '6px 0',\r\n        }\r\n    },\r\n}));\r\n\r\nconst ClientAudioCard = ({ style }) => {\r\n    const classes = useStyles()\r\n    const clientDevice = useStore((state) => state.clientDevice)\r\n    const clientDevices = useStore((state) => state.clientDevices)\r\n    const setClientDevice = useStore((state) => state.setClientDevice)\r\n    const setClientDevices = useStore((state) => state.setClientDevices)\r\n    const webAudName = useStore((state) => state.webAudName)\r\n    \r\n\r\n    return clientDevices && <BladeFrame style={{ order: 0, ...style }} full={true} title={`${webAudName}: Audio Device`} className={classes.select}>\r\n        <Select\r\n            variant=\"standard\"\r\n            disableUnderline\r\n            value={clientDevice || clientDevices[0].deviceId}\r\n            style={{ width: '100%' }}\r\n            onChange={(e) => {\r\n                setClientDevice(e.target.value)\r\n                // WEBAUDIO CHANGE INPUT DEVICE\r\n            }}\r\n        >\r\n            {clientDevices.filter(cd => cd.kind === 'audioinput').map((d, i) =>\r\n                <MenuItem key={i} value={d.deviceId}>\r\n                    {d.label}\r\n                </MenuItem>\r\n            )}\r\n\r\n        </Select>      \r\n    </BladeFrame>\r\n};\r\n\r\nexport default ClientAudioCard;\r\n","import { makeStyles, styled } from '@material-ui/core/styles';\r\nimport { Button, Slider, Switch } from '@material-ui/core';\r\n\r\nexport const useStyles = makeStyles(theme => ({\r\n  content: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'flex-start',\r\n    flexDirection: 'row',\r\n    '&>div': {\r\n      display: 'flex',\r\n      flexWrap: 'wrap',\r\n      justifyContent: 'space-between',\r\n    }\r\n  },\r\n  settingsRow: {\r\n    order: 'unset',\r\n    width: \"100%\",\r\n    justifyContent: 'space-between',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    height: 40,\r\n    '&>label': {\r\n      marginRight: '1rem',\r\n      width: 150\r\n    }\r\n  },\r\n  actionButton: {\r\n    marginTop: '0.5rem',\r\n    flexBasis: '49%',\r\n    width: '100%',\r\n    borderColor: '#444'\r\n  },\r\n  card: {\r\n    maxWidth: '540px',\r\n    margin: '0 auto', // mobile\r\n  },\r\n  '@media (max-width: 580px)': {\r\n    card: {\r\n      maxWidth: '97vw',\r\n      margin: '0 auto',\r\n    },\r\n  },\r\n  audioCard: {\r\n    '& > div > div:not(:last-child)': {\r\n      '@media (max-width: 580px)': {\r\n        width: '48% !important',\r\n        minWidth: 'unset'\r\n      },\r\n    },\r\n  }\r\n}));\r\n\r\nexport const SettingsSlider = styled(Slider)(({ theme }) => ({\r\n  color: theme.palette.mode === 'dark' ? '#eeeeee' : '#eeeeee',\r\n  height: 2,\r\n  padding: '15px 0',\r\n  '& .MuiSlider-thumb': {\r\n    height: 20,\r\n    width: 20,\r\n    backgroundColor: '#fff',\r\n    marginTop: '-10px',\r\n    boxShadow: '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)',\r\n    '&:focus, &:hover, &.Mui-active': {\r\n      boxShadow:\r\n        '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)',\r\n      // Reset on touch devices, it doesn't add specificity\r\n      '@media (hover: none)': {\r\n        boxShadow: '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)',\r\n      },\r\n    },\r\n  },\r\n  '& .MuiSlider-valueLabel': {\r\n    fontSize: 12,\r\n    fontWeight: 'normal',\r\n    top: -6,\r\n    backgroundColor: 'unset',\r\n    color: theme.palette.text.primary,\r\n    '&:before': {\r\n      display: 'none',\r\n    },\r\n    '& *': {\r\n      background: 'transparent',\r\n      color: theme.palette.mode === 'dark' ? '#fff' : '#000',\r\n    },\r\n  },\r\n  '& .MuiSlider-track': {\r\n    border: 'none',\r\n  },\r\n  '& .MuiSlider-rail': {\r\n    opacity: 0.5,\r\n    backgroundColor: '#bfbfbf',\r\n  },\r\n  '& .MuiSlider-mark': {\r\n    backgroundColor: '#bfbfbf',\r\n    height: 8,\r\n    width: 1,\r\n    '&.MuiSlider-markActive': {\r\n      opacity: 1,\r\n      backgroundColor: 'currentColor',\r\n    },\r\n  },\r\n}));\r\n\r\nexport const SettingsSwitch = styled((props) => (\r\n  <Switch focusVisibleClassName=\".Mui-focusVisible\" disableRipple {...props} />\r\n))(({ theme }) => ({\r\n  width: 50,\r\n  height: 26,\r\n  padding: 0,\r\n  '& .MuiSwitch-switchBase': {\r\n    padding: 0,\r\n    margin: 2,\r\n    transitionDuration: '300ms',\r\n    '&.Mui-checked': {\r\n      transform: 'translateX(24px)',\r\n      color: '#fff',\r\n      '& + .MuiSwitch-track': {\r\n        backgroundColor: theme.palette.primary,\r\n        opacity: 1,\r\n        border: 0,\r\n      },\r\n      '&.Mui-disabled + .MuiSwitch-track': {\r\n        opacity: 0.5,\r\n      },\r\n    },\r\n    '&.Mui-focusVisible .MuiSwitch-thumb': {\r\n      color: '#33cf4d',\r\n      border: '6px solid #fff',\r\n    },\r\n    '&.Mui-disabled .MuiSwitch-thumb': {\r\n      color:\r\n        theme.palette.mode === 'light'\r\n          ? theme.palette.grey[100]\r\n          : theme.palette.grey[600],\r\n    },\r\n    '&.Mui-disabled + .MuiSwitch-track': {\r\n      opacity: theme.palette.mode === 'light' ? 0.7 : 0.3,\r\n    },\r\n  },\r\n  '& .MuiSwitch-thumb': {\r\n    boxSizing: 'border-box',\r\n    width: 22,\r\n    height: 22,\r\n  },\r\n  '& .MuiSwitch-track': {\r\n    borderRadius: 26 / 2,\r\n    backgroundColor: theme.palette.mode === 'light' ? '#E9E9EA' : '#39393D',\r\n    opacity: 1,\r\n    transition: theme.transitions.create(['background-color'], {\r\n      duration: 500,\r\n    }),\r\n  },\r\n}));\r\n\r\nexport const SettingsButton = (props) => {\r\n  const classes = useStyles();\r\n  return <Button size=\"small\" variant=\"outlined\" className={classes.actionButton} {...props} />\r\n}","import { useEffect, useState } from 'react';\r\nimport { Input } from '@material-ui/core';\r\nimport useStore from '../../utils/apiStore';\r\nimport { useLongPress } from 'use-long-press';\r\nimport useSliderStyles from '../../components/SchemaForm/BladeSlider.styles';\r\nimport { useStyles, SettingsSlider, SettingsSwitch } from './SettingsComponents'\r\n\r\nconst UICard = () => {\r\n    const classes = useStyles();\r\n    const sliderClasses = useSliderStyles();\r\n\r\n    const config = useStore((state) => state.config);\r\n    const getSystemConfig = useStore((state) => state.getSystemConfig);\r\n    const setSystemConfig = useStore((state) => state.setSystemConfig);\r\n    const viewMode = useStore((state) => state.viewMode);\r\n    const setViewMode = useStore((state) => state.setViewMode);\r\n    const graphs = useStore((state) => state.graphs);\r\n    const toggleGraphs = useStore((state) => state.toggleGraphs);\r\n    const setFeatures = useStore((state) => state.setFeatures);\r\n    const showFeatures = useStore((state) => state.showFeatures);\r\n    const setShowFeatures = useStore((state) => state.setShowFeatures);\r\n    const features = useStore((state) => state.features);\r\n\r\n    const [fps, setFps] = useState(30)\r\n    const [pixelLength, setPixelLength] = useState(50)\r\n    const [active, setActive] = useState(false);\r\n    const [dev, setDev] = useState(false);\r\n\r\n    const longPress = useLongPress((e) => viewMode === 'expert' && setDev(true), {\r\n        treshhold: 1000,\r\n        captureEvent: true,\r\n    });    \r\n\r\n    const setSystemSetting = (setting, value) => {\r\n        setSystemConfig({ config: { [setting]: value } }).then(() => getSystemConfig());\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (typeof config.visualisation_fps === 'number') {\r\n            setFps(config.visualisation_fps)\r\n        }\r\n        if (typeof config.visualisation_maxlen === 'number') {\r\n            setPixelLength(config.visualisation_maxlen)\r\n        }\r\n    }, [config]);\r\n\r\n    useEffect(() => {\r\n        getSystemConfig()\r\n    }, []);\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n\r\n            <div className={`${classes.settingsRow} step-settings-three `}>\r\n                <label>Show Graphs</label>\r\n                <SettingsSwitch checked={graphs} onChange={(e) => toggleGraphs()} />\r\n            </div>\r\n            <div className={`${classes.settingsRow} step-settings-x `}>\r\n                <label {...longPress}>Expert Mode</label>\r\n                <SettingsSwitch checked={viewMode !== 'user'} onChange={(e) => viewMode === 'user' ? setViewMode(\"expert\") : setViewMode(\"user\")} />\r\n            </div>\r\n            {showFeatures['cloud'] && <div className={`${classes.settingsRow} step-settings-three `}>\r\n                <label>LedFx Cloud</label>\r\n                <SettingsSwitch checked={features['cloud']} onChange={(e) => setFeatures('cloud', !features['cloud'])} />\r\n            </div>}\r\n            {showFeatures['wled'] && <div className={`${classes.settingsRow} step-settings-three `}>\r\n                <label>WLED Integration</label>\r\n                <SettingsSwitch checked={features['wled']} onChange={(e) => setFeatures('wled', !features['wled'])} />\r\n            </div>}\r\n            {showFeatures['integrations'] && <div className={`${classes.settingsRow} step-settings-three `}>\r\n                <label>Integrations</label>\r\n                <SettingsSwitch checked={features['integrations']} onChange={(e) => setFeatures('integrations', !features['integrations'])} />\r\n            </div>}\r\n            {showFeatures['spotify'] && <div className={`${classes.settingsRow} step-settings-three `}>\r\n                <label>Spotify Embed</label>\r\n                <SettingsSwitch checked={features['spotify']} onChange={(e) => setFeatures('spotify', !features['spotify'])} />\r\n            </div>}\r\n            {showFeatures['formsettings'] && <div className={`${classes.settingsRow} step-settings-three `}>\r\n                <label>Form Settings</label>\r\n                <SettingsSwitch checked={features['formsettings']} onChange={(e) => setFeatures('formsettings', !features['formsettings'])} />\r\n            </div>}\r\n            {showFeatures['webaudio'] && <div className={`${classes.settingsRow} step-settings-three `}>\r\n                <label>WebAudio</label>\r\n                <SettingsSwitch checked={features['webaudio']} onChange={(e) => setFeatures('webaudio', !features['webaudio'])} />\r\n            </div>}\r\n            {showFeatures['waves'] && <div className={`${classes.settingsRow} step-settings-three `}>\r\n                <label>BG Waves</label>\r\n                <SettingsSwitch checked={features['waves']} onChange={(e) => setFeatures('waves', !features['waves'])} />\r\n            </div>}\r\n            {dev && <div className={`${classes.settingsRow} step-settings-x `}>\r\n                <label>Dev Mode</label>\r\n                <Input\r\n                    disableUnderline\r\n                    style={{\r\n                        marginLeft: '1rem',\r\n                        backgroundColor: 'rgb(57, 57, 61)',\r\n                        paddingLeft: '0.5rem',\r\n                        borderRadius: '5px',\r\n                        paddingTop: '3px',\r\n                        width: 50\r\n                    }}\r\n                    margin=\"dense\"\r\n                    onBlur={(e) => {\r\n                        if (e.target.value === 'clear') { setViewMode('user'); setShowFeatures('waves', false); setShowFeatures('cloud', false); setShowFeatures('wled', false); setShowFeatures('integrations', false); setShowFeatures('spotify', false); setShowFeatures('formsettings', false); setShowFeatures('webaudio', false); setFeatures('waves', false); setFeatures('cloud', false); setFeatures('wled', false); setFeatures('integrations', false); setFeatures('spotify', false); setFeatures('formsettings', false); setFeatures('webaudio', false); window.localStorage.removeItem('ledfx-theme'); window.localStorage.setItem('BladeMod', 0); window.location.reload() }\r\n                        if (e.target.value === 'BladeIsYeon') { setViewMode('expert'); setShowFeatures('cloud', true); setShowFeatures('waves', true); setShowFeatures('wled', true); setShowFeatures('integrations', true); setShowFeatures('spotify', true); setShowFeatures('formsettings', true); setShowFeatures('webaudio', true); setFeatures('waves', true); setFeatures('cloud', true); setFeatures('wled', true); setFeatures('integrations', true); setFeatures('spotify', true); setFeatures('formsettings', true); setFeatures('webaudio', true); window.localStorage.setItem('ledfx-theme', \"Dark\"); window.location.reload() }\r\n                        if (e.target.value === 'BladeCloud') { setShowFeatures('cloud', true) }\r\n                        if (e.target.value === 'BladeWled') { setShowFeatures('wled', true) }\r\n                        if (e.target.value === 'BladeIntegrations') { setShowFeatures('integrations', true) }\r\n                        if (e.target.value === 'BladeSpotify') { setShowFeatures('spotify', true) }\r\n                        if (e.target.value === 'BladeFormsettings') { setShowFeatures('formsettings', true) }\r\n                        if (e.target.value === 'BladeWebaudio') { setShowFeatures('webaudio', true) }\r\n                        if (e.target.value === 'BladeWaves') { setShowFeatures('waves', true) }\r\n                        if (e.target.value.startsWith('theme:')) { window.localStorage.setItem('ledfx-theme', e.target.value.replace('theme:', '')); window.location.reload() }\r\n                    }}\r\n                />\r\n            </div>}\r\n\r\n            {config.visualisation_fps && (<>\r\n                <div className={`${classes.settingsRow} step-settings-two`}>\r\n                    <label>Frontend FPS</label>\r\n                    <div style={{ flexGrow: 1 }}>\r\n                        <SettingsSlider\r\n                            value={fps}\r\n                            // marks={marks}\r\n                            // marks\r\n                            // color=\"\"\r\n                            step={1}\r\n                            // valueLabelDisplay=\"auto\"\r\n                            min={1}\r\n                            max={60}\r\n                            size=\"medium\"\r\n                            onChangeCommitted={(e, val) => setSystemSetting(\"visualisation_fps\", val)}\r\n                            onChange={(e, val) => {\r\n                                setFps(val);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <Input\r\n                        disableUnderline\r\n                        className={sliderClasses.input}\r\n                        style={{ width: 50 }}\r\n                        value={fps}\r\n                        margin=\"dense\"\r\n                        onFocus={() => setActive(true)}\r\n                        onChange={(e, val) => {\r\n                            setFps(val);\r\n                        }}\r\n                        onBlur={(e, val) => { setSystemSetting(\"visualisation_fps\", val) }}\r\n                        inputProps={{\r\n                            min: 1,\r\n                            max: 60,\r\n                            type: 'number',\r\n                            'aria-labelledby': 'input-slider',\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                <div className={`${classes.settingsRow} step-settings-three `}>\r\n                    <label>Frontend Pixels</label>\r\n                    <div style={{ flexGrow: 1 }}>\r\n                        <SettingsSlider\r\n                            value={pixelLength}\r\n                            // marks={marksPixelLength}\r\n                            step={1}\r\n                            valueLabelDisplay=\"auto\"\r\n                            min={1}\r\n                            max={300}\r\n                            onChangeCommitted={(e, val) => setSystemSetting(\"visualisation_maxlen\", val)}\r\n                            onChange={(e, val) => {\r\n                                setPixelLength(val);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <Input\r\n                        disableUnderline\r\n                        className={sliderClasses.input}\r\n                        value={pixelLength}\r\n                        style={{ width: 50 }}\r\n                        margin=\"dense\"\r\n                        onChange={(e, val) => {\r\n                            setPixelLength(val);\r\n                        }}\r\n                        onBlur={(e, val) => setSystemSetting(\"visualisation_maxlen\", val)}\r\n                        inputProps={{\r\n                            min: 1,\r\n                            max: 300,\r\n                            type: 'number',\r\n                            'aria-labelledby': 'input-slider',\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n            </>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UICard\r\n","import { useState, useEffect } from 'react';\r\nimport useStore from '../../utils/apiStore';\r\nimport { Button, Card, CardContent, CardHeader, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Divider, Link, Typography } from '@material-ui/core';\r\nimport { version as fversion } from '../../../package.json';\r\nimport GitInfo from 'react-git-info/macro';\r\n\r\nexport default function AboutDialog({ className, children, startIcon, title }) {\r\n    const config = useStore((state) => state.config);\r\n    const getInfo = useStore((state) => state.getInfo);\r\n    const gitInfo = GitInfo();\r\n\r\n    const [open, setOpen] = useState(false);\r\n    const [bcommit, setBcommit] = useState('');\r\n    const [bversion, setBversion] = useState('');\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    useEffect(async () => {\r\n        const info = await getInfo()\r\n        if (info && info.git_build_commit) {\r\n            setBcommit(info.git_build_commit)\r\n            setBversion(info.version)\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <Button size=\"small\" startIcon={startIcon} variant=\"outlined\" className={className} onClick={handleClickOpen}>\r\n                {children}\r\n            </Button>\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"about-dialog-title\"\r\n                aria-describedby=\"about-dialog-description\"\r\n                \r\n                PaperProps={{\r\n                    style: {  margin: '0 auto' }\r\n                }}\r\n            >\r\n                <DialogTitle id=\"about-dialog-title\">\r\n                    {\"About LedFx\"}\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    \r\n                        <div style={{ minWidth: 250 }}>\r\n                            <Card style={{ marginBottom: '1rem' }}>\r\n                                <CardHeader title=\"Backend\" />\r\n                                <CardContent style={{ paddingTop: 0 }}>\r\n                                <div style={{ display: 'flex', justifyContent: 'space-between'}}>version: <span>{bversion}</span> </div>\r\n                                <div style={{ display: 'flex', justifyContent: 'space-between'}}>commit: <Link href={`https://github.com/LedFx/LedFx/commit/${bcommit}`} target=\"_blank\">{bcommit.substring(0, 6)}</Link></div>\r\n                                <div style={{ display: 'flex', justifyContent: 'space-between'}}>config_version: <span>{config.configuration_version}</span> </div>    \r\n                                </CardContent>\r\n                            </Card>\r\n                            <Card>\r\n                                <CardHeader title=\"Frontend\" />\r\n                                <CardContent style={{ paddingTop: 0 }}>\r\n                                <div style={{ display: 'flex', justifyContent: 'space-between'}}>version: <span>{fversion}</span></div>\r\n                                <div style={{ display: 'flex', justifyContent: 'space-between'}}>commit: <Link href={`https://github.com/YeonV/LedFx-Frontend-v2/commit/${gitInfo.commit.hash}`} target=\"_blank\">{gitInfo.commit.shortHash}</Link></div>\r\n                                <div style={{ display: 'flex', justifyContent: 'space-between'}}>config_version: <span>{localStorage.getItem('ledfx-frontend')}</span></div>\r\n                                </CardContent>\r\n                            </Card>              \r\n                        </div>\r\n                    \r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose} autoFocus>\r\n                        OK\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\n","import useStore from '../../utils/apiStore';\r\nimport { deleteFrontendConfig, download } from '../../utils/helpers';\r\nimport { CloudUpload, CloudDownload, PowerSettingsNew, Delete, Refresh, Info } from '@material-ui/icons';\r\nimport PopoverSure from '../../components/Popover';\r\n\r\nimport AboutDialog from '../../components/Dialogs/AboutDialog';\r\nimport isElectron from 'is-electron';\r\nimport { useStyles, SettingsButton } from './SettingsComponents'\r\n\r\nconst GeneralCard = () => {\r\n\r\n    const classes = useStyles();\r\n    const getFullConfig = useStore((state) => state.getFullConfig);\r\n    const deleteSystemConfig = useStore((state) => state.deleteSystemConfig);\r\n    const importSystemConfig = useStore((state) => state.importSystemConfig);\r\n    const shutdown = useStore((state) => state.shutdown);\r\n    const restart = useStore((state) => state.restart);\r\n    const disconnected = useStore((state) => state.disconnected);\r\n\r\n    const configDownload = async () => {\r\n        getFullConfig().then((newConfig) => download(\r\n            newConfig,\r\n            'config.json',\r\n            'application/json',\r\n        ))\r\n    };\r\n\r\n    const configDelete = async () => {\r\n        deleteFrontendConfig();\r\n        deleteSystemConfig().then(() => window.location = window.location.href)\r\n    }\r\n\r\n    const fileChanged = async (e) => {\r\n        const fileReader = new FileReader();\r\n        fileReader.readAsText(e.target.files[0], \"UTF-8\");\r\n        fileReader.onload = (e) => {\r\n            importSystemConfig(e.target.result).then(() => (window.location = window.location.href));\r\n        };\r\n    }\r\n\r\n    return (\r\n        <div className={'step-settings-four'} style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n            <div style={{ flex: '0 0 49%' }}>\r\n                <SettingsButton startIcon={<CloudUpload />} onClick={configDownload}>\r\n                    Export Config\r\n                </SettingsButton>\r\n                <PopoverSure\r\n                    startIcon={<Delete />}\r\n                    label=\"Reset Config\"\r\n                    variant=\"outlined\"\r\n                    color=\"inherit\"\r\n                    className={classes.actionButton}\r\n                    onConfirm={configDelete}\r\n                    direction=\"center\"\r\n                    vertical=\"top\"\r\n                    wrapperStyle={{\r\n                        marginTop: '0.5rem',\r\n                        flexBasis: '49%',\r\n                    }}\r\n                />\r\n                <input\r\n                    hidden\r\n                    accept=\"application/json\"\r\n                    id=\"contained-button-file\"\r\n                    type=\"file\"\r\n                    onChange={(e) => fileChanged(e)}\r\n                />\r\n                <label htmlFor=\"contained-button-file\" style={{ width: '100%', flexBasis: '49%' }}>\r\n                    <SettingsButton component=\"span\" startIcon={<CloudDownload />}>\r\n                        Import Config\r\n                    </SettingsButton>\r\n                </label>\r\n                {isElectron() && window.process?.argv.indexOf(\"integratedCore\") !== -1 &&\r\n                    <SettingsButton startIcon={<CloudUpload />} onClick={() => window.api.send('toMain', \"open-config\")}>\r\n                        Config Location\r\n                    </SettingsButton>}\r\n            </div>\r\n            <div style={{ flex: '0 0 49%' }}>\r\n                <AboutDialog startIcon={<Info />} className={classes.actionButton}>\r\n                    About\r\n                </AboutDialog>\r\n                <SettingsButton disabled={disconnected} startIcon={<Refresh />} onClick={restart}>\r\n                    {isElectron() && window.process?.argv.indexOf(\"integratedCore\") !== -1 ? \"Restart Core\" : \"Restart\"}\r\n                </SettingsButton>\r\n\r\n                <SettingsButton disabled={disconnected} startIcon={<PowerSettingsNew />} onClick={shutdown}>\r\n                    {isElectron() && window.process?.argv.indexOf(\"integratedCore\") !== -1 ? \"Shutdown Core\" : \"Shutdown\"}\r\n                </SettingsButton>\r\n                {isElectron() && window.process?.argv.indexOf(\"integratedCore\") !== -1 &&\r\n                    <SettingsButton startIcon={<PowerSettingsNew />} onClick={() => { window.api.send('toMain', \"start-core\") }}>\r\n                        Start Core\r\n                    </SettingsButton>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GeneralCard\r\n","import { useState } from 'react';\r\nimport useStore from '../../utils/apiStore';\r\nimport { Accordion, AccordionSummary, Typography, AccordionDetails } from '@material-ui/core';\r\nimport { ExpandMore } from '@material-ui/icons';\r\nimport AudioCard from './AudioCard';\r\nimport WledCard from './WledCard';\r\nimport Webaudio from './Webaudio';\r\nimport ClientAudioCard from './ClientAudioCard';\r\nimport { useStyles } from './SettingsComponents'\r\nimport UICard from './UICard';\r\nimport GeneralCard from './GeneralCard';\r\n\r\nconst Settings = () => {\r\n\r\n  const classes = useStyles();\r\n  const features = useStore((state) => state.features);\r\n  const [expanded, setExpanded] = useState(false);\r\n\r\n  const handleExpanded = (panel) => (event, isExpanded) => {\r\n    setExpanded(isExpanded ? panel : false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.card}>\r\n        <Accordion expanded={expanded === 'panel3'} onChange={handleExpanded('panel3')}>\r\n          <AccordionSummary\r\n            expandIcon={<ExpandMore />}\r\n            aria-controls=\"panel3a-content\"\r\n            id=\"panel3a-header\"\r\n          >\r\n            <Typography>General</Typography>\r\n          </AccordionSummary>\r\n          <AccordionDetails>\r\n            <GeneralCard />\r\n          </AccordionDetails>\r\n        </Accordion>\r\n\r\n        <Accordion expanded={expanded === 'panel1'} onChange={handleExpanded('panel1')}>\r\n          <AccordionSummary\r\n            expandIcon={<ExpandMore />}\r\n            aria-controls=\"panel1a-content\"\r\n            id=\"panel1a-header\"\r\n          >\r\n            <Typography>Audio Settings</Typography>\r\n          </AccordionSummary>\r\n          <AccordionDetails>\r\n            <div>\r\n              {features['webaudio'] &&\r\n                <Webaudio style={{ position: 'absolute', right: '3.5rem', top: '0.3rem' }} />\r\n              }\r\n              <ClientAudioCard />\r\n              <AudioCard className={`${classes.audioCard} step-settings-one`} />\r\n            </div>\r\n          </AccordionDetails>\r\n        </Accordion>\r\n\r\n        <Accordion expanded={expanded === 'panel2'} onChange={handleExpanded('panel2')}>\r\n          <AccordionSummary\r\n            expandIcon={<ExpandMore />}\r\n            aria-controls=\"panel2a-content\"\r\n            id=\"panel2a-header\"\r\n          >\r\n            <Typography>UI Settings</Typography>\r\n          </AccordionSummary>\r\n          <AccordionDetails>\r\n            <UICard />\r\n          </AccordionDetails>\r\n        </Accordion>\r\n\r\n        {features['wled'] &&\r\n          <Accordion expanded={expanded === 'panel4'} onChange={handleExpanded('panel4')}>\r\n            <AccordionSummary\r\n              expandIcon={<ExpandMore />}\r\n              aria-controls=\"panel4a-content\"\r\n              id=\"panel4a-header\"\r\n            >\r\n              <Typography>WLED Settings</Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n              <div>\r\n                <WledCard className={`${classes.card} step-settings-five`} />\r\n              </div>\r\n            </AccordionDetails>\r\n          </Accordion>}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport const useIntegrationCardStyles = makeStyles((theme) => ({\r\n    integrationCardPortrait: {\r\n      padding: '1rem',\r\n      margin: '0.5rem',\r\n      display: 'flex',\r\n      alignItems: 'flex-start',\r\n      flexDirection: 'column',\r\n      width: '290px',\r\n      justifyContent: 'space-between',\r\n      '@media (max-width: 580px)': {\r\n        maxWidth: '97vw',\r\n        margin: '0 auto',\r\n        height: 'unset',\r\n      }\r\n    },\r\n    integrationLink: {\r\n      flexGrow: 0,\r\n      padding: '0 0.5rem',\r\n      textDecoration: 'none',\r\n      fontSize: 'large',\r\n      color: 'inherit',\r\n  \r\n      '&:hover': {\r\n        color: theme.palette.primary.main,\r\n      },\r\n    },\r\n    integrationIcon: {\r\n      margingBottom: '4px',\r\n      marginRight: '0.5rem',\r\n      position: 'relative',\r\n      fontSize: '50px',\r\n    },\r\n    integrationCardContainer: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      flexDirection: 'column',\r\n      width: '100%',\r\n      height: '100%',\r\n      justifyContent: 'space-between',\r\n      '@media (max-width: 580px)': {\r\n        flexDirection: 'row',\r\n      },\r\n    },\r\n    iconMedia: {\r\n      height: 140,\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      margin: '0 auto',\r\n      fontSize: 100,\r\n      '& > span:before': {\r\n        position: 'relative',\r\n      },\r\n    },\r\n    editButton: {\r\n      minWidth: 32,\r\n      marginLeft: theme.spacing(1),\r\n      '@media (max-width: 580px)': {\r\n        minWidth: 'unset',\r\n      },\r\n    },\r\n    editButtonMobile: {\r\n      minWidth: 32,\r\n      marginLeft: theme.spacing(1),\r\n      '@media (max-width: 580px)': {\r\n        minWidth: 'unset',\r\n        flexGrow: 1,\r\n      },\r\n    },\r\n    expand: {\r\n      display: 'none',\r\n      transform: 'rotate(0deg)',\r\n      marginLeft: 'auto',\r\n      transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n      }),\r\n      '@media (max-width: 580px)': {\r\n        display: 'block'\r\n      },\r\n    },\r\n    expandOpen: {\r\n      transform: 'rotate(180deg)',\r\n    },\r\n    buttonBar: {    \r\n      '@media (max-width: 580px)': {\r\n        display: 'none'\r\n      },\r\n    },\r\n    buttonBarMobile: {\r\n      width: '100%',\r\n      textAlign: 'right',\r\n    },\r\n    buttonBarMobileWrapper: {\r\n      display: 'flex',\r\n      margin: '0 -1rem -1rem -1rem',\r\n      padding: '0.5rem 0.5rem 1.5rem 0.5rem',\r\n      background: 'rgba(0,0,0,0.4)',\r\n      '& > div, & > button': {\r\n        flexGrow: 1,\r\n        flexBasis: '30%'\r\n      },\r\n      '& > div > button': {\r\n        width: '100%'\r\n      }\r\n    },\r\n  }));","import { useState } from 'react';\r\nimport clsx from 'clsx';\r\nimport Card from '@material-ui/core/Card';\r\nimport Button from '@material-ui/core/Button';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport useStore from '../../../utils/apiStore';\r\nimport Popover from '../../../components/Popover';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { CardActions, CardHeader, Switch } from '@material-ui/core';\r\nimport { useIntegrationCardStyles } from './IntegrationCard.styles'\r\n\r\nconst IntegrationCard = ({ integration }) => {\r\n\r\n  const classes = useIntegrationCardStyles();\r\n  const getIntegrations = useStore((state) => state.getIntegrations);\r\n  const integrations = useStore((state) => state.integrations);\r\n  const deleteIntegration = useStore((state) => state.deleteIntegration);\r\n  const toggleIntegration = useStore((state) => state.toggleIntegration);\r\n  const setDialogOpenAddIntegration = useStore((state) => state.setDialogOpenAddIntegration);\r\n\r\n  const [expanded, setExpanded] = useState(false);\r\n  const variant = 'outlined';\r\n  const color = 'inherit';\r\n\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n\r\n  const handleDeleteDevice = (integration) => {\r\n    deleteIntegration(integrations[integration].id).then(() => {\r\n      getIntegrations();\r\n    });\r\n  };\r\n\r\n  const handleEditIntegration = (integration) => {\r\n    setDialogOpenAddIntegration(true, integration)\r\n  };\r\n  const handleActivateIntegration = (integration) => {\r\n    toggleIntegration({\r\n      id: integration.id\r\n    }).then(() => getIntegrations())\r\n  };\r\n\r\n  return integrations[integration]?.config ? (\r\n    <Card className={classes.integrationCardPortrait}>\r\n      <CardHeader \r\n        title={integrations[integration].config.name} \r\n        subheader={integrations[integration].config.description} \r\n        action={\r\n          <Switch aria-label=\"status\" checked={integrations[integration].active} onClick={() => handleActivateIntegration(integrations[integration])} />\r\n        }\r\n      />\r\n      <CardActions style={{alignSelf: 'flex-end'}}>\r\n      <div className={classes.integrationCardContainer}>\r\n        <IconButton\r\n          className={clsx(classes.expand, {\r\n            [classes.expandOpen]: expanded,\r\n          })}\r\n          onClick={handleExpandClick}\r\n          aria-expanded={expanded}\r\n          aria-label=\"show more\"\r\n        >\r\n          <ExpandMoreIcon />\r\n        </IconButton>\r\n        <div className={classes.buttonBar}>\r\n          <Popover\r\n            variant={variant}\r\n            color={color}\r\n            onConfirm={() => handleDeleteDevice(integration)}\r\n            className={classes.editButton}\r\n          />\r\n\r\n          <Button\r\n            variant={variant}\r\n            size=\"small\"\r\n            color={color}\r\n            className={classes.editButton}\r\n            onClick={() => handleEditIntegration(integration)}\r\n          >\r\n            <EditIcon />\r\n          </Button>\r\n          <Button\r\n            variant={variant}\r\n            size=\"small\"\r\n            color={color}\r\n            className={classes.editButton}\r\n            onClick={() => console.log(\"coming soon...\")}\r\n            disabled\r\n          >\r\n            <AddIcon />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit className={classes.buttonBarMobile}>\r\n        <div className={classes.buttonBarMobileWrapper}>\r\n          <Popover\r\n            variant={variant}\r\n            color={color}\r\n            onConfirm={() => handleDeleteDevice(integration)}\r\n            className={classes.editButton}\r\n          />         \r\n          <Button\r\n            variant={variant}\r\n            size=\"small\"\r\n            color={color}\r\n            className={classes.editButtonMobile}\r\n            onClick={() => handleEditIntegration(integration)}\r\n          >\r\n            <EditIcon />\r\n          </Button>\r\n        </div>\r\n      </Collapse>\r\n      </CardActions>\r\n     \r\n    </Card>\r\n  ) :(\r\n    <></>\r\n  )\r\n}\r\n\r\nexport default IntegrationCard\r\n","import { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport useStore from '../../utils/apiStore';\r\nimport IntegrationCard from './IntegrationCard/IntegrationCard';\r\nimport NoYet from '../../components/NoYet';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  cardWrapper: {\r\n    display: 'flex', flexWrap: 'wrap', margin: '-0.5rem', justifyContent: 'center'\r\n  },\r\n  '@media (max-width: 580px)' : {\r\n    cardWrapper:{\r\n      justifyContent: 'center'\r\n    }\r\n  }\r\n}));\r\n\r\nconst Integrations = () => {\r\n  const classes = useStyles();\r\n  const getIntegrations = useStore((state) => state.getIntegrations);\r\n  const integrations = useStore((state) => state.integrations);\r\n\r\n  useEffect(() => {\r\n    getIntegrations();\r\n  }, [getIntegrations]);\r\n  return (\r\n    <div className={classes.cardWrapper}>\r\n    {integrations && Object.keys(integrations).length ? Object.keys(integrations).map((integration, i) => (\r\n      <IntegrationCard integration={integration} key={i} />\r\n    )) : (<NoYet type=\"Integration\" />)}\r\n  </div>\r\n  );\r\n};\r\n\r\nexport default Integrations;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\r\nimport axios from 'axios';\r\n\r\nconst cloud = axios.create({\r\n  baseURL: 'https://strapi.yeonv.com',\r\n});\r\n// const backendUrl = process.env.REACT_APP_BACKEND_URL;\r\nconst backendUrl = \"https://strapi.yeonv.com\";\r\n\r\nconst LoginRedirect = (props) => {\r\n  const [text, setText] = useState('Loading...');\r\n  const location = useLocation();\r\n  const params = useParams();\r\n  const history = useHistory();\r\n  // console.log(params, props, location)\r\n  useEffect(() => {\r\n    // Successfully logged with the provider\r\n    // Now logging with strapi by using the access_token (given by the provider) in props.location.search\r\n    fetch(`${backendUrl}/auth/${params.providerName}/callback${location.search}`)\r\n      .then(res => {\r\n        if (res.status !== 200) {\r\n          throw new Error(`Couldn't login to Strapi. Status: ${res.status}`);\r\n        }\r\n        return res;\r\n      })\r\n      .then(res => res.json())\r\n      .then(async res => {\r\n        // Successfully logged with Strapi\r\n        // Now saving the jwt to use it for future authenticated requests to Strapi\r\n        // console.log(res)\r\n        localStorage.setItem('jwt', res.jwt);\r\n        localStorage.setItem('username', res.user.username);\r\n        const me = await cloud.get('users/me', {\r\n          headers: {\r\n            Authorization:\r\n              `Bearer ${localStorage.getItem('jwt')}`,\r\n          }\r\n        })\r\n        const user = await me.data\r\n        // console.log(user)\r\n        localStorage.setItem('ledfx-cloud-userid', user.id);\r\n        localStorage.setItem('ledfx-cloud-role', user.role.type);\r\n        setText(`You have been successfully logged in as ${localStorage.getItem('username')}. You will be redirected in a few seconds...`);\r\n        setTimeout(() => history.push('/devices'), 2000); // Redirect to homepage after 3 sec\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n        setText('An error occurred, please see the developer console.')\r\n      });\r\n  }, [history, location.search, params.providerName]);\r\n\r\n  return <p>{text}</p>\r\n};\r\n\r\nexport default LoginRedirect;","import React from 'react'\r\n\r\nconst WaveLines = ({\r\nbackgroundColor = '#030303',\r\nstartColor = '#1db954',\r\nstopColor = '#030303',\r\nwidth=3000,\r\nheight=1615,\r\nduration=\"20s\"\r\n}) => {\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" style={{margin: 'auto', background: backgroundColor, display: 'block', zIndex: -1, position:'absolute', opacity: 0.7}} width={width} height={height} preserveAspectRatio=\"xMidYMid\" viewBox={`0 0 ${width} ${height}`}>\r\n      <g transform={`translate(${width/2},${height/2}) scale(1,-1) translate(-${width/2},-${height/2})`}><linearGradient id=\"wavelines\" x1=\"0\" x2=\"1\" y1=\"0\" y2=\"0\">\r\n        <stop stopColor={startColor} offset=\"0\"></stop>\r\n        <stop stopColor={stopColor} offset=\"1\"></stop>\r\n      </linearGradient><path d=\"\" fill=\"url(#wavelines)\" opacity=\"0.4\">\r\n          <animate attributeName=\"d\" dur={duration} repeatCount=\"indefinite\" keyTimes=\"0;0.333;0.667;1\" calcmod=\"spline\" keySplines=\"0.2 0 0.2 1;0.2 0 0.2 1;0.2 0 0.2 1\" begin=\"0s\" values={`M0 0L 0 678.0663040506684Q 187.5 656.5089408387066  375 608.5301242592661T 750 472.46808333584056T 1125 602.0034795011228T 1500 551.8543395030395T 1875 615.9310318468375T 2250 340.25046463956204T 2625 294.06798157613395T ${width} 401.3047391284752L ${width} 0 Z;M0 0L 0 572.6625989140381Q 187.5 701.4967983856853  375 671.2972435339148T 750 661.5434706869476T 1125 425.93060082427337T 1500 431.41686787116885T 1875 559.6981694955109T 2250 536.4073317324428T 2625 506.3114606793714T ${width} 419.58513139636244L ${width} 0 Z;M0 0L 0 574.910558358432Q 187.5 548.8529002422536  375 512.3628275962079T 750 553.1600983780664T 1125 678.0408232070325T 1500 448.78082561775216T 1875 467.6119670243678T 2250 291.57321777209694T 2625 257.7529144487023T ${width} 315.5832363486409L ${width} 0 Z;M0 0L 0 678.0663040506684Q 187.5 656.5089408387066  375 608.5301242592661T 750 472.46808333584056T 1125 602.0034795011228T 1500 551.8543395030395T 1875 615.9310318468375T 2250 340.25046463956204T 2625 294.06798157613395T ${width} 401.3047391284752L ${width} 0 Z`}></animate>\r\n        </path><path d=\"\" fill=\"url(#wavelines)\" opacity=\"0.4\">\r\n          <animate attributeName=\"d\" dur={duration} repeatCount=\"indefinite\" keyTimes=\"0;0.333;0.667;1\" calcmod=\"spline\" keySplines=\"0.2 0 0.2 1;0.2 0 0.2 1;0.2 0 0.2 1\" begin=\"-0.9523809523809523s\" values={`M0 0L 0 547.5244921398938Q 187.5 542.6468405913107  375 512.6120422300088T 750 520.2748817945838T 1125 555.2971449031277T 1500 630.6957411367166T 1875 465.2397849009425T 2250 478.84203101514623T 2625 302.1900440534702T ${width} 412.41476684835135L ${width} 0 Z;M0 0L 0 805.5936624178236Q 187.5 582.8232930253387  375 560.2902059922465T 750 485.7097979161337T 1125 661.8628081473761T 1500 474.04725899939945T 1875 367.803077574558T 2250 573.7139634112334T 2625 497.1964047810817T ${width} 289.98579209100916L ${width} 0 Z;M0 0L 0 548.0275168368934Q 187.5 721.0313853600588  375 686.0064478828835T 750 466.6920610327345T 1125 631.238948189653T 1500 499.3600268344053T 1875 591.1213825899338T 2250 557.7283182397808T 2625 279.0836606779762T ${width} 442.889396137286L ${width} 0 Z;M0 0L 0 547.5244921398938Q 187.5 542.6468405913107  375 512.6120422300088T 750 520.2748817945838T 1125 555.2971449031277T 1500 630.6957411367166T 1875 465.2397849009425T 2250 478.84203101514623T 2625 302.1900440534702T ${width} 412.41476684835135L ${width} 0 Z`}></animate>\r\n        </path><path d=\"\" fill=\"url(#wavelines)\" opacity=\"0.4\">\r\n          <animate attributeName=\"d\" dur={duration} repeatCount=\"indefinite\" keyTimes=\"0;0.333;0.667;1\" calcmod=\"spline\" keySplines=\"0.2 0 0.2 1;0.2 0 0.2 1;0.2 0 0.2 1\" begin=\"-1.9047619047619047s\" values={`M0 0L 0 664.1850177088907Q 187.5 524.4869189119225  375 493.50264991054144T 750 675.5030439398979T 1125 415.18875184359223T 1500 387.8134890426991T 1875 561.612987481888T 2250 505.5323230960811T 2625 352.10692730241755T ${width} 429.03049801156743L ${width} 0 Z;M0 0L 0 601.7221802394107Q 187.5 671.0756443726915  375 633.4979631935103T 750 661.9084009763321T 1125 694.7808979231746T 1500 501.284817854725T 1875 518.7712277074359T 2250 565.9994157146581T 2625 366.2649022434898T ${width} 362.18281732977454L ${width} 0 Z;M0 0L 0 716.0327322450205Q 187.5 595.569372140571  375 556.2884151120093T 750 593.0098401621457T 1125 636.6851868849533T 1500 561.6988481068686T 1875 423.0195647384943T 2250 593.4482787188608T 2625 376.9390246013457T ${width} 260.84029335622205L ${width} 0 Z;M0 0L 0 664.1850177088907Q 187.5 524.4869189119225  375 493.50264991054144T 750 675.5030439398979T 1125 415.18875184359223T 1500 387.8134890426991T 1875 561.612987481888T 2250 505.5323230960811T 2625 352.10692730241755T ${width} 429.03049801156743L ${width} 0 Z`}></animate>\r\n        </path><path d=\"\" fill=\"url(#wavelines)\" opacity=\"0.4\">\r\n          <animate attributeName=\"d\" dur={duration} repeatCount=\"indefinite\" keyTimes=\"0;0.333;0.667;1\" calcmod=\"spline\" keySplines=\"0.2 0 0.2 1;0.2 0 0.2 1;0.2 0 0.2 1\" begin=\"-2.8571428571428568s\" values={`M0 0L 0 656.269958368834Q 187.5 636.6645478258729  375 597.9229569087314T 750 589.4752189469515T 1125 511.97632187462557T 1500 448.85828240648596T 1875 439.74420403128204T 2250 332.18235817526073T 2625 491.62559874719113T ${width} 498.35811701250026L ${width} 0 Z;M0 0L 0 755.7196436626413Q 187.5 672.9434402576483  375 625.3798731561786T 750 645.1424913755076T 1125 588.0932301693053T 1500 394.3784031810203T 1875 536.236350379975T 2250 487.73073362414334T 2625 565.7275729268961T ${width} 481.6642711668175L ${width} 0 Z;M0 0L 0 720.0409718720259Q 187.5 622.5092851617056  375 583.3273727288689T 750 729.3040626143495T 1125 702.6997687548346T 1500 393.8860309651117T 1875 592.4938333249283T 2250 443.7141604175665T 2625 341.08389200517377T ${width} 516.6595504856689L ${width} 0 Z;M0 0L 0 656.269958368834Q 187.5 636.6645478258729  375 597.9229569087314T 750 589.4752189469515T 1125 511.97632187462557T 1500 448.85828240648596T 1875 439.74420403128204T 2250 332.18235817526073T 2625 491.62559874719113T ${width} 498.35811701250026L ${width} 0 Z`}></animate>\r\n        </path><path d=\"\" fill=\"url(#wavelines)\" opacity=\"0.4\">\r\n          <animate attributeName=\"d\" dur={duration} repeatCount=\"indefinite\" keyTimes=\"0;0.333;0.667;1\" calcmod=\"spline\" keySplines=\"0.2 0 0.2 1;0.2 0 0.2 1;0.2 0 0.2 1\" begin=\"-3.8095238095238093s\" values={`M0 0L 0 792.9497830085429Q 187.5 574.7539539243503  375 536.0447741597799T 750 654.6933169872852T 1125 408.0289783671818T 1500 361.4965092910596T 1875 502.87598124339047T 2250 360.0980786483504T 2625 542.8135866665518T ${width} 258.493090209655L ${width} 0 Z;M0 0L 0 570.8691052665881Q 187.5 726.3521516590787  375 696.3921638815109T 750 503.4034390717407T 1125 559.2601543660331T 1500 606.5954032095979T 1875 462.452296894607T 2250 323.7482918776023T 2625 440.37662921797676T ${width} 484.63478356425105L ${width} 0 Z;M0 0L 0 628.67470185446Q 187.5 734.8167005707063  375 696.4723941063324T 750 717.0603234624101T 1125 487.6614680972984T 1500 424.86932559846224T 1875 444.7439859835379T 2250 502.4029739631909T 2625 293.3416583052858T ${width} 206.87528478034812L ${width} 0 Z;M0 0L 0 792.9497830085429Q 187.5 574.7539539243503  375 536.0447741597799T 750 654.6933169872852T 1125 408.0289783671818T 1500 361.4965092910596T 1875 502.87598124339047T 2250 360.0980786483504T 2625 542.8135866665518T ${width} 258.493090209655L ${width} 0 Z`}></animate>\r\n        </path></g>\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default WaveLines\r\n\r\n","import { useState, useEffect } from 'react';\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height\r\n  };\r\n}\r\n\r\nexport default function useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}","import { useEffect } from 'react';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport clsx from 'clsx';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport useStore from './utils/apiStore';\r\nimport ScrollToTop from './utils/scrollToTop';\r\nimport ws, { WsContext, HandleWs } from \"./utils/Websocket\";\r\nimport { BladeDarkTheme, BladeDarkOrangeTheme, BladeLightTheme, BladeDarkGreenTheme, BladeDarkBlueTheme, BladeDarkGreyTheme } from './AppThemes'\r\nimport useStyles from './App.styles';\r\nimport './App.css';\r\nimport './assets/materialdesignicons.css';\r\nimport LeftBar from './components/Bars/BarLeft';\r\nimport TopBar from './components/Bars/BarTop';\r\nimport BottomBar from './components/Bars/BarBottom';\r\nimport MessageBar from './components/Bars/BarMessage';\r\nimport NoHostDialog from './components/Dialogs/NoHostDialog';\r\nimport Home from './pages/Home';\r\nimport Devices from './pages/Devices/Devices';\r\nimport Device from './pages/Device/Device';\r\nimport Scenes from './pages/Scenes/Scenes';\r\nimport Settings from './pages/Settings/Settings';\r\nimport Integrations from './pages/Integrations/Integrations';\r\nimport { deleteFrontendConfig, initFrontendConfig } from './utils/helpers';\r\nimport LoginRedirect from './pages/LoginRedirect';\r\nimport isElectron from 'is-electron';\r\nimport WaveLines from './components/Icons/waves';\r\nimport useWindowDimensions from './utils/useWindowDimension';\r\n\r\n\r\nexport default function App() {\r\n  const classes = useStyles();\r\n  const leftBarOpen = useStore((state) => state.ui.bars && state.ui.bars.leftBar.open);\r\n  const getVirtuals = useStore((state) => state.getVirtuals);\r\n  const getSystemConfig = useStore((state) => state.getSystemConfig);\r\n  const getSchemas = useStore((state) => state.getSchemas);\r\n  const shutdown = useStore((state) => state.shutdown);\r\n  const features = useStore((state) => state.features);\r\n\r\n  const { height, width } = useWindowDimensions();\r\n\r\n  const ledfxTheme = window.localStorage.getItem('ledfx-theme') || (window.location.origin === 'https://my.ledfx.app' ? 'DarkGreen' : 'Dark');\r\n  const ledfxThemes = {\r\n    \"Dark\": BladeDarkTheme,\r\n    \"DarkOrange\": BladeDarkOrangeTheme,\r\n    \"Light\": BladeLightTheme,\r\n    \"DarkGreen\": BladeDarkGreenTheme,\r\n    \"DarkBlue\": BladeDarkBlueTheme,\r\n    \"DarkGrey\": BladeDarkGreyTheme\r\n  }\r\n\r\n  useEffect(() => {\r\n    getVirtuals();\r\n    getSystemConfig();\r\n    getSchemas();\r\n  }, [getVirtuals, getSystemConfig, getSchemas]);\r\n\r\n  useEffect(() => {\r\n    initFrontendConfig();\r\n  }, []);\r\n\r\n  window.api?.receive('fromMain', (parameters) => {\r\n    if (parameters === 'shutdown') {\r\n      shutdown()\r\n    }\r\n    if (parameters === 'clear-frontend') {\r\n      deleteFrontendConfig()\r\n    }\r\n  });\r\n\r\n  return (\r\n    <MuiThemeProvider theme={ledfxThemes[ledfxTheme || 'Dark']}>\r\n      <WsContext.Provider value={ws}>\r\n        <div className={classes.root} style={{ paddingTop: isElectron() ? '30px' : 0 }}>\r\n          <CssBaseline />\r\n          <Router basename={process.env.PUBLIC_URL}>\r\n            <ScrollToTop />\r\n            <HandleWs />\r\n            <MessageBar />\r\n            <TopBar />\r\n            <LeftBar />\r\n            <main\r\n              className={clsx(classes.content, {\r\n                [classes.contentShift]: leftBarOpen,\r\n              })}\r\n            >\r\n              <div className={classes.drawerHeader} />\r\n              <Switch>\r\n                <Route exact path=\"/connect/:providerName/redirect\" component={LoginRedirect} />\r\n                <Route exact path=\"/\" component={Home} />\r\n                <Route path=\"/devices\" component={Devices} />\r\n                <Route path=\"/device/:virtId\" component={Device} />\r\n                <Route path=\"/scenes\" component={Scenes} />\r\n                <Route path=\"/integrations\" component={Integrations} />\r\n                <Route path=\"/settings\" component={Settings} />\r\n              </Switch>\r\n              <NoHostDialog />\r\n            </main>\r\n            <BottomBar />\r\n          </Router>\r\n          {features['waves'] && <WaveLines\r\n            startColor={ledfxThemes[ledfxTheme || 'Dark'].palette.primary.main}\r\n            stopColor={ledfxThemes[ledfxTheme || 'Dark'].palette.accent.main || '#ffdc0f'}\r\n            width={width - 8}\r\n            height={height}\r\n          />}\r\n        </div>\r\n      </WsContext.Provider>\r\n    </MuiThemeProvider>\r\n  );\r\n}\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({\r\n      getCLS, getFID, getFCP, getLCP, getTTFB,\r\n    }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\n\r\nclass ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { hasError: false };\r\n    }\r\n\r\n    static getDerivedStateFromError(error) {\r\n        // Update state so the next render will show the fallback UI.\r\n        return { hasError: true };\r\n    }\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        // You can also log the error to an error reporting service\r\n        // logErrorToMyService(error, errorInfo);\r\n        console.log(error, errorInfo);\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hasError) {\r\n            // You can render any custom fallback UI\r\n            return <div style={{\r\n                maxWidth: 360, width: '100%', display: 'flex',\r\n                flexDirection: 'column',\r\n                justifyContent: 'center',\r\n                textAlign: 'center',\r\n                margin: '0 auto',\r\n                paddingTop: '3rem'\r\n            }}>\r\n                <h1>Something went wrong</h1>\r\n                <p>\r\n                    Deleting the browser's frontend-data might help,<br />\r\n                    if there is old config data left.\r\n                </p>\r\n                <p> Refresh page after cleaing data... </p>\r\n                <button style={{ height: 40, borderRadius: 10, border: '1px solid #999', color: '#fff', backgroundColor: '#600000', cursor: 'pointer'}} onClick={() => {\r\n                    window.localStorage.removeItem('undefined')\r\n                    window.localStorage.removeItem('ledfx-host')\r\n                    window.localStorage.removeItem('ledfx-hosts')\r\n                    window.localStorage.removeItem('ledfx-frontend')\r\n                    window.localStorage.removeItem('ledfx-cloud-role')\r\n                    window.localStorage.removeItem('ledfx-cloud-userid')\r\n                    window.localStorage.removeItem('ledfx-theme')\r\n                    window.localStorage.removeItem('jwt')\r\n                    window.localStorage.removeItem('username')\r\n                    window.localStorage.removeItem('BladeMod')\r\n                    window.location.reload()\r\n                }}>Clear Browser-Data</button><br />            \r\n            </div>;\r\n        }\r\n\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary","import ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport ErrorBoundary from './utils/ErrorBoundary';\r\n\r\nReactDOM.render(\r\n  // <React.StrictMode>\r\n  <ErrorBoundary>\r\n    <App />\r\n  </ErrorBoundary>,\r\n  // </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}